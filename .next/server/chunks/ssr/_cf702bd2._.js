module.exports=[3130,a=>{"use strict";var b=a.i(64781),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},97234,a=>{"use strict";var b=a.i(64781),c=a.i(89982),d=a.i(3130),e=a.i(70854),f=a.i(61237);let g=(0,f.default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),h=(0,f.default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var i=a.i(6665),j=a.i(40076);let k=(0,f.default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),l=(0,f.default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var m=a.i(70246);function n(){let{toast:a}=(0,m.useToast)(),[f,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(!0);(0,c.useEffect)(()=>{q()},[]);let q=async()=>{try{let b=await fetch("/api/users/account-stats",{credentials:"include"}),c=await b.json();b.ok&&c.status?n(c.data):a({title:"Error",description:c.message||"Failed to fetch account statistics"})}catch(b){a({title:"Error",description:b.message||"An error occurred"})}finally{p(!1)}};if(o)return(0,b.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,b.jsx)(l,{className:"w-8 h-8 animate-spin text-blue-600"})});if(!f)return(0,b.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:"No data available"})});let r=f.user_type_distribution.individual+f.user_type_distribution.corporate,s=f.onboarding_status.onboarded,t=f.risk_assessment.total_count>0?(f.risk_assessment.high_risk_count/f.risk_assessment.total_count*100).toFixed(0):0;return(0,b.jsxs)("div",{className:"space-y-6 max-w-7xl",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(e.FileText,{className:"w-6 h-6"}),(0,b.jsx)("h1",{className:"text-2xl font-semibold",children:"Account Statistics"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,b.jsx)(d.Card,{children:(0,b.jsxs)(d.CardContent,{className:"pt-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Onboarded Users"}),(0,b.jsx)(i.Users,{className:"w-5 h-5 text-muted-foreground"})]}),(0,b.jsx)("div",{className:"text-3xl font-bold mb-1",children:s}),(0,b.jsxs)("div",{className:"text-xs text-muted-foreground",children:[f.user_type_distribution.individual," individual, ",f.user_type_distribution.corporate," corporate"]})]})}),(0,b.jsx)(d.Card,{children:(0,b.jsxs)(d.CardContent,{className:"pt-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Ongoing Monitoring"}),(0,b.jsx)(k,{className:"w-5 h-5 text-muted-foreground"})]}),(0,b.jsx)("div",{className:"text-3xl font-bold mb-1",children:f.ongoing_monitoring_count}),(0,b.jsxs)("div",{className:"text-xs text-muted-foreground",children:[r>0?(f.ongoing_monitoring_count/r*100).toFixed(0):0,"% of total users"]})]})}),(0,b.jsx)(d.Card,{children:(0,b.jsxs)(d.CardContent,{className:"pt-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Onboarded Status"}),(0,b.jsx)(g,{className:"w-5 h-5 text-muted-foreground"})]}),(0,b.jsx)("div",{className:"text-3xl font-bold mb-1",children:s}),(0,b.jsxs)("div",{className:"text-xs text-muted-foreground",children:[r>0?(s/r*100).toFixed(0):0,"% successful onboardings"]})]})}),(0,b.jsx)(d.Card,{children:(0,b.jsxs)(d.CardContent,{className:"pt-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"High Risk Users"}),(0,b.jsx)(h,{className:"w-5 h-5 text-red-500"})]}),(0,b.jsx)("div",{className:"text-3xl font-bold mb-1",children:f.risk_assessment.high_risk_count}),(0,b.jsxs)("div",{className:"text-xs text-muted-foreground",children:[t,"% of total users"]})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{className:"text-base",children:"User Type Distribution"}),(0,b.jsx)(d.CardDescription,{children:"Breakdown of individual vs corporate users"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"h-48 flex items-center justify-center",children:(0,b.jsx)("div",{className:"relative w-32 h-32",children:(0,b.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[(0,b.jsx)("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#e5e7eb",strokeWidth:"12"}),(0,b.jsx)("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#14b8a6",strokeWidth:"12",strokeDasharray:"251.2",strokeDashoffset:"62.8",transform:"rotate(-90 50 50)"})]})})})})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{className:"text-base",children:"Risk Level Distribution"}),(0,b.jsx)(d.CardDescription,{children:"Breakdown of users by risk assessment"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"h-48 flex items-center justify-center",children:(0,b.jsx)("div",{className:"relative w-32 h-32",children:(0,b.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[(0,b.jsx)("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#e5e7eb",strokeWidth:"12"}),(0,b.jsx)("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#fbbf24",strokeWidth:"12",strokeDasharray:"251.2",strokeDashoffset:"0",transform:"rotate(-90 50 50)"})]})})})})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{className:"text-base",children:"Onboarding Status"}),(0,b.jsx)(d.CardDescription,{children:"Current status of all users in the system"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"h-48 flex items-end justify-around gap-2 p-4",children:[{label:"Onboarded",count:f.onboarding_status.onboarded,color:"bg-teal-600"},{label:"In Review",count:f.onboarding_status.in_review,color:"bg-blue-500"},{label:"False Match",count:f.onboarding_status.false_match,color:"bg-yellow-500"},{label:"Rejected",count:f.onboarding_status.rejected,color:"bg-red-500"},{label:"Alerted",count:f.onboarding_status.alerted,color:"bg-orange-500"}].map(a=>{let c=Math.max(f.onboarding_status.onboarded,f.onboarding_status.in_review,f.onboarding_status.false_match,f.onboarding_status.rejected,f.onboarding_status.alerted),d=c>0?a.count/c*100:0;return(0,b.jsxs)("div",{className:"flex-1 flex flex-col items-center gap-2",children:[(0,b.jsx)("div",{className:`w-full ${a.color} rounded-t`,style:{height:`${Math.max(d,10)}%`}}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground text-center",children:a.label}),(0,b.jsx)("div",{className:"text-xs font-semibold",children:a.count})]},a.label)})})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)(d.Card,{className:"col-span-2",children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{className:"text-base",children:"Risk Assessment"}),(0,b.jsx)(d.CardDescription,{children:"Summary of risk levels across all users"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"space-y-4",children:[{level:"High Risk (≥ 4)",count:f.risk_level_distribution.high,color:"bg-red-500"},{level:"Medium High (≥ 3)",count:f.risk_level_distribution.medium_high,color:"bg-orange-500"},{level:"Medium Risk (≥ 2)",count:f.risk_level_distribution.medium,color:"bg-yellow-500"},{level:"Low Medium (≥ 1.5)",count:f.risk_level_distribution.low_medium,color:"bg-blue-500"},{level:"Low Risk (1 to < 1.5)",count:f.risk_level_distribution.low,color:"bg-green-500"}].map(a=>{let c=Math.max(f.risk_level_distribution.high,f.risk_level_distribution.medium_high,f.risk_level_distribution.medium,f.risk_level_distribution.low_medium,f.risk_level_distribution.low),d=c>0?a.count/c*100:0;return(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:`w-3 h-3 rounded-full ${a.color}`}),(0,b.jsx)("div",{className:"flex-1 text-sm",children:a.level}),(0,b.jsx)("div",{className:"w-1/2 bg-gray-100 rounded-full h-2 overflow-hidden",children:a.count>0&&(0,b.jsx)("div",{className:`h-full ${a.color}`,style:{width:`${d}%`}})}),(0,b.jsx)("div",{className:"w-12 text-right text-sm font-medium",children:a.count})]},a.level)})})})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{className:"text-base",children:"Ongoing Monitoring Requirements"}),(0,b.jsx)(d.CardDescription,{children:"Users requiring special ongoing monitoring"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[(0,b.jsx)(k,{className:"w-12 h-12 text-muted-foreground mb-4"}),(0,b.jsx)("div",{className:"text-sm font-medium mb-1",children:"Ongoing Monitoring"}),(0,b.jsx)("div",{className:"text-3xl font-bold mb-2",children:f.ongoing_monitoring_count}),(0,b.jsxs)("div",{className:"text-xs text-muted-foreground",children:[f.user_type_distribution.individual," individual, ",f.user_type_distribution.corporate," corporate"]}),(0,b.jsxs)("div",{className:"mt-6 space-y-3 w-full",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(i.Users,{className:"w-4 h-4 text-blue-600"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:"Individual Users"})]}),(0,b.jsx)("span",{className:"font-bold",children:f.user_type_distribution.individual})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(j.Building2,{className:"w-4 h-4 text-purple-600"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:"Corporate Users"})]}),(0,b.jsx)("span",{className:"font-bold",children:f.user_type_distribution.corporate})]})]})]})})]})]})]})}a.s(["default",()=>n],97234)}];

//# sourceMappingURL=_cf702bd2._.js.map
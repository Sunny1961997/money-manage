module.exports=[70775,a=>{"use strict";var b=a.i(64781),c=a.i(3130),d=a.i(40695),e=a.i(5522),f=a.i(6665),g=a.i(69617),h=a.i(7085),i=a.i(23305),j=a.i(40076),k=a.i(87682),l=a.i(89982),m=a.i(30505),n=a.i(21958),o=a.i(68515),p=a.i(91285),q={},r=function(){function a(a){this.jsPDFDocument=a,this.userStyles={textColor:a.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:a.internal.getFontSize(),fontStyle:a.internal.getFont().fontStyle,font:a.internal.getFont().fontName,lineWidth:a.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:a.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return a.setDefaults=function(a,b){void 0===b&&(b=null),b?b.__autoTableDocumentDefaults=a:q=a},a.unifyColor=function(a){return Array.isArray(a)?a:"number"==typeof a?[a,a,a]:"string"==typeof a?[a]:null},a.prototype.applyStyles=function(b,c){void 0===c&&(c=!1),b.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(b.fontStyle);var d,e,f,g=this.jsPDFDocument.internal.getFont(),h=g.fontStyle,i=g.fontName;if(b.font&&(i=b.font),b.fontStyle){h=b.fontStyle;var j=this.getFontList()[i];j&&-1===j.indexOf(h)&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(j[0]),h=j[0])}if(this.jsPDFDocument.setFont(i,h),b.fontSize&&this.jsPDFDocument.setFontSize(b.fontSize),!c){var k=a.unifyColor(b.fillColor);k&&(d=this.jsPDFDocument).setFillColor.apply(d,k),(k=a.unifyColor(b.textColor))&&(e=this.jsPDFDocument).setTextColor.apply(e,k),(k=a.unifyColor(b.lineColor))&&(f=this.jsPDFDocument).setDrawColor.apply(f,k),"number"==typeof b.lineWidth&&this.jsPDFDocument.setLineWidth(b.lineWidth)}},a.prototype.splitTextToSize=function(a,b,c){return this.jsPDFDocument.splitTextToSize(a,b,c)},a.prototype.rect=function(a,b,c,d,e){return this.jsPDFDocument.rect(a,b,c,d,e)},a.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},a.prototype.getTextWidth=function(a){return this.jsPDFDocument.getTextWidth(a)},a.prototype.getDocument=function(){return this.jsPDFDocument},a.prototype.setPage=function(a){this.jsPDFDocument.setPage(a)},a.prototype.addPage=function(){return this.jsPDFDocument.addPage()},a.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},a.prototype.getGlobalOptions=function(){return q||{}},a.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},a.prototype.pageSize=function(){var a=this.jsPDFDocument.internal.pageSize;return null==a.width&&(a={width:a.getWidth(),height:a.getHeight()}),a},a.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},a.prototype.getLineHeightFactor=function(){var a=this.jsPDFDocument;return a.getLineHeightFactor?a.getLineHeightFactor():1.15},a.prototype.getLineHeight=function(a){return a/this.scaleFactor()*this.getLineHeightFactor()},a.prototype.pageNumber=function(){var a=this.jsPDFDocument.internal.getCurrentPageInfo();return a?a.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},a}(),s=function(a,b){return(s=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)};function t(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}s(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}"function"==typeof SuppressedError&&SuppressedError;var u=function(a){function b(b){var c=a.call(this)||this;return c._element=b,c}return t(b,a),b}(Array);function v(a,b,c){return c.applyStyles(b,!0),(Array.isArray(a)?a:[a]).map(function(a){return c.getTextWidth(a)}).reduce(function(a,b){return Math.max(a,b)},0)}function w(a,b,c,d){var e=b.settings.tableLineWidth,f=b.settings.tableLineColor;a.applyStyles({lineWidth:e,lineColor:f});var g=x(e,!1);g&&a.rect(c.x,c.y,b.getWidth(a.pageSize().width),d.y-c.y,g)}function x(a,b){var c=a>0,d=b||0===b;return c&&d?"DF":c?"S":d?"F":null}function y(a,b){var c,d,e,f;if(Array.isArray(a=a||b))if(a.length>=4)return{top:a[0],right:a[1],bottom:a[2],left:a[3]};else{if(3===a.length)return{top:a[0],right:a[1],bottom:a[2],left:a[1]};if(2===a.length)return{top:a[0],right:a[1],bottom:a[0],left:a[1]};a=1===a.length?a[0]:b}return"object"==typeof a?("number"==typeof a.vertical&&(a.top=a.vertical,a.bottom=a.vertical),"number"==typeof a.horizontal&&(a.right=a.horizontal,a.left=a.horizontal),{left:null!=(c=a.left)?c:b,top:null!=(d=a.top)?d:b,right:null!=(e=a.right)?e:b,bottom:null!=(f=a.bottom)?f:b}):("number"!=typeof a&&(a=b),{top:a,right:a,bottom:a,left:a})}function z(a,b){var c=y(b.settings.margin,0);return a.pageSize().width-(c.left+c.right)}function A(a,b){var c=function a(b,c){var d=c(b);return"rgba(0, 0, 0, 0)"!==d&&"transparent"!==d&&"initial"!==d&&"inherit"!==d?d:null==b.parentElement?null:a(b.parentElement,c)}(a,b);if(!c)return null;var d=c.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!d||!Array.isArray(d))return null;var e=[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])];return 0===parseInt(d[4])||isNaN(e[0])||isNaN(e[1])||isNaN(e[2])?null:e}function B(a,b,c,d,e){if(null==a)throw TypeError("Cannot convert undefined or null to object");for(var f=Object(a),g=1;g<arguments.length;g++){var h=arguments[g];if(null!=h)for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(f[i]=h[i])}return f}var C=function(a,b,c){this.table=b,this.pageNumber=b.pageNumber,this.settings=b.settings,this.cursor=c,this.doc=a.getDocument()},D=function(a){function b(b,c,d,e,f,g){var h=a.call(this,b,c,g)||this;return h.cell=d,h.row=e,h.column=f,h.section=e.section,h}return t(b,a),b}(C),E=function(){function a(a,b){this.pageNumber=1,this.id=a.id,this.settings=a.settings,this.styles=a.styles,this.hooks=a.hooks,this.columns=b.columns,this.head=b.head,this.body=b.body,this.foot=b.foot}return a.prototype.getHeadHeight=function(a){return this.head.reduce(function(b,c){return b+c.getMaxCellHeight(a)},0)},a.prototype.getFootHeight=function(a){return this.foot.reduce(function(b,c){return b+c.getMaxCellHeight(a)},0)},a.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},a.prototype.callCellHooks=function(a,b,c,d,e,f){for(var g=0;g<b.length;g++){var h=!1===(0,b[g])(new D(a,this,c,d,e,f));if(c.text=Array.isArray(c.text)?c.text:[c.text],h)return!1}return!0},a.prototype.callEndPageHooks=function(a,b){a.applyStyles(a.userStyles);for(var c=0,d=this.hooks.didDrawPage;c<d.length;c++)(0,d[c])(new C(a,this,b))},a.prototype.callWillDrawPageHooks=function(a,b){for(var c=0,d=this.hooks.willDrawPage;c<d.length;c++)(0,d[c])(new C(a,this,b))},a.prototype.getWidth=function(a){if("number"==typeof this.settings.tableWidth)return this.settings.tableWidth;if("wrap"===this.settings.tableWidth)return this.columns.reduce(function(a,b){return a+b.wrappedWidth},0);var b=this.settings.margin;return a-b.left-b.right},a}(),F=function(){function a(a,b,c,d,e){void 0===e&&(e=!1),this.height=0,this.raw=a,a instanceof u&&(this.raw=a._element,this.element=a._element),this.index=b,this.section=c,this.cells=d,this.spansMultiplePages=e}return a.prototype.getMaxCellHeight=function(a){var b=this;return a.reduce(function(a,c){var d;return Math.max(a,(null==(d=b.cells[c.index])?void 0:d.height)||0)},0)},a.prototype.hasRowSpan=function(a){var b=this;return a.filter(function(a){var c=b.cells[a.index];return!!c&&c.rowSpan>1}).length>0},a.prototype.canEntireRowFit=function(a,b){return this.getMaxCellHeight(b)<=a},a.prototype.getMinimumRowHeight=function(a,b){var c=this;return a.reduce(function(a,d){var e=c.cells[d.index];if(!e)return 0;var f=b.getLineHeight(e.styles.fontSize),g=e.padding("vertical")+f;return g>a?g:a},0)},a}(),G=function(){function a(a,b,c){this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=b,this.section=c,this.raw=a;var d,e=a;null==a||"object"!=typeof a||Array.isArray(a)?(this.rowSpan=1,this.colSpan=1):(this.rowSpan=a.rowSpan||1,this.colSpan=a.colSpan||1,e=null!=(d=a.content)?d:a,a._element&&(this.raw=a._element));var f=null!=e?""+e:"";this.text=f.split(/\r\n|\r|\n/g)}return a.prototype.getTextPos=function(){if("top"===this.styles.valign)a=this.y+this.padding("top");else if("bottom"===this.styles.valign)a=this.y+this.height-this.padding("bottom");else{var a,b,c=this.height-this.padding("vertical");a=this.y+c/2+this.padding("top")}if("right"===this.styles.halign)b=this.x+this.width-this.padding("right");else if("center"===this.styles.halign){var d=this.width-this.padding("horizontal");b=this.x+d/2+this.padding("left")}else b=this.x+this.padding("left");return{x:b,y:a}},a.prototype.getContentHeight=function(a,b){return void 0===b&&(b=1.15),Math.max((Array.isArray(this.text)?this.text.length:1)*(this.styles.fontSize/a*b)+this.padding("vertical"),this.styles.minCellHeight)},a.prototype.padding=function(a){var b=y(this.styles.cellPadding,0);return"vertical"===a?b.top+b.bottom:"horizontal"===a?b.left+b.right:b[a]},a}(),H=function(){function a(a,b,c){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=a,this.raw=b,this.index=c}return a.prototype.getMaxCustomCellWidth=function(a){for(var b=0,c=0,d=a.allRows();c<d.length;c++){var e=d[c].cells[this.index];e&&"number"==typeof e.styles.cellWidth&&(b=Math.max(b,e.styles.cellWidth))}return b},a}();function I(a,b,c){for(var d=b,e=a.reduce(function(a,b){return a+b.wrappedWidth},0),f=0;f<a.length;f++){var g=a[f],h=d*(g.wrappedWidth/e),i=g.width+h,j=c(g),k=i<j?j:i;b-=k-g.width,g.width=k}if(b=Math.round(1e10*b)/1e10){var l=a.filter(function(a){return!(b<0)||a.width>c(a)});l.length&&(b=I(l,b,c))}return b}function J(a,b,c,d,e){return a.map(function(a){var f=a,g=b,h=c,i=d,j=e,k=1e4*i.scaleFactor();if((g=Math.ceil(g*k)/k)>=v(f,h,i))return f;for(;g<v(f+j,h,i)&&!(f.length<=1);)f=f.substring(0,f.length-1);return f.trim()+j})}function K(a,b,c,d,e,f){var g={};return b.map(function(b,h){for(var i=0,j={},k=0,l=0,m=0;m<c.length;m++){var n=c[m];if(null==g[n.index]||0===g[n.index].left)if(0===l){var o=void 0;o=Array.isArray(b)?b[n.index-k-i]:b[n.dataKey];var p={};"object"!=typeof o||Array.isArray(o)||(p=(null==o?void 0:o.styles)||{});var q=new G(o,function(a,b,c,d,e,f,g){var h,i={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}}[d];"head"===a?h=e.headStyles:"body"===a?h=e.bodyStyles:"foot"===a&&(h=e.footStyles);var j=B({},i.table,i[a],e.styles,h),k=e.columnStyles[b.dataKey]||e.columnStyles[b.index]||{},l="body"===a&&c%2==0?B({},i.alternateRow,e.alternateRowStyles):{},m=B({},{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/f,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0},j,l,"body"===a?k:{});return B(m,g)}(a,n,h,e,d,f,p),a);j[n.dataKey]=q,j[n.index]=q,l=q.colSpan-1,g[n.index]={left:q.rowSpan-1,times:l}}else l--,k++;else g[n.index].left--,l=g[n.index].times,i++}return new F(b,h,a,j)})}function L(a,b){var c={};return a.forEach(function(a){if(null!=a.raw){var d=function(a,b){if("head"===a){if("object"==typeof b)return b.header||null;else if("string"==typeof b||"number"==typeof b)return b}else if("foot"===a&&"object"==typeof b)return b.footer;return null}(b,a.raw);null!=d&&(c[a.dataKey]=d)}}),Object.keys(c).length>0?c:null}function M(a,b,c,d){var e=b.settings;a.applyStyles(a.userStyles),("firstPage"===e.showHead||"everyPage"===e.showHead)&&b.head.forEach(function(e){return Q(a,b,e,c,d)})}function N(a,b,c,d,e,f){a.applyStyles(a.userStyles);var g=Math.min(c+(f=null!=f?f:b.body.length),b.body.length),h=-1;return b.body.slice(c,g).forEach(function(f,g){var i=c+g===b.body.length-1,j=R(a,b,i,d);f.canEntireRowFit(j,e)&&(Q(a,b,f,d,e),h=c+g)}),h}function O(a,b,c,d){var e=b.settings;a.applyStyles(a.userStyles),("lastPage"===e.showFoot||"everyPage"===e.showFoot)&&b.foot.forEach(function(e){return Q(a,b,e,c,d)})}function P(a,b,c,d,e,f,g){var h=R(a,b,d,f);if(c.canEntireRowFit(h,g))Q(a,b,c,f,g);else if(function(a,b,c,d){var e=a.pageSize().height,f=d.settings.margin,g=e-(f.top+f.bottom);"body"===b.section&&(g-=d.getHeadHeight(d.columns)+d.getFootHeight(d.columns));var h=b.getMinimumRowHeight(d.columns,a);if(h>g)return console.log("Will not be able to print row ".concat(b.index," correctly since it's minimum height is larger than page height")),!0;if(!(h<c))return!1;var i=b.hasRowSpan(d.columns);return b.getMaxCellHeight(d.columns)>g?(i&&console.log("The content of row ".concat(b.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!i&&"avoid"!==d.settings.rowPageBreak}(a,c,h,b)){var i=function(a,b,c,d){var e={};a.spansMultiplePages=!0,a.height=0;for(var f=0,g=0,h=c.columns;g<h.length;g++){var i=h[g],j=a.cells[i.index];if(j){Array.isArray(j.text)||(j.text=[j.text]);var k=new G(j.raw,j.styles,j.section);(k=B(k,j)).text=[];var l=function(a,b,c){var d=c.getLineHeight(a.styles.fontSize);return Math.max(0,Math.floor((b-a.padding("vertical"))/d))}(j,b,d);j.text.length>l&&(k.text=j.text.splice(l,j.text.length));var m=d.scaleFactor(),n=d.getLineHeightFactor();j.contentHeight=j.getContentHeight(m,n),j.contentHeight>=b&&(j.contentHeight=b,k.styles.minCellHeight-=b),j.contentHeight>a.height&&(a.height=j.contentHeight),k.contentHeight=k.getContentHeight(m,n),k.contentHeight>f&&(f=k.contentHeight),e[i.index]=k}}var o=new F(a.raw,-1,a.section,e,!0);o.height=f;for(var p=0,q=c.columns;p<q.length;p++){var i=q[p],k=o.cells[i.index];k&&(k.height=o.height);var j=a.cells[i.index];j&&(j.height=a.height)}return o}(c,h,b,a);Q(a,b,c,f,g),S(a,b,e,f,g),P(a,b,i,d,e,f,g)}else S(a,b,e,f,g),P(a,b,c,d,e,f,g)}function Q(a,b,c,d,e){d.x=b.settings.margin.left;for(var f=0;f<e.length;f++){var g=e[f],h=c.cells[g.index];if(!h||(a.applyStyles(h.styles),h.x=d.x,h.y=d.y,!1===b.callCellHooks(a,b.hooks.willDrawCell,h,c,g,d))){d.x+=g.width;continue}!function(a,b,c){var d=b.styles;if(a.getDocument().setFillColor(a.getDocument().getFillColor()),"number"==typeof d.lineWidth){var e=x(d.lineWidth,d.fillColor);e&&a.rect(b.x,c.y,b.width,b.height,e)}else"object"==typeof d.lineWidth&&(d.fillColor&&a.rect(b.x,c.y,b.width,b.height,"F"),function(a,b,c,d){var e,f,g,h;function i(b,c,d,e,f){a.getDocument().setLineWidth(b),a.getDocument().line(c,d,e,f,"S")}d.top&&(e=c.x,f=c.y,g=c.x+b.width,h=c.y,d.right&&(g+=.5*d.right),d.left&&(e-=.5*d.left),i(d.top,e,f,g,h)),d.bottom&&(e=c.x,f=c.y+b.height,g=c.x+b.width,h=c.y+b.height,d.right&&(g+=.5*d.right),d.left&&(e-=.5*d.left),i(d.bottom,e,f,g,h)),d.left&&(e=c.x,f=c.y,g=c.x,h=c.y+b.height,d.top&&(f-=.5*d.top),d.bottom&&(h+=.5*d.bottom),i(d.left,e,f,g,h)),d.right&&(e=c.x+b.width,f=c.y,g=c.x+b.width,h=c.y+b.height,d.top&&(f-=.5*d.top),d.bottom&&(h+=.5*d.bottom),i(d.right,e,f,g,h))}(a,b,c,d.lineWidth))}(a,h,d);var i=h.getTextPos();!function(a,b,c,d,e){d=d||{};var f=e.internal.scaleFactor,g=e.internal.getFontSize()/f,h=g*(e.getLineHeightFactor?e.getLineHeightFactor():1.15),i="",j=1;if(("middle"===d.valign||"bottom"===d.valign||"center"===d.halign||"right"===d.halign)&&(j=(i="string"==typeof a?a.split(/\r\n|\r|\n/g):a).length||1),c+=.8500000000000001*g,"middle"===d.valign?c-=j/2*h:"bottom"===d.valign&&(c-=j*h),"center"===d.halign||"right"===d.halign){var k=g;if("center"===d.halign&&(k*=.5),i&&j>=1){for(var l=0;l<i.length;l++)e.text(i[l],b-e.getStringUnitWidth(i[l])*k,c),c+=h;return}b-=e.getStringUnitWidth(a)*k}"justify"===d.halign?e.text(a,b,c,{maxWidth:d.maxWidth||100,align:"justify"}):e.text(a,b,c)}(h.text,i.x,i.y,{halign:h.styles.halign,valign:h.styles.valign,maxWidth:Math.ceil(h.width-h.padding("left")-h.padding("right"))},a.getDocument()),b.callCellHooks(a,b.hooks.didDrawCell,h,c,g,d),d.x+=g.width}d.y+=c.height}function R(a,b,c,d){var e=b.settings.margin.bottom,f=b.settings.showFoot;return("everyPage"===f||"lastPage"===f&&c)&&(e+=b.getFootHeight(b.columns)),a.pageSize().height-d.y-e}function S(a,b,c,d,e,f){void 0===e&&(e=[]),void 0===f&&(f=!1),a.applyStyles(a.userStyles),"everyPage"!==b.settings.showFoot||f||b.foot.forEach(function(c){return Q(a,b,c,d,e)}),b.callEndPageHooks(a,d);var g=b.settings.margin;w(a,b,c,d),T(a),b.pageNumber++,d.x=g.left,d.y=g.top,c.y=g.top,b.callWillDrawPageHooks(a,d),"everyPage"===b.settings.showHead&&(b.head.forEach(function(c){return Q(a,b,c,d,e)}),a.applyStyles(a.userStyles))}function T(a){var b=a.pageNumber();return a.setPage(b+1),a.pageNumber()===b&&(a.addPage(),!0)}function U(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,s,t,x,C,D=function(a,b){for(var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,s,t,v,w,x,z,C,D,E,F,G,H,I,J,K=new r(a),L=K.getDocumentOptions(),M=K.getGlobalOptions(),N=0,O=[M,L,b];N<O.length;N++){var P=O[N];P&&"object"!=typeof P&&console.error("The options parameter should be of type object, is: "+typeof P),P.startY&&"number"!=typeof P.startY&&(console.error("Invalid value for startY option",P.startY),delete P.startY)}var Q=B({},M,L,b),R=function(a,b,c){for(var d={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},e=function(e){if("columnStyles"===e)d.columnStyles=B({},a[e],b[e],c[e]);else{var f=[a,b,c].map(function(a){return a[e]||{}});d[e]=B({},f[0],f[1],f[2])}},f=0,g=Object.keys(d);f<g.length;f++)e(g[f]);return d}(M,L,b),S=function(a,b,c){for(var d={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},e=0,f=[a,b,c];e<f.length;e++){var g=f[e];g.didParseCell&&d.didParseCell.push(g.didParseCell),g.willDrawCell&&d.willDrawCell.push(g.willDrawCell),g.didDrawCell&&d.didDrawCell.push(g.didDrawCell),g.willDrawPage&&d.willDrawPage.push(g.willDrawPage),g.didDrawPage&&d.didDrawPage.push(g.didDrawPage)}return d}(M,L,b),T=(c=K,D=y((d=Q).margin,40/c.scaleFactor()),E=null!=(e=c,f=d.startY,g=e.getLastAutoTable(),h=e.scaleFactor(),i=e.pageNumber(),j=!1,g&&g.startPageNumber&&(j=g.startPageNumber+g.pageNumber-1===i),k="number"==typeof f?f:(null==f||!1===f)&&j&&(null==g?void 0:g.finalY)!=null?g.finalY+20/h:null)?k:D.top,z=!0===d.showFoot?"everyPage":!1===d.showFoot?"never":null!=(l=d.showFoot)?l:"everyPage",C=!0===d.showHead?"everyPage":!1===d.showHead?"never":null!=(m=d.showHead)?m:"everyPage",F=null!=(n=d.useCss)&&n,G=d.theme||(F?"plain":"striped"),H=!!d.horizontalPageBreak,I=null!=(o=d.horizontalPageBreakRepeat)?o:null,{includeHiddenHtml:null!=(p=d.includeHiddenHtml)&&p,useCss:F,theme:G,startY:E,margin:D,pageBreak:null!=(q=d.pageBreak)?q:"auto",rowPageBreak:null!=(s=d.rowPageBreak)?s:"auto",tableWidth:null!=(t=d.tableWidth)?t:"auto",showHead:C,showFoot:z,tableLineWidth:null!=(v=d.tableLineWidth)?v:0,tableLineColor:null!=(w=d.tableLineColor)?w:200,horizontalPageBreak:H,horizontalPageBreakRepeat:I,horizontalPageBreakBehaviour:null!=(x=d.horizontalPageBreakBehaviour)?x:"afterAllRows"}),U=function(a,b,c){var d,e,f,g,h,i=b.head||[],j=b.body||[],k=b.foot||[];if(b.html){var l=b.includeHiddenHtml;if(c){var m=function(a,b,c,d,e){void 0===d&&(d=!1),void 0===e&&(e=!1);var f,g,h="string"==typeof b?c.document.querySelector(b):b,i=Object.keys(a.getFontList()),j=a.scaleFactor(),k=[],l=[],m=[];if(!h)return console.error("Html table could not be found with input: ",b),{head:k,body:l,foot:m};for(var n=0;n<h.rows.length;n++){var o=h.rows[n],p=null==(g=null==(f=null==o?void 0:o.parentElement)?void 0:f.tagName)?void 0:g.toLowerCase(),q=function(a,b,c,d,e,f){for(var g=new u(d),h=0;h<d.cells.length;h++){var i=d.cells[h],j=c.getComputedStyle(i);if(e||"none"!==j.display){var k=void 0;f&&(k=function(a,b,c,d,e){var f={},g=96/72,h=A(b,function(a){return e.getComputedStyle(a).backgroundColor});null!=h&&(f.fillColor=h);var i=A(b,function(a){return e.getComputedStyle(a).color});null!=i&&(f.textColor=i);var j=function(a,b){var c=[a.paddingTop,a.paddingRight,a.paddingBottom,a.paddingLeft],d=96/(72/b),e=(parseInt(a.lineHeight)-parseInt(a.fontSize))/b/2,f=y(c.map(function(a){return parseInt(a||"0")/d}),0);return e>f.top&&(f.top=e),e>f.bottom&&(f.bottom=e),f}(d,c);j&&(f.cellPadding=j);var k="borderTopColor",l=g*c,m=d.borderTopWidth;if(d.borderBottomWidth===m&&d.borderRightWidth===m&&d.borderLeftWidth===m){var n=(parseFloat(m)||0)/l;n&&(f.lineWidth=n)}else f.lineWidth={top:(parseFloat(d.borderTopWidth)||0)/l,right:(parseFloat(d.borderRightWidth)||0)/l,bottom:(parseFloat(d.borderBottomWidth)||0)/l,left:(parseFloat(d.borderLeftWidth)||0)/l},!f.lineWidth.top&&(f.lineWidth.right?k="borderRightColor":f.lineWidth.bottom?k="borderBottomColor":f.lineWidth.left&&(k="borderLeftColor"));var o=A(b,function(a){return e.getComputedStyle(a)[k]});null!=o&&(f.lineColor=o);var p=["left","right","center","justify"];-1!==p.indexOf(d.textAlign)&&(f.halign=d.textAlign),-1!==(p=["middle","bottom","top"]).indexOf(d.verticalAlign)&&(f.valign=d.verticalAlign);var q=parseInt(d.fontSize||"");isNaN(q)||(f.fontSize=q/g);var r=function(a){var b="";return("bold"===a.fontWeight||"bolder"===a.fontWeight||parseInt(a.fontWeight)>=700)&&(b="bold"),("italic"===a.fontStyle||"oblique"===a.fontStyle)&&(b+="italic"),b}(d);r&&(f.fontStyle=r);var s=(d.fontFamily||"").toLowerCase();return -1!==a.indexOf(s)&&(f.font=s),f}(a,i,b,j,c)),g.push({rowSpan:i.rowSpan,colSpan:i.colSpan,styles:k,_element:i,content:function(a){var b=a.cloneNode(!0);return b.innerHTML=b.innerHTML.replace(/\n/g,"").replace(/ +/g," "),b.innerHTML=b.innerHTML.split(/<br.*?>/).map(function(a){return a.trim()}).join("\n"),b.innerText||b.textContent||""}(i)})}}var l=c.getComputedStyle(d);if(g.length>0&&(e||"none"!==l.display))return g}(i,j,c,o,d,e);q&&("thead"===p?k.push(q):"tfoot"===p?m.push(q):l.push(q))}return{head:k,body:l,foot:m}}(a,b.html,c,l,b.useCss)||{};i=m.head||i,j=m.body||i,k=m.foot||i}else console.error("Cannot parse html in non browser environment")}return{columns:b.columns||(d=i,e=j,f=k,g=d[0]||e[0]||f[0]||[],h=[],Object.keys(g).filter(function(a){return"_element"!==a}).forEach(function(a){var b,c=1;"object"!=typeof(b=Array.isArray(g)?g[parseInt(a)]:g[a])||Array.isArray(b)||(c=(null==b?void 0:b.colSpan)||1);for(var d=0;d<c;d++){var e={dataKey:Array.isArray(g)?h.length:a+(d>0?"_".concat(d):"")};h.push(e)}}),h),head:i,body:j,foot:k}}(K,Q,J);return{id:b.tableId,content:U,hooks:S,styles:R,settings:T}}(a,b),F=(i=function(a,b){var c=a.content,d=c.columns.map(function(a,b){var c;return new H("object"==typeof a&&null!=(c=a.dataKey)?c:b,a,b)});if(0===c.head.length){var e=L(d,"head");e&&c.head.push(e)}if(0===c.foot.length){var e=L(d,"foot");e&&c.foot.push(e)}var f=a.settings.theme,g=a.styles;return{columns:d,head:K("head",c.head,d,g,f,b),body:K("body",c.body,d,g,f,b),foot:K("foot",c.foot,d,g,f,b)}}(D,(h=new r(a)).scaleFactor()),j=new E(D,i),c=h,d=j,e=c.scaleFactor(),f=d.settings.horizontalPageBreak,g=z(c,d),d.allRows().forEach(function(a){for(var b=0,h=d.columns;b<h.length;b++){var i=h[b],j=a.cells[i.index];if(j){var k=d.hooks.didParseCell;d.callCellHooks(c,k,j,a,i,null);var l=j.padding("horizontal");j.contentWidth=v(j.text,j.styles,c)+l;var m=v(j.text.join(" ").split(/[^\S\u00A0]+/),j.styles,c);if(j.minReadableWidth=m+j.padding("horizontal"),"number"==typeof j.styles.cellWidth)j.minWidth=j.styles.cellWidth,j.wrappedWidth=j.styles.cellWidth;else if("wrap"===j.styles.cellWidth||!0===f)j.contentWidth>g?(j.minWidth=g,j.wrappedWidth=g):(j.minWidth=j.contentWidth,j.wrappedWidth=j.contentWidth);else{var n=10/e;j.minWidth=j.styles.minCellWidth||n,j.wrappedWidth=j.contentWidth,j.minWidth>j.wrappedWidth&&(j.wrappedWidth=j.minWidth)}}}}),d.allRows().forEach(function(a){for(var b=0,c=d.columns;b<c.length;b++){var e=c[b],f=a.cells[e.index];if(f&&1===f.colSpan)e.wrappedWidth=Math.max(e.wrappedWidth,f.wrappedWidth),e.minWidth=Math.max(e.minWidth,f.minWidth),e.minReadableWidth=Math.max(e.minReadableWidth,f.minReadableWidth);else{var g=d.styles.columnStyles[e.dataKey]||d.styles.columnStyles[e.index]||{},h=g.cellWidth||g.minCellWidth;h&&"number"==typeof h&&(e.minWidth=h,e.wrappedWidth=h)}f&&(f.colSpan>1&&!e.minWidth&&(e.minWidth=f.minWidth),f.colSpan>1&&!e.wrappedWidth&&(e.wrappedWidth=f.minWidth))}}),k=[],l=0,j.columns.forEach(function(a){var b=a.getMaxCustomCellWidth(j);b?a.width=b:(a.width=a.wrappedWidth,k.push(a)),l+=a.width}),(m=j.getWidth(h.pageSize().width)-l)&&(m=I(k,m,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),m&&(m=I(k,m,function(a){return a.minWidth})),m=Math.abs(m),!j.settings.horizontalPageBreak&&m>.1/h.scaleFactor()&&(m=m<1?m:Math.round(m),console.log("Of the table content, ".concat(m," units width could not fit page"))),function(a){for(var b=a.allRows(),c=0;c<b.length;c++)for(var d=b[c],e=null,f=0,g=0,h=0;h<a.columns.length;h++){var i=a.columns[h];if((g-=1)>1&&a.columns[h+1])f+=i.width,delete d.cells[i.index];else if(e){var j=e;delete d.cells[i.index],e=null,j.width=i.width+f}else{var j=d.cells[i.index];if(!j)continue;if(g=j.colSpan,f=0,j.colSpan>1){e=j,f+=i.width;continue}j.width=i.width+f}}}(j),function(a,b){for(var c={count:0,height:0},d=0,e=a.allRows();d<e.length;d++){for(var f=e[d],g=0,h=a.columns;g<h.length;g++){var i=h[g],j=f.cells[i.index];if(j){b.applyStyles(j.styles,!0);var k=j.width-j.padding("horizontal");if("linebreak"===j.styles.overflow)j.text=b.splitTextToSize(j.text,k+1/b.scaleFactor(),{fontSize:j.styles.fontSize});else if("ellipsize"===j.styles.overflow)j.text=J(j.text,k,j.styles,b,"...");else if("hidden"===j.styles.overflow)j.text=J(j.text,k,j.styles,b,"");else if("function"==typeof j.styles.overflow){var l=j.styles.overflow(j.text,k);"string"==typeof l?j.text=[l]:j.text=l}j.contentHeight=j.getContentHeight(b.scaleFactor(),b.getLineHeightFactor());var m=j.contentHeight/j.rowSpan;j.rowSpan>1&&c.count*c.height<m*j.rowSpan?c={height:m,count:j.rowSpan}:c&&c.count>0&&c.height>m&&(m=c.height),m>f.height&&(f.height=m)}}c.count--}}(j,h),function(a){for(var b={},c=1,d=a.allRows(),e=0;e<d.length;e++)for(var f=d[e],g=0,h=a.columns;g<h.length;g++){var i=h[g],j=b[i.index];if(c>1)c--,delete f.cells[i.index];else if(j)j.cell.height+=f.height,c=j.cell.colSpan,delete f.cells[i.index],j.left--,j.left<=1&&delete b[i.index];else{var k=f.cells[i.index];if(!k)continue;if(k.height=f.height,k.rowSpan>1){var l=d.length-e,m=k.rowSpan>l?l:k.rowSpan;b[i.index]={cell:k,left:m,row:f}}}}}(j),h.applyStyles(h.userStyles),j);o=(n=F.settings).startY,q={x:(p=n.margin).left,y:o},s=F.getHeadHeight(F.columns)+F.getFootHeight(F.columns),t=o+p.bottom+s,"avoid"===n.pageBreak&&(t+=F.body.reduce(function(a,b){return a+b.height},0)),x=new r(a),("always"===n.pageBreak||null!=n.startY&&t>x.pageSize().height)&&(T(x),q.y=p.top),F.callWillDrawPageHooks(x,q),C=B({},q),F.startPageNumber=x.pageNumber(),n.horizontalPageBreak?function(a,b,c,d){var e=function(a,b){for(var c=[],d=0;d<b.columns.length;d++){var e=function(a,b,c){void 0===c&&(c={});var d,e=z(a,b),f=new Map,g=[],h=[],i=[];Array.isArray(b.settings.horizontalPageBreakRepeat)?i=b.settings.horizontalPageBreakRepeat:("string"==typeof b.settings.horizontalPageBreakRepeat||"number"==typeof b.settings.horizontalPageBreakRepeat)&&(i=[b.settings.horizontalPageBreakRepeat]),i.forEach(function(a){var c=b.columns.find(function(b){return b.dataKey===a||b.index===a});c&&!f.has(c.index)&&(f.set(c.index,!0),g.push(c.index),h.push(b.columns[c.index]),e-=c.wrappedWidth)});for(var j=!0,k=null!=(d=null==c?void 0:c.start)?d:0;k<b.columns.length;){if(f.has(k)){k++;continue}var l=b.columns[k].wrappedWidth;if(j||e>=l)j=!1,g.push(k),h.push(b.columns[k]),e-=l;else break;k++}return{colIndexes:g,columns:h,lastIndex:k-1}}(a,b,{start:d});e.columns.length&&(c.push(e),d=e.lastIndex)}return c}(a,b);if("afterAllRows"===b.settings.horizontalPageBreakBehaviour)e.forEach(function(e,f){var g,h,i,j,k;a.applyStyles(a.userStyles),f>0?S(a,b,c,d,e.columns,!0):M(a,b,d,e.columns),g=a,h=b,i=c,j=d,k=e.columns,g.applyStyles(g.userStyles),h.body.forEach(function(a,b){var c=b===h.body.length-1;P(g,h,a,c,i,j,k)}),O(a,b,d,e.columns)});else for(var f=-1,g=e[0];f<b.body.length-1;)!function(){var h=f;if(g){a.applyStyles(a.userStyles);var i=g.columns;f>=0?S(a,b,c,d,i,!0):M(a,b,d,i),h=N(a,b,f+1,d,i),O(a,b,d,i)}var j=h-f;e.slice(1).forEach(function(e){a.applyStyles(a.userStyles),S(a,b,c,d,e.columns,!0),N(a,b,f+1,d,e.columns,j),O(a,b,d,e.columns)}),f=h}()}(x,F,C,q):(x.applyStyles(x.userStyles),("firstPage"===n.showHead||"everyPage"===n.showHead)&&F.head.forEach(function(a){return Q(x,F,a,q,F.columns)}),x.applyStyles(x.userStyles),F.body.forEach(function(a,b){var c=b===F.body.length-1;P(x,F,a,c,C,q,F.columns)}),x.applyStyles(x.userStyles),("lastPage"===n.showFoot||"everyPage"===n.showFoot)&&F.foot.forEach(function(a){return Q(x,F,a,q,F.columns)})),w(x,F,C,q),F.callEndPageHooks(x,q),F.finalY=q.y,a.lastAutoTable=F,x.applyStyles(x.userStyles)}function V(a,b,c){a.setFillColor(41,128,185),a.rect(10,c-2,190,8,"F"),a.setTextColor(255,255,255),a.setFontSize(12),a.setFont("helvetica","bold"),a.text(b,12,c+3.5),a.setTextColor(0,0,0),a.setFont("helvetica","normal")}function W(){let[a,q]=(0,l.useState)([]),[r,s]=(0,l.useState)(0),[t,u]=(0,l.useState)(10),[v,w]=(0,l.useState)(1),[x,y]=(0,l.useState)(!0),[z,A]=(0,l.useState)(null),[B,C]=(0,l.useState)({}),{user:D}=(0,o.useAuthStore)(),E=async a=>{if(z===a)return void A(null);if(A(a),!B[a])try{let b=await fetch(`/api/onboarding/customers/${a}`,{credentials:"include"}),c=await b.json();c.status&&C(b=>({...b,[a]:c.data}))}catch{}};return(0,l.useEffect)(()=>{!async function(){y(!0);let a=await fetch(`/api/onboarding/customers?limit=${t}&offset=${v}`,{credentials:"include"}),b=await a.json();b.status&&b.data&&(q(b.data.items),s(b.data.total)),y(!1)}()},[t,v]),(0,b.jsxs)("div",{className:"space-y-6 max-w-7xl",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(f.Users,{className:"w-6 h-6"}),(0,b.jsx)("h1",{className:"text-2xl font-semibold",children:"Onboarded Customers"})]}),(0,b.jsx)(c.Card,{children:(0,b.jsxs)(c.CardContent,{className:"pt-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)(k.Select,{defaultValue:"all",children:[(0,b.jsx)(k.SelectTrigger,{className:"w-40",children:(0,b.jsx)(k.SelectValue,{placeholder:"All Users"})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"all",children:"All Users"}),(0,b.jsx)(k.SelectItem,{value:"individual",children:"Individual"}),(0,b.jsx)(k.SelectItem,{value:"corporate",children:"Corporate"})]})]}),(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",children:[(0,b.jsx)(i.Eye,{className:"w-4 h-4 mr-2"}),"All Users"]}),(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",children:[(0,b.jsx)(g.Download,{className:"w-4 h-4 mr-2"}),"Download All"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(h.Search,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground"}),(0,b.jsx)(e.Input,{placeholder:"Search users...",className:"pl-9 w-80"})]}),(0,b.jsxs)(k.Select,{defaultValue:"10",children:[(0,b.jsx)(k.SelectTrigger,{className:"w-32",children:(0,b.jsx)(k.SelectValue,{})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"10",children:"10 rows"}),(0,b.jsx)(k.SelectItem,{value:"25",children:"25 rows"}),(0,b.jsx)(k.SelectItem,{value:"50",children:"50 rows"})]})]})]})]}),(0,b.jsx)("div",{className:"border rounded-lg overflow-hidden",children:x?(0,b.jsx)("div",{className:"p-8 text-center text-muted-foreground",children:"Loading customers..."}):(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-slate-50 border-b",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"text-left p-4 font-medium text-sm",children:"Name"}),(0,b.jsx)("th",{className:"text-left p-4 font-medium text-sm",children:"Country"}),(0,b.jsx)("th",{className:"text-left p-4 font-medium text-sm",children:"Email"}),(0,b.jsx)("th",{className:"text-left p-4 font-medium text-sm",children:"Customer Type"}),(0,b.jsx)("th",{className:"text-left p-4 font-medium text-sm",children:"Status"}),(0,b.jsx)("th",{className:"text-left p-4 font-medium text-sm",children:"Created Date"}),(0,b.jsx)("th",{className:"text-left p-4 font-medium text-sm",children:"Risk Score"})]})}),(0,b.jsx)("tbody",{children:a.map(a=>{let c,e,f,g,h,i;return(0,b.jsxs)(l.Fragment,{children:[(0,b.jsxs)("tr",{className:"border-b hover:bg-slate-50",children:[(0,b.jsx)("td",{className:"p-4",children:(0,b.jsxs)("button",{className:"flex items-center gap-2",type:"button",onClick:()=>E(a.id),children:[(0,b.jsx)(j.Building2,{className:"w-4 h-4 text-muted-foreground cursor-pointer"}),(0,b.jsx)("span",{className:"font-medium",children:a.name||"-"})]})}),(0,b.jsx)("td",{className:"p-4",children:a.country||"-"}),(0,b.jsx)("td",{className:"p-4 text-muted-foreground",children:a.email||"-"}),(0,b.jsx)("td",{className:"p-4 text-muted-foreground",children:"individual"===a.customer_type?"Individual":"Corporate"}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:a.status})}),(0,b.jsx)("td",{className:"p-4",children:new Date(a.created_at).toLocaleDateString()}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:a.risk_level?`${a.risk_level} - Medium Risk`:"-"})})]}),z===a.id&&(0,b.jsx)("tr",{className:"bg-white",children:(0,b.jsx)("td",{colSpan:7,className:"p-4",children:B[a.id]?(e="corporate"===(c=B[a.id]).customer_type,f=c.corporate_detail,g=c.individual_detail,i=(h=[c.corporate_detail?.related_persons,c.corporate_related_persons,c.corporate_detail?.partners,c.related_persons,c.partners,c.corporate_detail?.ubo_partners].filter(a=>Array.isArray(a)).reduce((a,b)=>a.concat(b),[])).length,(0,b.jsxs)("div",{className:"border rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center justify-end gap-2 p-2",children:[D?.role!=="Analyst"&&(0,b.jsx)(m.default,{href:`/dashboard/onboarding/customer/edit/${a.id}`,children:(0,b.jsx)(d.Button,{variant:"outline",size:"sm",children:"Edit User"})}),(0,b.jsx)(d.Button,{variant:"outline",size:"sm",onClick:()=>(function(a){let b=new p.jsPDF,c="corporate"===a.customer_type,d=a.corporate_detail,e=a.individual_detail,f=[41,128,185],g=[236,240,241];b.setFillColor(...f),b.rect(0,0,210,40,"F"),b.setTextColor(255,255,255),b.setFontSize(24),b.setFont("helvetica","bold"),b.text("Customer Details Report",105,20,{align:"center"}),b.setFontSize(10),b.setFont("helvetica","normal"),b.text(`Generated on: ${new Date().toLocaleString()}`,105,30,{align:"center"});let h=50;if(b.setFillColor(...g),b.roundedRect(10,h,60,8,2,2,"F"),b.setTextColor(52,73,94),b.setFontSize(9),b.setFont("helvetica","bold"),b.text(c?"CORPORATE CUSTOMER":"INDIVIDUAL CUSTOMER",40,h+5.5,{align:"center"}),V(b,"Basic Information",h+=15),U(b,{startY:h+=10,head:[],body:[["Customer ID",a.id.toString()],["Name",c?d?.company_name||a.name||"-":e?`${e.first_name} ${e.last_name}`:a.name||"-"],["Email",c?a.email:e?.email||"-"],["Customer Type",c?"Corporate":"Individual"],["Status",a.status||"Onboarded"],["Risk Level",a.risk_level?`${a.risk_level} - Medium Risk`:"-"],["Created Date",new Date(a.created_at).toLocaleDateString()]],theme:"grid",headStyles:{fillColor:f},columnStyles:{0:{cellWidth:60,fontStyle:"bold",fillColor:g},1:{cellWidth:130}},margin:{left:10,right:10}}),h=b.lastAutoTable.finalY+10,c){V(b,"Company Information",h),U(b,{startY:h+=10,body:[["Company Name",d?.company_name||"-"],["Company Address",d?.company_address||"-"],["City",d?.city||"-"],["Country of Incorporation",d?.country_incorporated||"-"],["P.O. Box",d?.po_box||"-"],["Office Contact",d?.office_no?`+${d.office_country_code||""} ${d.office_no}`:"-"],["Mobile Contact",d?.mobile_no?`+${d.mobile_country_code||""} ${d.mobile_no}`:"-"],["Email",d?.email||"-"]],theme:"grid",columnStyles:{0:{cellWidth:60,fontStyle:"bold",fillColor:g},1:{cellWidth:130}},margin:{left:10,right:10}}),(h=b.lastAutoTable.finalY+10)>250&&(b.addPage(),h=20),V(b,"License Information",h),U(b,{startY:h+=10,body:[["Trade License No",d?.trade_license_no||"-"],["Issued At",d?.trade_license_issued_at||"-"],["Issued By",d?.trade_license_issued_by||"-"],["Issue Date",d?.license_issue_date||"-"],["Expiry Date",d?.license_expiry_date||"-"],["VAT Registration No",d?.vat_registration_no||"-"],["Tenancy Contract Expiry",d?.tenancy_contract_expiry_date||"-"]],theme:"grid",columnStyles:{0:{cellWidth:60,fontStyle:"bold",fillColor:g},1:{cellWidth:130}},margin:{left:10,right:10}}),(h=b.lastAutoTable.finalY+10)>250&&(b.addPage(),h=20),V(b,"Business Details",h),U(b,{startY:h+=10,body:[["Entity Type",d?.entity_type||"-"],["Business Activity",d?.business_activity||"-"],["Import/Export",d?.is_entity_dealting_with_import_export?"Yes":"No"],["Sister Concern",d?.has_sister_concern?"Yes":"No"],["Account Holding Bank",d?.account_holding_bank_name||"-"],["Product Source",d?.product_source||"-"],["Payment Mode",d?.payment_mode||"-"],["Delivery Channel",d?.delivery_channel||"-"],["Expected Transactions",d?.expected_no_of_transactions?.toString()||"-"],["Expected Volume",d?.expected_volume?.toString()||"-"],["Dual Use Goods",d?.dual_use_goods?"Yes":"No"],["Countries of Operation",Array.isArray(a.country_operations)?a.country_operations.map(a=>a.country||a).join(", "):"-"]],theme:"grid",columnStyles:{0:{cellWidth:60,fontStyle:"bold",fillColor:g},1:{cellWidth:130}},margin:{left:10,right:10}}),h=b.lastAutoTable.finalY+10;let c=[...a.corporate_related_persons||[],...a.related_persons||[]];c.length>0&&(h>250&&(b.addPage(),h=20),V(b,`Partners / UBOs (${c.length})`,h),U(b,{startY:h+=10,head:[["Name","Role","Nationality","Ownership %","PEP"]],body:c.map(a=>[a.name||"-",a.role||"-",a.nationality||"-",a.ownership_percentage?.toString()||"-",a.is_pep?"Yes":"No"]),theme:"striped",headStyles:{fillColor:f},margin:{left:10,right:10}}),h=b.lastAutoTable.finalY+10)}else V(b,"Personal Information",h),U(b,{startY:h+=10,body:[["First Name",e?.first_name||"-"],["Last Name",e?.last_name||"-"],["Date of Birth",e?.dob||"-"],["Gender",e?.gender||"-"],["Nationality",e?.nationality||"-"],["Place of Birth",e?.place_of_birth||"-"],["Residential Status",e?.residential_status||"-"]],theme:"grid",columnStyles:{0:{cellWidth:60,fontStyle:"bold",fillColor:g},1:{cellWidth:130}},margin:{left:10,right:10}}),(h=b.lastAutoTable.finalY+10)>250&&(b.addPage(),h=20),V(b,"Contact & Address Information",h),U(b,{startY:h+=10,body:[["Address",e?.address||"-"],["City",e?.city||"-"],["Country",e?.country||"-"],["Country of Residence",e?.country_of_residence||"-"],["Contact Number",e?.contact_no?`+${e.country_code||""} ${e.contact_no}`:"-"],["Email",e?.email||"-"]],theme:"grid",columnStyles:{0:{cellWidth:60,fontStyle:"bold",fillColor:g},1:{cellWidth:130}},margin:{left:10,right:10}}),(h=b.lastAutoTable.finalY+10)>250&&(b.addPage(),h=20),V(b,"Occupation & Financial Details",h),U(b,{startY:h+=10,body:[["Occupation",e?.occupation||"-"],["Source of Income",e?.source_of_income||"-"],["Purpose of Onboarding",e?.purpose_of_onboarding||"-"],["Payment Mode",e?.payment_mode||"-"],["Mode of Approach",e?.mode_of_approach||"-"],["Expected Transactions",e?.expected_no_of_transactions?.toString()||"-"],["Expected Volume",e?.expected_volume?.toString()||"-"]],theme:"grid",columnStyles:{0:{cellWidth:60,fontStyle:"bold",fillColor:g},1:{cellWidth:130}},margin:{left:10,right:10}}),(h=b.lastAutoTable.finalY+10)>250&&(b.addPage(),h=20),V(b,"Identification Details",h),U(b,{startY:h+=10,body:[["ID Type",e?.id_type||"-"],["ID Number",e?.id_no||"-"],["Issuing Authority",e?.issuing_authority||"-"],["Issuing Country",e?.issuing_country||"-"],["Issue Date",e?.id_issue_date||"-"],["Expiry Date",e?.id_expiry_date||"-"]],theme:"grid",columnStyles:{0:{cellWidth:60,fontStyle:"bold",fillColor:g},1:{cellWidth:130}},margin:{left:10,right:10}}),h=b.lastAutoTable.finalY+10;h>250&&(b.addPage(),h=20),V(b,"Risk & Compliance",h),U(b,{startY:h+=10,body:[["PEP Status",c?"-":e?.is_pep?"Yes":"No"],["Dual Nationality",c?"-":e?.dual_nationality?"Yes":"No"],["Adverse News",c?d?.is_entity_having_adverse_news?"Yes":"No":e?.adverse_news?"Yes":"No"],["Screening Fuzziness",a.screening_fuzziness||"-"],["KYC Documents Collected",c?d?.kyc_documents_collected_with_form?"Yes":"No":"-"],["Registered in GOAML",c?d?.is_entity_registered_in_GOAML?"Yes":"No":"-"]],theme:"grid",columnStyles:{0:{cellWidth:60,fontStyle:"bold",fillColor:g},1:{cellWidth:130}},margin:{left:10,right:10}}),h=b.lastAutoTable.finalY+10,a.documents&&a.documents.length>0&&(h>250&&(b.addPage(),h=20),V(b,`Uploaded Documents (${a.documents.length})`,h),U(b,{startY:h+=10,head:[["File Name","Type","Upload Date"]],body:a.documents.map(a=>[a.file_name||"-",a.document_type||"-",new Date(a.created_at).toLocaleDateString()]),theme:"striped",headStyles:{fillColor:f},margin:{left:10,right:10}}));let i=b.internal.getNumberOfPages();for(let a=1;a<=i;a++)b.setPage(a),b.setFontSize(8),b.setTextColor(128,128,128),b.text(`Page ${a} of ${i}`,105,290,{align:"center"}),b.text("Confidential - For Internal Use Only",105,285,{align:"center"});let j=`Customer_${a.id}_${c?d?.company_name:`${e?.first_name}_${e?.last_name}`}_${new Date().getTime()}.pdf`;b.save(j.replace(/[^a-zA-Z0-9._-]/g,"_"))})(c),children:"Download Details"}),(0,b.jsx)(d.Button,{variant:"outline",size:"sm",onClick:()=>A(null),children:"Close"})]}),(0,b.jsxs)(n.Tabs,{defaultValue:"company-info",className:"p-4",children:[(0,b.jsxs)(n.TabsList,{children:[(0,b.jsx)(n.TabsTrigger,{value:"company-info",children:"Company Info"}),(0,b.jsx)(n.TabsTrigger,{value:"license-info",children:"License Info"}),(0,b.jsx)(n.TabsTrigger,{value:"business-details",children:"Business Details"}),(0,b.jsxs)(n.TabsTrigger,{value:"partners",children:["Partners",i?` (${i})`:""]}),(0,b.jsx)(n.TabsTrigger,{value:"documents",children:"Documents"}),(0,b.jsx)(n.TabsTrigger,{value:"risk-details",children:"Risk Details"}),(0,b.jsx)(n.TabsTrigger,{value:"sanction-details",children:"Sanction Details"})]}),(0,b.jsx)(n.TabsContent,{value:"company-info",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Company Name:"}),(0,b.jsx)("div",{className:"mt-1 p-2 border rounded",children:e?f?.company_name||c.name||"-":g?`${g.first_name} ${g.last_name}`:c.name||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Email:"}),(0,b.jsx)("div",{className:"mt-1 p-2 border rounded",children:e?c.email||"-":g?.email||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Company Address:"}),(0,b.jsx)("div",{className:"mt-1 p-2 border rounded",children:e?f?.company_address||"-":g?.address||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"City:"}),(0,b.jsx)("div",{className:"mt-1 p-2 border rounded",children:e?f?.city||"-":g?.city||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Country of Incorporation:"}),(0,b.jsx)("div",{className:"mt-1 p-2 border rounded",children:e?f?.country_incorporated||"-":g?.country||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"PO Box No:"}),(0,b.jsx)("div",{className:"mt-1 p-2 border rounded",children:e&&f?.po_box||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Contact Office No:"}),(0,b.jsx)("div",{className:"mt-1 p-2 border rounded",children:e?c.contact_office_number||"-":g?.contact_no||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Contact Mobile No:"}),(0,b.jsx)("div",{className:"mt-1 p-2 border rounded",children:e?c.contact_mobile_number||"-":g?.contact_no||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Corporate Status:"}),(0,b.jsx)("div",{className:"mt-1 p-2 border rounded",children:c.status||"Onboarded"})]})]})}),(0,b.jsx)(n.TabsContent,{value:"license-info",children:e?(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Trade License/CR No:"}),(0,b.jsx)("div",{className:"mt-1 p-2 border rounded",children:f?.trade_license_no||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Issued At:"}),(0,b.jsx)("div",{className:"mt-1 p-2 border rounded",children:f?.trade_license_issued_at||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Issued By:"}),(0,b.jsx)("div",{className:"mt-1 p-2 border rounded",children:f?.trade_license_issued_by||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Issue Date:"}),(0,b.jsx)("div",{className:"mt-1 p-2 border rounded",children:f?.license_issue_date||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Expiry Date:"}),(0,b.jsx)("div",{className:"mt-1 p-2 border rounded",children:f?.license_expiry_date||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"VAT Registration No:"}),(0,b.jsx)("div",{className:"mt-1 p-2 border rounded",children:f?.vat_registration_no||"-"})]})]}):(0,b.jsx)("div",{className:"text-sm text-muted-foreground mt-4",children:"No license info for individual customers."})}),(0,b.jsx)(n.TabsContent,{value:"business-details",children:e?(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Entity Type:"}),(0,b.jsx)("div",{className:"mt-1 p-2 border rounded",children:f?.entity_type||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Business Activity:"}),(0,b.jsx)("div",{className:"mt-1 p-2 border rounded",children:f?.business_activity||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Countries of Operation:"}),(0,b.jsx)("div",{className:"mt-1 p-2 border rounded",children:Array.isArray(c.country_operations)&&c.country_operations.length>0?c.country_operations.join(", "):"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Account Holding Bank Name:"}),(0,b.jsx)("div",{className:"mt-1 p-2 border rounded",children:f?.account_holding_bank_name||"-"})]})]}):(0,b.jsx)("div",{className:"text-sm text-muted-foreground mt-4",children:"No business details for individual customers."})}),(0,b.jsx)(n.TabsContent,{value:"partners",children:Array.isArray(h)&&h.length>0?(0,b.jsx)("div",{className:"space-y-4 mt-4",children:h.map((a,c)=>{let d=a.type||a.person_type||a.entity_type||(a.is_entity?"Entity":a.is_individual?"Individual":"-"),e=a.name||[a.first_name,a.last_name].filter(Boolean).join(" ")||a.entity_name||"-",f=a.nationality||a.country||a.country_of_residence||"-",g=a.role||a.designation||a.relationship||a.position||"-",h=a.ownership_percentage??a.share_percentage??a.ownership??"-",i=a.id_type||a.identification_type||a.document_type||"-",j=a.id_number||a.id_no||a.identification_number||a.document_number||"-",k=a.is_pep??a.pep??a.politically_exposed_person,l=k;if("boolean"==typeof k)l=k?"Yes":"No";else if("number"==typeof k)l=1===k?"Yes":"No";else if("string"==typeof k){let a=k.toLowerCase();l=["1","true","yes","y"].includes(a)?"Yes":["0","false","no","n"].includes(a)?"No":k}let m=a.dob||a.date_of_birth||"-",n=a.id_issue||a.id_issued||a.issue_date||"-",o=a.id_expiry||a.expiry_date||"-",p=a.id??`${e}-${f}-${c}`;return(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 border rounded p-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Type"}),(0,b.jsx)("div",{className:"mt-1 p-2 border rounded",children:d})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Name"}),(0,b.jsx)("div",{className:"mt-1 p-2 border rounded",children:e})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Nationality"}),(0,b.jsx)("div",{className:"mt-1 p-2 border rounded",children:f})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Role"}),(0,b.jsx)("div",{className:"mt-1 p-2 border rounded",children:g})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Ownership %"}),(0,b.jsx)("div",{className:"mt-1 p-2 border rounded",children:h})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"ID Type"}),(0,b.jsx)("div",{className:"mt-1 p-2 border rounded",children:i})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"ID Number"}),(0,b.jsx)("div",{className:"mt-1 p-2 border rounded",children:j})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"PEP"}),(0,b.jsx)("div",{className:"mt-1 p-2 border rounded",children:l})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"DOB"}),(0,b.jsx)("div",{className:"mt-1 p-2 border rounded",children:m})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"ID Issue"}),(0,b.jsx)("div",{className:"mt-1 p-2 border rounded",children:n})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"ID Expiry"}),(0,b.jsx)("div",{className:"mt-1 p-2 border rounded",children:o})]})]},p)})}):(0,b.jsx)("div",{className:"text-sm text-muted-foreground mt-4",children:"No partners/UBOs available."})}),(0,b.jsx)(n.TabsContent,{value:"documents",children:Array.isArray(c.documents)&&c.documents.length>0?(0,b.jsx)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:c.documents.map(a=>(0,b.jsxs)("div",{className:"border rounded p-3",children:[(0,b.jsx)("div",{className:"text-sm font-medium mb-2",children:a.file_name}),(0,b.jsx)("a",{href:`http://127.0.0.1:8000/storage/${a.file_path}`,target:"_blank",rel:"noreferrer",className:"text-blue-600 text-sm underline",children:"View"})]},a.id))}):(0,b.jsx)("div",{className:"text-sm text-muted-foreground mt-4",children:"No documents uploaded."})}),(0,b.jsx)(n.TabsContent,{value:"risk-details",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Risk Level"}),(0,b.jsx)("div",{className:"mt-1 p-2 border rounded",children:c.risk_level??"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Screening Fuzziness"}),(0,b.jsx)("div",{className:"mt-1 p-2 border rounded",children:c.screening_fuzziness||"-"})]})]})}),(0,b.jsx)(n.TabsContent,{value:"sanction-details",children:(0,b.jsx)("div",{className:"text-sm text-muted-foreground mt-4",children:"No sanction details available."})})]})]})):(0,b.jsx)("div",{className:"p-4 text-sm text-muted-foreground",children:"Loading details..."})})})]},a.id)})})]})}),(0,b.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,b.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Showing ",v," to ",Math.min(v+t-1,r)," of ",r," customers"]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(d.Button,{variant:"outline",size:"sm",disabled:1===v,onClick:()=>w(Math.max(1,v-t)),children:"Previous"}),(0,b.jsx)(d.Button,{variant:"outline",size:"sm",disabled:v+t>r,onClick:()=>w(v+t),children:"Next"})]})]})]})})]})}a.s(["default",()=>W],70775)}];

//# sourceMappingURL=app_dashboard_customers_page_tsx_2943f3eb._.js.map
module.exports=[76456,a=>{"use strict";var b=a.i(64781),c=a.i(89982),d=a.i(8490),e=a.i(40695),f=a.i(5522),g=a.i(17171),h=a.i(25715),i=a.i(97020),j=a.i(46893),k=a.i(3130),l=a.i(3803),m=a.i(40076),n=a.i(19113),o=a.i(75407),p=a.i(35340),q=a.i(29809),r=a.i(96926),s=a.i(70854),t=a.i(97568),u=a.i(66163),v=a.i(84980),w=a.i(96826),x=a.i(70246),y=a.i(21958);let z=[{value:"Employed",label:"Employed"},{value:"Self-employed",label:"Self Employed"},{value:"Business",label:"Business"},{value:"Retired",label:"Retired"}],A=[{value:"Salary",label:"Salary"},{value:"Business",label:"Business"},{value:"Investment",label:"Investment"},{value:"Other",label:"Other"}],B=[{value:"Passport",label:"Passport"},{value:"EID",label:"EID"},{value:"GCC ID",label:"GCC ID"},{value:"Govt. Issued ID",label:"Govt. Issued ID"},{value:"Commercial License",label:"Commercial License"}],C=[{value:"Personal Use",label:"Personal Use"},{value:"Gift",label:"Gift"},{value:"Investment",label:"Investment"},{value:"Other",label:"Other"}],D=[{value:"Cash",label:"Cash"},{value:"Bank Transfer",label:"Bank Transfer"},{value:"Debit Card",label:"Debit Card"},{value:"Credit Card",label:"Credit Card"},{value:"Other",label:"Other"}],E=[{value:"Walk-In Customer",label:"Walk-In Customer"},{value:"Non Face to Face",label:"Non Face to Face"},{value:"Other",label:"Other"}],F=[{value:"OFF",label:"OFF"},{value:"Level 1",label:"Level 1"},{value:"Level 2",label:"Level 2"}];function G(){let a=(0,d.useParams)(),e=a?.id;(0,d.useRouter)();let{toast:f}=(0,x.useToast)(),[g,h]=(0,c.useState)("individual"),[i,j]=(0,c.useState)([]),[k,n]=(0,c.useState)([]),[o,p]=(0,c.useState)([]),[q,r]=(0,c.useState)(!0),[s,t]=(0,c.useState)(null);return((0,c.useEffect)(()=>{async function a(){try{let a=await fetch("/api/onboarding/meta",{credentials:"include"}),b=await a.json(),c=b.data.countries.countries.map(a=>({value:a.name,label:a.name,code:a.sortname,phoneCode:a.phoneCode}));j(c),n(c.filter(a=>a.phoneCode&&"+0"!==a.phoneCode).map(a=>({value:`${a.phoneCode}`,label:`${a.phoneCode} (${a.label})`}))),p((b.data.products||[]).map(a=>({value:a.id.toString(),label:a.name})));let d=await fetch(`/api/onboarding/customers/${e}`,{credentials:"include"}),g=await d.json();if(g.status){let a=g.data;t(a),h(a.customer_type)}else f({title:"Error",description:"Failed to load customer data"})}catch(a){console.error("Failed to fetch data:",a),f({title:"Error",description:"Failed to load customer data"})}finally{r(!1)}}e&&a()},[e]),q)?(0,b.jsx)("div",{className:"max-w-5xl mx-auto p-6",children:"Loading..."}):s?(0,b.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(u.UsersIcon,{className:"w-5 h-5"}),(0,b.jsx)("h1",{className:"text-2xl font-semibold",children:"Edit Customer"})]})}),(0,b.jsx)("div",{className:"mb-8",children:(0,b.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Customer Type:"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:["individual"===g?(0,b.jsx)(l.User,{className:"w-5 h-5"}):(0,b.jsx)(m.Building2,{className:"w-5 h-5"}),(0,b.jsx)("span",{className:"font-semibold",children:"individual"===g?"Individual":"Corporate"})]})]})}),"individual"===g?(0,b.jsx)(H,{countries:i,countryCodes:k,occupations:z,idTypes:B,products:o,sourceOfIncome:A,customerData:s,customerId:e}):(0,b.jsx)(I,{countries:i,countryCodes:k,occupations:z,idTypes:B,products:o,customerData:s,customerId:e})]}):(0,b.jsx)("div",{className:"max-w-5xl mx-auto p-6",children:"Customer not found"})}function H({countries:a,countryCodes:m,products:u,occupations:v,sourceOfIncome:w,idTypes:z,customerData:A,customerId:B}){let G=(0,d.useRouter)(),{toast:H}=(0,x.useToast)(),I=A.individual_detail||{},[J,K]=(0,c.useState)(I.first_name||""),[L,M]=(0,c.useState)(I.last_name||""),[N,O]=(0,c.useState)(I.dob||""),[P,Q]=(0,c.useState)(I.residential_status||"resident"),[R,S]=(0,c.useState)(I.address||""),[T,U]=(0,c.useState)(I.city||""),[V,W]=(0,c.useState)(I.country||""),[X,Y]=(0,c.useState)(I.nationality||""),[Z,$]=(0,c.useState)(I.country_code||""),[_,aa]=(0,c.useState)(I.contact_no||""),[ab,ac]=(0,c.useState)(I.email||""),[ad,ae]=(0,c.useState)(I.place_of_birth||""),[af,ag]=(0,c.useState)(I.country_of_residence||""),[ah,ai]=(0,c.useState)(!!I.dual_nationality),[aj,ak]=(0,c.useState)(!!I.adverse_news),[al,am]=(0,c.useState)(I.gender||""),[an,ao]=(0,c.useState)(!!I.is_pep),[ap,aq]=(0,c.useState)(I.occupation||""),[ar,as]=(0,c.useState)(I.source_of_income||""),[at,au]=(0,c.useState)(I.purpose_of_onboarding||""),[av,aw]=(0,c.useState)(I.payment_mode||""),[ax,ay]=(0,c.useState)(I.id_type||""),[az,aA]=(0,c.useState)(I.id_no||""),[aB,aC]=(0,c.useState)(I.issuing_authority||""),[aD,aE]=(0,c.useState)(I.issuing_country||""),[aF,aG]=(0,c.useState)(I.id_issue_date||""),[aH,aI]=(0,c.useState)(I.id_expiry_date||""),[aJ,aK]=(0,c.useState)((A.products||[]).map(a=>a.id.toString())),[aL,aM]=(0,c.useState)((A.country_operations||[]).map(a=>a.country)),[aN,aO]=(0,c.useState)(I.mode_of_approach||""),[aP,aQ]=(0,c.useState)(I.expected_no_of_transactions?.toString()||""),[aR,aS]=(0,c.useState)(I.expected_volume?.toString()||""),[aT,aU]=(0,c.useState)(A.screening_fuzziness||""),[aV,aW]=(0,c.useState)(A.remarks||""),[aX,aY]=(0,c.useState)([]),aZ=(0,c.useRef)(null),[a$,a_]=(0,c.useState)("personal"),a0=a=>b=>{"string"==typeof b&&a(b)},a1=a=>b=>{a("yes"===b)},a2=a0(aq),a3=a0(as),a4=async a=>{a.preventDefault();let b={customer_type:"individual",onboarding_type:"full",screening_fuzziness:aT,remarks:aV,individual_details:{first_name:J,last_name:L,dob:N,residential_status:P,address:R,city:T,country:V,nationality:X,country_code:Z,contact_no:_,email:ab,place_of_birth:ad,country_of_residence:af,dual_nationality:ah,adverse_news:aj,gender:al,is_pep:an,occupation:ap,source_of_income:ar,purpose_of_onboarding:at,payment_mode:av,mode_of_approach:aN,expected_no_of_transactions:aP?Number(aP):null,expected_volume:aR?Number(aR):null,id_type:ax,id_no:az,issuing_authority:aB,issuing_country:aD,id_issue_date:aF,id_expiry_date:aH},products:aJ,country_operations:aL};console.log("Individual Update Payload:",b);let c=new FormData;c.append("data",JSON.stringify(b)),aX.forEach(a=>{c.append("documents[]",a)}),console.log("FormData entries:",Array.from(c.entries()).map(([a,b])=>[a,b instanceof File?`File: ${b.name}`:b]));try{let a=await fetch(`/api/onboarding/customers/${B}`,{method:"POST",credentials:"include",body:c}),b=await a.json().catch(async()=>({message:await a.text()}));if(a.ok){let a=b?.message||"Customer updated successfully";H({title:"Success",description:a}),G.push("/dashboard/customers")}else{let a=(b?.errors?Object.values(b.errors).flat().join("; "):"")||b?.message||b?.error||"Unknown error";H({title:"Update failed",description:a})}}catch(a){H({title:"Update failed",description:a?.message||"Network error"})}};return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:"Individual"}),(0,b.jsx)("h3",{className:"text-lg font-semibold",children:"Edit Individual Customer"})]}),(0,b.jsxs)(y.Tabs,{value:a$,onValueChange:a_,className:"w-full",children:[(0,b.jsx)("div",{className:"sticky top-0 z-20 bg-white/95 backdrop-blur py-3 border-b mb-4",children:(0,b.jsxs)(y.TabsList,{className:"w-full h-auto flex flex-wrap justify-start gap-2 bg-transparent p-0",children:[(0,b.jsx)(y.TabsTrigger,{value:"personal",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Personal Information"}),(0,b.jsx)(y.TabsTrigger,{value:"address",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Address Information"}),(0,b.jsx)(y.TabsTrigger,{value:"contact",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Contact Information"}),(0,b.jsx)(y.TabsTrigger,{value:"gender-pep",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Gender and PEP Status"}),(0,b.jsx)(y.TabsTrigger,{value:"occupation",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Occupation and Income"}),(0,b.jsx)(y.TabsTrigger,{value:"financial",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Financial Details"}),(0,b.jsx)(y.TabsTrigger,{value:"transactions",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Transactions and ID Details"}),(0,b.jsx)(y.TabsTrigger,{value:"identification",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Identification Details"}),(0,b.jsx)(y.TabsTrigger,{value:"additional-info",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Additional Information"}),(0,b.jsx)(y.TabsTrigger,{value:"documents",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Upload Documents"})]})}),(0,b.jsxs)("form",{className:"space-y-6 pb-0",onSubmit:a4,onKeyDown:a=>{"Enter"===a.key&&a.preventDefault()},children:[(0,b.jsx)(y.TabsContent,{value:"personal",className:"mt-0",children:(0,b.jsxs)(k.Card,{className:"p-6 bg-blue-50/30",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(l.User,{className:"w-5 h-5 text-blue-600"}),(0,b.jsx)("h4",{className:"font-semibold",children:"Personal Information"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"First Name *"}),(0,b.jsx)(f.Input,{placeholder:"Enter first name",value:J,onChange:a=>K(a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"Last Name *"}),(0,b.jsx)(f.Input,{placeholder:"Enter last name",value:L,onChange:a=>M(a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"Date of Birth *"}),(0,b.jsx)(f.Input,{type:"date",placeholder:"mm/dd/yyyy",value:N,onChange:a=>O(a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"Residential Status *"}),(0,b.jsxs)(i.RadioGroup,{value:P,onValueChange:Q,className:"flex gap-6 mt-2",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(i.RadioGroupItem,{value:"resident",id:"resident"}),(0,b.jsx)(g.Label,{htmlFor:"resident",children:"Resident"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(i.RadioGroupItem,{value:"non-resident",id:"non-resident"}),(0,b.jsx)(g.Label,{htmlFor:"non-resident",children:"Non-Resident"})]})]})]})]})]})}),(0,b.jsx)(y.TabsContent,{value:"address",className:"mt-0",children:(0,b.jsxs)(k.Card,{className:"p-6 bg-blue-50/30",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(n.MapPin,{className:"w-5 h-5 text-blue-600"}),(0,b.jsx)("h4",{className:"font-semibold",children:"Address Information"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,b.jsx)(g.Label,{children:"Address *"}),(0,b.jsx)(f.Input,{placeholder:"Enter address",value:R,onChange:a=>S(a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"City *"}),(0,b.jsx)(f.Input,{placeholder:"Enter city",value:T,onChange:a=>U(a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"Country *"}),(0,b.jsx)(h.Combobox,{options:a,value:V,onValueChange:a0(W),placeholder:"Select a country",searchPlaceholder:"Search country..."})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"Nationality *"}),(0,b.jsx)(h.Combobox,{options:a,value:X,onValueChange:a0(Y),placeholder:"Select a nationality",searchPlaceholder:"Search nationality..."})]})]})]})}),(0,b.jsx)(y.TabsContent,{value:"contact",className:"mt-0",children:(0,b.jsxs)(k.Card,{className:"p-6 bg-blue-50/30",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(o.Phone,{className:"w-5 h-5 text-blue-600"}),(0,b.jsx)("h4",{className:"font-semibold",children:"Contact Information"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"Country Code *"}),(0,b.jsx)(h.Combobox,{options:m,value:Z,onValueChange:a0($),placeholder:"Select",searchPlaceholder:"Search code..."})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"Contact No *"}),(0,b.jsx)(f.Input,{placeholder:"Enter contact number",value:_,onChange:a=>aa(a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"Email *"}),(0,b.jsx)(f.Input,{type:"email",placeholder:"Enter your email",value:ab,onChange:a=>ac(a.target.value)})]})]})]})}),(0,b.jsx)(y.TabsContent,{value:"gender-pep",className:"mt-0",children:(0,b.jsxs)(k.Card,{className:"p-6 bg-blue-50/30",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(l.User,{className:"w-5 h-5 text-blue-600"}),(0,b.jsx)("h4",{className:"font-semibold",children:"Gender and PEP Status"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"Gender *"}),(0,b.jsxs)(i.RadioGroup,{value:al,onValueChange:a=>am(a),className:"flex flex-col gap-2 mt-2",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(i.RadioGroupItem,{value:"Male",id:"male"}),(0,b.jsx)(g.Label,{htmlFor:"male",children:"Male"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(i.RadioGroupItem,{value:"Female",id:"female"}),(0,b.jsx)(g.Label,{htmlFor:"female",children:"Female"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(i.RadioGroupItem,{value:"Other",id:"other"}),(0,b.jsx)(g.Label,{htmlFor:"other",children:"Other"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"Politically Exposed Person (PEP)? *"}),(0,b.jsxs)(i.RadioGroup,{value:an?"yes":"no",onValueChange:a=>ao("yes"===a),className:"flex gap-6 mt-2",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(i.RadioGroupItem,{value:"yes",id:"pep-yes"}),(0,b.jsx)(g.Label,{htmlFor:"pep-yes",children:"Yes"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(i.RadioGroupItem,{value:"no",id:"pep-no"}),(0,b.jsx)(g.Label,{htmlFor:"pep-no",children:"No"})]})]})]})]})]})}),(0,b.jsx)(y.TabsContent,{value:"occupation",className:"mt-0",children:(0,b.jsxs)(k.Card,{className:"p-6 bg-blue-50/30",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(q.Briefcase,{className:"w-5 h-5 text-blue-600"}),(0,b.jsx)("h4",{className:"font-semibold",children:"Occupation and Income"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"Occupation *"}),(0,b.jsx)(h.Combobox,{options:v,value:ap,onValueChange:a2,placeholder:"Select an occupation",searchPlaceholder:"Search occupation..."})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"Source of Income *"}),(0,b.jsx)(h.Combobox,{options:w,value:ar,onValueChange:a3,placeholder:"Select a source",searchPlaceholder:"Search source..."})]})]})]})}),(0,b.jsx)(y.TabsContent,{value:"financial",className:"mt-0",children:(0,b.jsxs)(k.Card,{className:"p-6 bg-blue-50/30",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(r.DollarSign,{className:"w-5 h-5 text-blue-600"}),(0,b.jsx)("h4",{className:"font-semibold",children:"Financial Details"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"Purpose *"}),(0,b.jsx)(h.Combobox,{options:C,value:at,onValueChange:a0(au),placeholder:"Select a purpose",searchPlaceholder:"Search purpose..."})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"Payment Mode *"}),(0,b.jsx)(h.Combobox,{options:D,value:av,onValueChange:a0(aw),placeholder:"Select a payment mode",searchPlaceholder:"Search mode..."})]})]})]})}),(0,b.jsx)(y.TabsContent,{value:"transactions",className:"mt-0",children:(0,b.jsxs)(k.Card,{className:"p-6 bg-blue-50/30",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(s.FileText,{className:"w-5 h-5 text-blue-600"}),(0,b.jsx)("h4",{className:"font-semibold",children:"Transactions and ID Details"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"Product Type *"}),(0,b.jsx)(h.Combobox,{options:u,value:aJ,onValueChange:a=>{Array.isArray(a)&&aK(a)},multiple:!0,placeholder:"Select product type",searchPlaceholder:"Search type..."})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"Mode of Approach *"}),(0,b.jsx)(h.Combobox,{options:E,value:aN,onValueChange:a0(aO),placeholder:"Select mode of approach",searchPlaceholder:"Search approach..."})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"Expected No of Transactions"}),(0,b.jsx)(f.Input,{type:"number",placeholder:"0",value:aP,onChange:a=>aQ(a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"Expected Volume"}),(0,b.jsx)(f.Input,{type:"number",placeholder:"0",value:aR,onChange:a=>aS(a.target.value)})]})]})]})}),(0,b.jsx)(y.TabsContent,{value:"identification",className:"mt-0",children:(0,b.jsxs)(k.Card,{className:"p-6 bg-blue-50/30",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(p.Award,{className:"w-5 h-5 text-blue-600"}),(0,b.jsx)("h4",{className:"font-semibold",children:"Identification Details"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"ID Type *"}),(0,b.jsx)(h.Combobox,{options:z,value:ax,onValueChange:a0(ay),placeholder:"Select an ID type",searchPlaceholder:"Search type..."})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"ID No*"}),(0,b.jsx)(f.Input,{placeholder:"Enter ID number",value:az,onChange:a=>aA(a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"ID Issued By *"}),(0,b.jsx)(f.Input,{placeholder:"Enter issuing authority",value:aB,onChange:a=>aC(a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"ID Issued At *"}),(0,b.jsx)(h.Combobox,{options:a,value:aD,onValueChange:a0(aE),placeholder:"Select a country",searchPlaceholder:"Search country..."})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"ID Issued Date *"}),(0,b.jsx)(f.Input,{type:"date",placeholder:"mm/dd/yyyy",value:aF,onChange:a=>aG(a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"ID Expiry Date *"}),(0,b.jsx)(f.Input,{type:"date",placeholder:"mm/dd/yyyy",value:aH,onChange:a=>aI(a.target.value)})]})]})]})}),(0,b.jsx)(y.TabsContent,{value:"additional-info",className:"mt-0",children:(0,b.jsxs)(k.Card,{className:"p-6 bg-blue-50/30",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(s.FileText,{className:"w-5 h-5 text-blue-600"}),(0,b.jsx)("h4",{className:"font-semibold",children:"Additional Information"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"Place of Birth *"}),(0,b.jsx)(h.Combobox,{options:a,value:ad,onValueChange:a0(ae),placeholder:"Select a country",searchPlaceholder:"Search country..."})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"Country of Residence *"}),(0,b.jsx)(h.Combobox,{options:a,value:af,onValueChange:a0(ag),placeholder:"Select a country",searchPlaceholder:"Search country..."})]}),(0,b.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,b.jsx)(g.Label,{children:"Dual Nationality *"}),(0,b.jsxs)(i.RadioGroup,{value:ah?"yes":"no",onValueChange:a1(ai),className:"flex gap-6 mt-2",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(i.RadioGroupItem,{value:"yes",id:"dual-yes"}),(0,b.jsx)(g.Label,{htmlFor:"dual-yes",children:"Yes"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(i.RadioGroupItem,{value:"no",id:"dual-no"}),(0,b.jsx)(g.Label,{htmlFor:"dual-no",children:"No"})]})]})]}),(0,b.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,b.jsx)(g.Label,{children:"Is Customer Facing any adverse event? *"}),(0,b.jsx)("p",{className:"text-xs text-blue-600 mb-2",children:"We don't Check adverse news feed"}),(0,b.jsxs)(i.RadioGroup,{value:aj?"yes":"no",onValueChange:a1(ak),className:"flex gap-6 mt-2",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(i.RadioGroupItem,{value:"yes",id:"adverse-yes"}),(0,b.jsx)(g.Label,{htmlFor:"adverse-yes",children:"Yes"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(i.RadioGroupItem,{value:"no",id:"adverse-no"}),(0,b.jsx)(g.Label,{htmlFor:"adverse-no",children:"No"})]})]})]}),(0,b.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,b.jsx)(g.Label,{children:"Screening Fuzziness *"}),(0,b.jsx)(h.Combobox,{options:F,value:aT,onValueChange:a0(aU),placeholder:"Select fuzziness level",searchPlaceholder:"Search fuzziness..."})]}),(0,b.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,b.jsx)(g.Label,{children:"Remarks"}),(0,b.jsx)(j.Textarea,{placeholder:"Enter any remarks",rows:3,value:aV,onChange:a=>aW(a.target.value)})]})]})]})}),(0,b.jsx)(y.TabsContent,{value:"documents",className:"mt-0",children:(0,b.jsxs)(k.Card,{className:"p-6 bg-blue-50/30",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(t.Upload,{className:"w-5 h-5 text-blue-600"}),(0,b.jsx)("h4",{className:"font-semibold",children:"Upload Documents"})]}),(0,b.jsxs)("div",{className:"border-2 border-dashed border-blue-300 rounded-lg p-8 text-center cursor-pointer",onClick:()=>aZ.current?.click(),children:[(0,b.jsx)(t.Upload,{className:"w-8 h-8 mx-auto mb-2 text-blue-600"}),(0,b.jsx)("p",{className:"text-sm text-blue-600 mb-1",children:"Add Documents"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Max 5 files, each up to 2MB (Images, PDFs, Docs)"}),(0,b.jsx)("input",{ref:aZ,type:"file",multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx,.xls,.xlsx,.csv,.txt,.gif,.bmp,.tiff,.svg,.webp,.heic",onChange:a=>{a.target.files&&aY(Array.from(a.target.files).filter(a=>a.size<=2097152).slice(0,5))},className:"mt-2 hidden"}),(0,b.jsx)("div",{className:"mt-2 flex flex-col items-center gap-1",children:aX.map((a,c)=>(0,b.jsxs)("span",{className:"text-xs text-gray-700",children:[a.name," (",(a.size/1024).toFixed(1)," KB)"]},c))})]})]})}),(0,b.jsx)("div",{className:"sticky bottom-0 bg-white/95 backdrop-blur py-4 border-t mt-6",children:(0,b.jsx)(e.Button,{className:"w-full bg-blue-600 hover:bg-blue-700",type:"submit",children:"Update Customer"})})]})]})]})}function I({countries:a,countryCodes:m,products:n,occupations:o,idTypes:p,customerData:q,customerId:r}){let s=(0,d.useRouter)(),{toast:u}=(0,x.useToast)(),z=q.corporate_detail||{},[A,B]=(0,c.useState)(z.company_name||""),[C,D]=(0,c.useState)(z.company_address||""),[E,G]=(0,c.useState)(z.city||""),[H,I]=(0,c.useState)(z.country_incorporated||""),[J,K]=(0,c.useState)(z.po_box||""),[L,M]=(0,c.useState)(z.customer_type||""),[N,O]=(0,c.useState)(z.office_country_code||""),[P,Q]=(0,c.useState)(z.office_no||""),[R,S]=(0,c.useState)(z.mobile_country_code||""),[T,U]=(0,c.useState)(z.mobile_no||""),[V,W]=(0,c.useState)(z.email||""),[X,Y]=(0,c.useState)(z.trade_license_no||""),[Z,$]=(0,c.useState)(z.trade_license_issued_at||""),[_,aa]=(0,c.useState)(z.trade_license_issued_by||""),[ab,ac]=(0,c.useState)(z.license_issue_date||""),[ad,ae]=(0,c.useState)(z.license_expiry_date||""),[af,ag]=(0,c.useState)(z.vat_registration_no||""),[ah,ai]=(0,c.useState)(z.tenancy_contract_expiry_date||""),[aj,ak]=(0,c.useState)(z.entity_type||""),[al,am]=(0,c.useState)((q.country_operations||[]).map(a=>a.country)),[an,ao]=(0,c.useState)(z.business_activity||""),[ap,aq]=(0,c.useState)(!!z.is_entity_dealting_with_import_export),[ar,as]=(0,c.useState)(!!z.has_sister_concern),[at,au]=(0,c.useState)(z.account_holding_bank_name||""),[av,aw]=(0,c.useState)(z.product_source||""),[ax,ay]=(0,c.useState)(z.payment_mode||""),[az,aA]=(0,c.useState)(z.delivery_channel||""),[aB,aC]=(0,c.useState)(z.expected_no_of_transactions?.toString()||""),[aD,aE]=(0,c.useState)(z.expected_volume?.toString()||""),[aF,aG]=(0,c.useState)(!!z.dual_use_goods),[aH,aI]=(0,c.useState)(!!z.kyc_documents_collected_with_form),[aJ,aK]=(0,c.useState)(!!z.is_entity_registered_in_GOAML),[aL,aM]=(0,c.useState)(!!z.is_entity_having_adverse_news),aN=[{value:"UBO",label:"UBO"},{value:"SHARE HOLDER",label:"SHARE HOLDER"},{value:"PARTNER",label:"PARTNER"},{value:"DIRECTOR",label:"DIRECTOR"},{value:"MANAGER",label:"MANAGER"},{value:"REPRESENTATIVE",label:"REPRESENTATIVE"}],[aO,aP]=(0,c.useState)((q.products||[]).map(a=>a.id.toString())),[aQ,aR]=(0,c.useState)((q.country_operations||[]).map(a=>a.country)),[aS,aT]=(0,c.useState)(q.screening_fuzziness||""),[aU,aV]=(0,c.useState)(q.remarks||""),[aW,aX]=(0,c.useState)([]),aY=(0,c.useRef)(null),[aZ,a$]=(0,c.useState)((z.related_persons||[]).map(a=>({type:a.type||"individual",name:a.name||"",is_pep:!!a.is_pep,nationality:a.nationality||"",id_type:a.id_type||"",id_no:a.id_no||"",id_issue_date:a.id_issue_date||"",id_expiry_date:a.id_expiry_date||"",dob:a.dob||"",role:a.role||"",ownership_percentage:a.ownership_percentage||""}))),[a_,a0]=(0,c.useState)("company"),a1=a=>b=>{"string"==typeof b&&a(b)},a2=a=>b=>{Array.isArray(b)&&a(b)},a3=a=>b=>{a("yes"===b)},a4=(a,b,c)=>{let d=[...aZ];d[a]={...d[a],[b]:c},a$(d)},a5=async a=>{a.preventDefault();let b={customer_type:"corporate",onboarding_type:"full",screening_fuzziness:aS,remarks:aU,corporate_details:{company_name:A,company_address:C,city:E,country_incorporated:H,po_box:J,customer_type:L,office_country_code:N,office_no:P,mobile_country_code:R,mobile_no:T,email:V,trade_license_no:X,trade_license_issued_at:Z,trade_license_issued_by:_,license_issue_date:ab,license_expiry_date:ad,vat_registration_no:af,tenancy_contract_expiry_date:ah,entity_type:aj,business_activity:an,is_entity_dealting_with_import_export:ap,has_sister_concern:ar,account_holding_bank_name:at,product_source:av,payment_mode:ax,delivery_channel:az,expected_no_of_transactions:aB?Number(aB):null,expected_volume:aD?Number(aD):null,dual_use_goods:aF,kyc_documents_collected_with_form:aH,is_entity_registered_in_GOAML:aJ,is_entity_having_adverse_news:aL},corporate_related_persons:aZ,products:aO,country_operations:aQ};console.log("Corporate Update Payload:",b);let c=new FormData;c.append("data",JSON.stringify(b)),aW.forEach(a=>{c.append("documents[]",a)}),console.log("FormData entries:",Array.from(c.entries()).map(([a,b])=>[a,b instanceof File?`File: ${b.name}`:b]));try{let a=await fetch(`/api/onboarding/customers/${r}`,{method:"POST",credentials:"include",body:c}),b=await a.json().catch(async()=>({message:await a.text()}));if(a.ok){let a=b?.message||"Customer updated successfully";u({title:"Success",description:a}),s.push("/dashboard/customers")}else{let a=(b?.errors?Object.values(b.errors).flat().join("; "):"")||b?.message||b?.error||"Unknown error";u({title:"Update failed",description:a})}}catch(a){u({title:"Update failed",description:a?.message||"Network error"})}};return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:"Corporate"}),(0,b.jsx)("h3",{className:"text-lg font-semibold",children:"Edit Corporate Customer"})]}),(0,b.jsxs)(y.Tabs,{value:a_,onValueChange:a0,className:"w-full",children:[(0,b.jsx)("div",{className:"sticky top-0 z-20 bg-white/95 backdrop-blur py-3 border-b mb-4",children:(0,b.jsxs)(y.TabsList,{className:"w-full h-auto flex flex-wrap justify-start gap-2 bg-transparent p-0",children:[(0,b.jsx)(y.TabsTrigger,{value:"company",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Company Information"}),(0,b.jsx)(y.TabsTrigger,{value:"contact",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Contact Information"}),(0,b.jsx)(y.TabsTrigger,{value:"identity",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Identity Information"}),(0,b.jsx)(y.TabsTrigger,{value:"operations",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Operations Information"}),(0,b.jsx)(y.TabsTrigger,{value:"product",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Product Details"}),(0,b.jsx)(y.TabsTrigger,{value:"aml",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"AML Compliance"}),(0,b.jsx)(y.TabsTrigger,{value:"related",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Partner/Representative"}),(0,b.jsx)(y.TabsTrigger,{value:"documents",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Upload Documents"}),(0,b.jsx)(y.TabsTrigger,{value:"additional",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Additional Information"})]})}),(0,b.jsxs)("form",{className:"space-y-6 pb-0",onSubmit:a5,onKeyDown:a=>{"Enter"===a.key&&a.preventDefault()},children:[(0,b.jsx)(y.TabsContent,{value:"company",className:"space-y-4",children:(0,b.jsx)(k.Card,{className:"p-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)(g.Label,{htmlFor:"companyName",children:"Company Name *"}),(0,b.jsx)(f.Input,{id:"companyName",value:A,onChange:a=>B(a.target.value),placeholder:"Enter company name",className:"mt-1.5"})]}),(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)(g.Label,{htmlFor:"companyAddress",children:"Company Address *"}),(0,b.jsx)(f.Input,{id:"companyAddress",value:C,onChange:a=>D(a.target.value),placeholder:"Enter company address",className:"mt-1.5"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"city",children:"City"}),(0,b.jsx)(f.Input,{id:"city",value:E,onChange:a=>G(a.target.value),placeholder:"Enter city",className:"mt-1.5"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"countryIncorporated",children:"Country Incorporated *"}),(0,b.jsx)(h.Combobox,{options:a,value:H,onValueChange:a1(I),placeholder:"Select country",searchPlaceholder:"Search country..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"poBox",children:"P.O. Box"}),(0,b.jsx)(f.Input,{id:"poBox",value:J,onChange:a=>K(a.target.value),placeholder:"Enter P.O. Box",className:"mt-1.5"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"customerType",children:"Customer Type"}),(0,b.jsx)(f.Input,{id:"customerType",value:L,onChange:a=>M(a.target.value),placeholder:"Enter customer type",className:"mt-1.5"})]})]})})}),(0,b.jsx)(y.TabsContent,{value:"contact",className:"space-y-4",children:(0,b.jsx)(k.Card,{className:"p-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"officeCountryCode",children:"Office Country Code"}),(0,b.jsx)(h.Combobox,{options:m,value:N,onValueChange:a1(O),placeholder:"Select code",searchPlaceholder:"Search code..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"officeNo",children:"Office Number"}),(0,b.jsx)(f.Input,{id:"officeNo",value:P,onChange:a=>Q(a.target.value),placeholder:"Enter office number",className:"mt-1.5"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"mobileCountryCode",children:"Mobile Country Code"}),(0,b.jsx)(h.Combobox,{options:m,value:R,onValueChange:a1(S),placeholder:"Select code",searchPlaceholder:"Search code..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"mobileNo",children:"Mobile Number"}),(0,b.jsx)(f.Input,{id:"mobileNo",value:T,onChange:a=>U(a.target.value),placeholder:"Enter mobile number",className:"mt-1.5"})]}),(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)(g.Label,{htmlFor:"email",children:"Email *"}),(0,b.jsx)(f.Input,{id:"email",type:"email",value:V,onChange:a=>W(a.target.value),placeholder:"Enter email address",className:"mt-1.5"})]})]})})}),(0,b.jsx)(y.TabsContent,{value:"identity",className:"space-y-4",children:(0,b.jsx)(k.Card,{className:"p-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"tradeLicenseNo",children:"Trade License Number"}),(0,b.jsx)(f.Input,{id:"tradeLicenseNo",value:X,onChange:a=>Y(a.target.value),placeholder:"Enter trade license number",className:"mt-1.5"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"tradeLicenseIssuedAt",children:"Trade License Issued At"}),(0,b.jsx)(f.Input,{id:"tradeLicenseIssuedAt",value:Z,onChange:a=>$(a.target.value),placeholder:"Enter issuing location",className:"mt-1.5"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"tradeLicenseIssuedBy",children:"Trade License Issued By"}),(0,b.jsx)(f.Input,{id:"tradeLicenseIssuedBy",value:_,onChange:a=>aa(a.target.value),placeholder:"Enter issuing authority",className:"mt-1.5"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"licenseIssueDate",children:"License Issue Date"}),(0,b.jsx)(f.Input,{id:"licenseIssueDate",type:"date",value:ab,onChange:a=>ac(a.target.value),className:"mt-1.5"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"licenseExpiryDate",children:"License Expiry Date"}),(0,b.jsx)(f.Input,{id:"licenseExpiryDate",type:"date",value:ad,onChange:a=>ae(a.target.value),className:"mt-1.5"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"vatRegistrationNo",children:"VAT Registration Number"}),(0,b.jsx)(f.Input,{id:"vatRegistrationNo",value:af,onChange:a=>ag(a.target.value),placeholder:"Enter VAT registration number",className:"mt-1.5"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"tenancyContractExpiryDate",children:"Tenancy Contract Expiry Date"}),(0,b.jsx)(f.Input,{id:"tenancyContractExpiryDate",type:"date",value:ah,onChange:a=>ai(a.target.value),className:"mt-1.5"})]})]})})}),(0,b.jsx)(y.TabsContent,{value:"operations",className:"space-y-4",children:(0,b.jsx)(k.Card,{className:"p-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"entityType",children:"Entity Type *"}),(0,b.jsx)(h.Combobox,{options:[{value:"LLC",label:"LLC"},{value:"Sole Proprietorship",label:"Sole Proprietorship"},{value:"Partnership",label:"Partnership"},{value:"Govt. Entity",label:"Govt. Entity"},{value:"FZE",label:"FZE"},{value:"FZCO",label:"FZCO"},{value:"Private Limited",label:"Private Limited"},{value:"Public Limited",label:"Public Limited"}],value:aj,onValueChange:a1(ak),placeholder:"Select entity type",searchPlaceholder:"Search type..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"countriesOfOperation",children:"Countries of Operation *"}),(0,b.jsx)(h.Combobox,{options:a,value:aQ,onValueChange:a2(aR),multiple:!0,placeholder:"Select a country",searchPlaceholder:"Search country..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"businessActivity",children:"Business Activity *"}),(0,b.jsx)(h.Combobox,{options:[{value:"Accounting/Auditing Firm",label:"Accounting/Auditing Firm"},{value:"Bank/Financial Institute",label:"Bank/Financial Institute"},{value:"DPMS - Retail Store",label:"DPMS - Retail Store"},{value:"DPMS - Bullion Wholesale",label:"DPMS - Bullion Wholesale"},{value:"DPMS - Mining, Refining",label:"DPMS - Mining, Refining"},{value:"DPMS- Factory, Workshop, Goldsmith",label:"DPMS- Factory, Workshop, Goldsmith"},{value:"Real Estate",label:"Real Estate"},{value:"General Trading",label:"General Trading"},{value:"Education",label:"Education"},{value:"Other",label:"Other"}],value:an,onValueChange:a1(ao),placeholder:"Select business activity",searchPlaceholder:"Search business activity..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{children:"Is entity dealing with Import/Export? *"}),(0,b.jsxs)(i.RadioGroup,{value:ap?"yes":"no",onValueChange:a3(aq),className:"flex gap-6 mt-2",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(i.RadioGroupItem,{value:"yes",id:"import-yes"}),(0,b.jsx)(g.Label,{htmlFor:"import-yes",className:"font-normal cursor-pointer",children:"Yes"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(i.RadioGroupItem,{value:"no",id:"import-no"}),(0,b.jsx)(g.Label,{htmlFor:"import-no",className:"font-normal cursor-pointer",children:"No"})]})]})]}),(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)(g.Label,{children:"Any other sister concern/branch? *"}),(0,b.jsxs)(i.RadioGroup,{value:ar?"yes":"no",onValueChange:a3(as),className:"flex gap-6 mt-2",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(i.RadioGroupItem,{value:"yes",id:"sister-yes"}),(0,b.jsx)(g.Label,{htmlFor:"sister-yes",className:"font-normal cursor-pointer",children:"Yes"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(i.RadioGroupItem,{value:"no",id:"sister-no"}),(0,b.jsx)(g.Label,{htmlFor:"sister-no",className:"font-normal cursor-pointer",children:"No"})]})]})]}),(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)(g.Label,{htmlFor:"accountHoldingBankName",children:"Account Holding Bank Name *"}),(0,b.jsx)(f.Input,{id:"accountHoldingBankName",value:at,onChange:a=>au(a.target.value),placeholder:"Enter bank name (max 50 characters)",className:"mt-1.5"})]})]})})}),(0,b.jsx)(y.TabsContent,{value:"product",className:"space-y-4",children:(0,b.jsx)(k.Card,{className:"p-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"productTypes",children:"Product Type *"}),(0,b.jsx)(h.Combobox,{options:n,value:aO,onValueChange:a2(aP),multiple:!0,placeholder:"Select Product Type",searchPlaceholder:"Search type..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"productSource",children:"Product Source *"}),(0,b.jsx)(h.Combobox,{options:[{value:"B2B - Inside UAE",label:"B2B - Inside UAE"},{value:"B2C - Inside UAE",label:"B2C - Inside UAE"},{value:"B2B - Outside UAE",label:"B2B - Outside UAE"},{value:"Individual HRC",label:"Individual HRC"},{value:"Individual Non-HRC",label:"Individual Non-HRC"},{value:"B2B - Outside & Outside UAE",label:"B2B - Outside & Outside UAE"}],value:av,onValueChange:a1(aw),placeholder:"Select product source",searchPlaceholder:"Search source..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"paymentMode",children:"Payment Mode *"}),(0,b.jsx)(h.Combobox,{options:[{value:"Cash",label:"Cash"},{value:"Debit/Credit Card-Cardholder name verified",label:"Debit/Credit Card-Cardholder name verified"},{value:"Bank Transfer-Inside UAE",label:"Bank Transfer-Inside UAE"},{value:"Bank Transfer-Outisde UAE",label:"Bank Transfer-Outisde UAE"},{value:"Parial Cash/Card/Online trs",label:"Parial Cash/Card/Online trs"},{value:"Old Gold Exchange",label:"Old Gold Exchange"},{value:"Cross Border Payment From HRC",label:"Cross Border Payment From HRC"},{value:"Others",label:"Others"}],value:ax,onValueChange:a1(ay),placeholder:"Select payment mode",searchPlaceholder:"Search mode..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"deliveryChannel",children:"Delivery Channel *"}),(0,b.jsx)(h.Combobox,{options:[{value:"Face to Face",label:"Face to Face"},{value:"Non Face to Face",label:"Non Face to Face"}],value:az,onValueChange:a1(aA),placeholder:"Select delivery channel",searchPlaceholder:"Search channel..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"expectedNoOfTransactions",children:"Expected No of Transactions"}),(0,b.jsx)(f.Input,{id:"expectedNoOfTransactions",type:"number",placeholder:"0",value:aB,onChange:a=>aC(a.target.value),className:"mt-1.5"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"expectedVolume",children:"Expected Volume"}),(0,b.jsx)(f.Input,{id:"expectedVolume",type:"number",placeholder:"0",value:aD,onChange:a=>aE(a.target.value),className:"mt-1.5"})]}),(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)(g.Label,{children:"Deal with Goods? *"}),(0,b.jsxs)(i.RadioGroup,{value:aF?"yes":"no",onValueChange:a3(aG),className:"flex gap-6 mt-2",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(i.RadioGroupItem,{value:"yes",id:"goods-yes"}),(0,b.jsx)(g.Label,{htmlFor:"goods-yes",className:"font-normal cursor-pointer",children:"Yes"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(i.RadioGroupItem,{value:"no",id:"goods-no"}),(0,b.jsx)(g.Label,{htmlFor:"goods-no",className:"font-normal cursor-pointer",children:"No"})]})]})]})]})})}),(0,b.jsx)(y.TabsContent,{value:"aml",className:"space-y-4",children:(0,b.jsx)(k.Card,{className:"p-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{children:"KYC Documents Collected"}),(0,b.jsxs)(i.RadioGroup,{value:aH?"yes":"no",onValueChange:a3(aI),className:"flex gap-4 mt-2",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(i.RadioGroupItem,{value:"yes",id:"kyc-yes"}),(0,b.jsx)(g.Label,{htmlFor:"kyc-yes",className:"font-normal cursor-pointer",children:"Yes"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(i.RadioGroupItem,{value:"no",id:"kyc-no"}),(0,b.jsx)(g.Label,{htmlFor:"kyc-no",className:"font-normal cursor-pointer",children:"No"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{children:"Registered in GOAML"}),(0,b.jsxs)(i.RadioGroup,{value:aJ?"yes":"no",onValueChange:a3(aK),className:"flex gap-4 mt-2",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(i.RadioGroupItem,{value:"yes",id:"goaml-yes"}),(0,b.jsx)(g.Label,{htmlFor:"goaml-yes",className:"font-normal cursor-pointer",children:"Yes"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(i.RadioGroupItem,{value:"no",id:"goaml-no"}),(0,b.jsx)(g.Label,{htmlFor:"goaml-no",className:"font-normal cursor-pointer",children:"No"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{children:"Adverse News"}),(0,b.jsxs)(i.RadioGroup,{value:aL?"yes":"no",onValueChange:a3(aM),className:"flex gap-4 mt-2",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(i.RadioGroupItem,{value:"yes",id:"adverse-yes"}),(0,b.jsx)(g.Label,{htmlFor:"adverse-yes",className:"font-normal cursor-pointer",children:"Yes"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(i.RadioGroupItem,{value:"no",id:"adverse-no"}),(0,b.jsx)(g.Label,{htmlFor:"adverse-no",className:"font-normal cursor-pointer",children:"No"})]})]})]})]})})}),(0,b.jsx)(y.TabsContent,{value:"related",className:"space-y-4",children:(0,b.jsxs)(k.Card,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)(g.Label,{children:"Partner/Representative/Authorized Person Details"}),(0,b.jsxs)(e.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>{a$([...aZ,{type:"individual",name:"",is_pep:!1,nationality:"",id_type:"",id_no:"",id_issue_date:"",id_expiry_date:"",dob:"",role:"",ownership_percentage:""}])},children:[(0,b.jsx)(v.Plus,{className:"w-4 h-4 mr-2"}),"Add Another Representative"]})]}),aZ.map((c,d)=>(0,b.jsxs)(k.Card,{className:"p-4 mb-4 bg-slate-50",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,b.jsxs)("h4",{className:"font-semibold text-sm flex items-center gap-2",children:[(0,b.jsx)(l.User,{className:"w-4 h-4"}),"UBO ",d+1]}),aZ.length>1&&(0,b.jsx)(e.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>{a$(aZ.filter((a,b)=>b!==d))},children:(0,b.jsx)(w.Trash2,{className:"w-4 h-4 text-red-600"})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{className:"text-xs",children:"Type *"}),(0,b.jsx)(h.Combobox,{options:[{value:"Individual",label:"Individual"},{value:"Entity",label:"Entity"}],value:c.type,onValueChange:a=>"string"==typeof a&&a4(d,"type",a),placeholder:"Select type",searchPlaceholder:"Search type..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{className:"text-xs",children:"Name *"}),(0,b.jsx)(f.Input,{value:c.name,onChange:a=>a4(d,"name",a.target.value),placeholder:"Enter Name",className:"mt-1"})]}),(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)(g.Label,{className:"text-xs",children:"Previously Exposed Person (PEP)? *"}),(0,b.jsxs)(i.RadioGroup,{value:c.is_pep?"yes":"no",onValueChange:a=>a4(d,"is_pep","yes"===a),className:"flex gap-6 mt-1",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(i.RadioGroupItem,{value:"yes",id:`pep-yes-${d}`}),(0,b.jsx)(g.Label,{htmlFor:`pep-yes-${d}`,className:"font-normal cursor-pointer text-xs",children:"Yes"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(i.RadioGroupItem,{value:"no",id:`pep-no-${d}`}),(0,b.jsx)(g.Label,{htmlFor:`pep-no-${d}`,className:"font-normal cursor-pointer text-xs",children:"No"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{className:"text-xs",children:"Nationality"}),(0,b.jsx)(h.Combobox,{options:a,value:c.nationality,onValueChange:a=>"string"==typeof a&&a4(d,"nationality",a),placeholder:"Select nationality",searchPlaceholder:"Search nationality..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{className:"text-xs",children:"ID Type *"}),(0,b.jsx)(h.Combobox,{options:p,value:c.id_type,onValueChange:a=>"string"==typeof a&&a4(d,"id_type",a),placeholder:"Passport",searchPlaceholder:"Search type..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{className:"text-xs",children:"ID No/License No *"}),(0,b.jsx)(f.Input,{value:c.id_no,onChange:a=>a4(d,"id_no",a.target.value),placeholder:"Enter ID License No",className:"mt-1"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{className:"text-xs",children:"ID Issue Date *"}),(0,b.jsx)(f.Input,{type:"date",placeholder:"mm/dd/yyyy",value:c.id_issue_date,onChange:a=>a4(d,"id_issue_date",a.target.value),className:"mt-1"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{className:"text-xs",children:"ID Expiry Date *"}),(0,b.jsx)(f.Input,{type:"date",placeholder:"mm/dd/yyyy",value:c.id_expiry_date,onChange:a=>a4(d,"id_expiry_date",a.target.value),className:"mt-1"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{className:"text-xs",children:"Date of Birth *"}),(0,b.jsx)(f.Input,{type:"date",placeholder:"mm/dd/yyyy",value:c.dob,onChange:a=>a4(d,"dob",a.target.value),className:"mt-1"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{className:"text-xs",children:"Role *"}),(0,b.jsx)(h.Combobox,{options:aN,value:c.role,onValueChange:a=>"string"==typeof a&&a4(d,"role",a),placeholder:"UBO",searchPlaceholder:"Search role..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{className:"text-xs",children:"Percentage of Share *"}),(0,b.jsx)(f.Input,{value:c.ownership_percentage,onChange:a=>a4(d,"ownership_percentage",a.target.value),placeholder:"Enter Percentage (0-100)",className:"mt-1"})]})]})]},d))]})}),(0,b.jsx)(y.TabsContent,{value:"additional",className:"space-y-4",children:(0,b.jsx)(k.Card,{className:"p-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"fuzziness",children:"Screening Fuzziness"}),(0,b.jsx)(h.Combobox,{options:F,value:aS,onValueChange:a1(aT),placeholder:"Select fuzziness",searchPlaceholder:"Search fuzziness..."})]}),(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)(g.Label,{htmlFor:"remarks",children:"Remarks"}),(0,b.jsx)(j.Textarea,{id:"remarks",value:aU,onChange:a=>aV(a.target.value),placeholder:"Enter any additional remarks",className:"mt-1.5",rows:3})]})]})})}),(0,b.jsx)(y.TabsContent,{value:"documents",className:"space-y-4",children:(0,b.jsx)(k.Card,{className:"p-6",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(g.Label,{children:"Upload Documents"}),(0,b.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-4",children:[(0,b.jsx)("input",{type:"file",ref:aY,onChange:a=>{a.target.files&&aX(Array.from(a.target.files).filter(a=>a.size<=2097152).slice(0,5))},className:"hidden",multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx"}),(0,b.jsxs)(e.Button,{type:"button",variant:"outline",onClick:()=>aY.current?.click(),className:"w-full",children:[(0,b.jsx)(t.Upload,{className:"w-4 h-4 mr-2"}),"Choose Files"]}),aW.length>0&&(0,b.jsx)("div",{className:"mt-2 space-y-1",children:aW.map((a,c)=>(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:a.name},c))})]})]})})}),(0,b.jsx)("div",{className:"sticky bottom-0 bg-white/95 backdrop-blur py-4 border-t mt-6",children:(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)(e.Button,{type:"button",variant:"outline",className:"flex-1",onClick:()=>s.push("/dashboard/customers"),children:"Cancel"}),(0,b.jsx)(e.Button,{className:"flex-1 bg-blue-600 hover:bg-blue-700",type:"submit",children:"Update Customer"})]})})]})]})]})}a.s(["default",()=>G])}];

//# sourceMappingURL=app_dashboard_onboarding_customer_edit_%5Bid%5D_page_tsx_ede5406a._.js.map
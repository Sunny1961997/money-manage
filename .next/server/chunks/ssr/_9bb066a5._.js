module.exports=[3130,a=>{"use strict";var b=a.i(64781),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},5522,a=>{"use strict";var b=a.i(64781),c=a.i(97895);function d({className:a,type:d,...e}){return(0,b.jsx)("input",{type:d,"data-slot":"input",className:(0,c.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...e})}a.s(["Input",()=>d])},17171,a=>{"use strict";var b=a.i(64781),c=a.i(89982),d=a.i(4252),e=c.forwardRef((a,c)=>(0,b.jsx)(d.Primitive.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));e.displayName="Label";var f=a.i(97895);function g({className:a,...c}){return(0,b.jsx)(e,{"data-slot":"label",className:(0,f.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...c})}a.s(["Label",()=>g],17171)},25569,33955,a=>{"use strict";var b=a.i(89982),c=a.i(38032),d=a.i(31010),e=a.i(49336),f=a.i(91586),g=a.i(90869),h=a.i(42144),i=a.i(28437),j=a.i(54334),k=a.i(62856),l=a.i(4252),m=a.i(61336),n=a.i(25556),o=a.i(16164),p=a.i(57554),q=a.i(64781),r="Dialog",[s,t]=(0,e.createContextScope)(r),[u,v]=s(r),w=a=>{let{__scopeDialog:c,children:d,open:e,defaultOpen:h,onOpenChange:i,modal:j=!0}=a,k=b.useRef(null),l=b.useRef(null),[m=!1,n]=(0,g.useControllableState)({prop:e,defaultProp:h,onChange:i});return(0,q.jsx)(u,{scope:c,triggerRef:k,contentRef:l,contentId:(0,f.useId)(),titleId:(0,f.useId)(),descriptionId:(0,f.useId)(),open:m,onOpenChange:n,onOpenToggle:b.useCallback(()=>n(a=>!a),[n]),modal:j,children:d})};w.displayName=r;var x="DialogTrigger",y=b.forwardRef((a,b)=>{let{__scopeDialog:e,...f}=a,g=v(x,e),h=(0,d.useComposedRefs)(b,g.triggerRef);return(0,q.jsx)(l.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":g.open,"aria-controls":g.contentId,"data-state":R(g.open),...f,ref:h,onClick:(0,c.composeEventHandlers)(a.onClick,g.onOpenToggle)})});y.displayName=x;var z="DialogPortal",[A,B]=s(z,{forceMount:void 0}),C=a=>{let{__scopeDialog:c,forceMount:d,children:e,container:f}=a,g=v(z,c);return(0,q.jsx)(A,{scope:c,forceMount:d,children:b.Children.map(e,a=>(0,q.jsx)(k.Presence,{present:d||g.open,children:(0,q.jsx)(j.Portal,{asChild:!0,container:f,children:a})}))})};C.displayName=z;var D="DialogOverlay",E=b.forwardRef((a,b)=>{let c=B(D,a.__scopeDialog),{forceMount:d=c.forceMount,...e}=a,f=v(D,a.__scopeDialog);return f.modal?(0,q.jsx)(k.Presence,{present:d||f.open,children:(0,q.jsx)(F,{...e,ref:b})}):null});E.displayName=D;var F=b.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,e=v(D,c);return(0,q.jsx)(n.RemoveScroll,{as:p.Slot,allowPinchZoom:!0,shards:[e.contentRef],children:(0,q.jsx)(l.Primitive.div,{"data-state":R(e.open),...d,ref:b,style:{pointerEvents:"auto",...d.style}})})}),G="DialogContent",H=b.forwardRef((a,b)=>{let c=B(G,a.__scopeDialog),{forceMount:d=c.forceMount,...e}=a,f=v(G,a.__scopeDialog);return(0,q.jsx)(k.Presence,{present:d||f.open,children:f.modal?(0,q.jsx)(I,{...e,ref:b}):(0,q.jsx)(J,{...e,ref:b})})});H.displayName=G;var I=b.forwardRef((a,e)=>{let f=v(G,a.__scopeDialog),g=b.useRef(null),h=(0,d.useComposedRefs)(e,f.contentRef,g);return b.useEffect(()=>{let a=g.current;if(a)return(0,o.hideOthers)(a)},[]),(0,q.jsx)(K,{...a,ref:h,trapFocus:f.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,c.composeEventHandlers)(a.onCloseAutoFocus,a=>{a.preventDefault(),f.triggerRef.current?.focus()}),onPointerDownOutside:(0,c.composeEventHandlers)(a.onPointerDownOutside,a=>{let b=a.detail.originalEvent,c=0===b.button&&!0===b.ctrlKey;(2===b.button||c)&&a.preventDefault()}),onFocusOutside:(0,c.composeEventHandlers)(a.onFocusOutside,a=>a.preventDefault())})}),J=b.forwardRef((a,c)=>{let d=v(G,a.__scopeDialog),e=b.useRef(!1),f=b.useRef(!1);return(0,q.jsx)(K,{...a,ref:c,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:b=>{a.onCloseAutoFocus?.(b),b.defaultPrevented||(e.current||d.triggerRef.current?.focus(),b.preventDefault()),e.current=!1,f.current=!1},onInteractOutside:b=>{a.onInteractOutside?.(b),b.defaultPrevented||(e.current=!0,"pointerdown"===b.detail.originalEvent.type&&(f.current=!0));let c=b.target;d.triggerRef.current?.contains(c)&&b.preventDefault(),"focusin"===b.detail.originalEvent.type&&f.current&&b.preventDefault()}})}),K=b.forwardRef((a,c)=>{let{__scopeDialog:e,trapFocus:f,onOpenAutoFocus:g,onCloseAutoFocus:j,...k}=a,l=v(G,e),n=b.useRef(null),o=(0,d.useComposedRefs)(c,n);return(0,m.useFocusGuards)(),(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(i.FocusScope,{asChild:!0,loop:!0,trapped:f,onMountAutoFocus:g,onUnmountAutoFocus:j,children:(0,q.jsx)(h.DismissableLayer,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":R(l.open),...k,ref:o,onDismiss:()=>l.onOpenChange(!1)})}),(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(V,{titleId:l.titleId}),(0,q.jsx)(W,{contentRef:n,descriptionId:l.descriptionId})]})]})}),L="DialogTitle",M=b.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,e=v(L,c);return(0,q.jsx)(l.Primitive.h2,{id:e.titleId,...d,ref:b})});M.displayName=L;var N="DialogDescription",O=b.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,e=v(N,c);return(0,q.jsx)(l.Primitive.p,{id:e.descriptionId,...d,ref:b})});O.displayName=N;var P="DialogClose",Q=b.forwardRef((a,b)=>{let{__scopeDialog:d,...e}=a,f=v(P,d);return(0,q.jsx)(l.Primitive.button,{type:"button",...e,ref:b,onClick:(0,c.composeEventHandlers)(a.onClick,()=>f.onOpenChange(!1))})});function R(a){return a?"open":"closed"}Q.displayName=P;var S="DialogTitleWarning",[T,U]=(0,e.createContext)(S,{contentName:G,titleName:L,docsSlug:"dialog"}),V=({titleId:a})=>{let c=U(S),d=`\`${c.contentName}\` requires a \`${c.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${c.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${c.docsSlug}`;return b.useEffect(()=>{a&&(document.getElementById(a)||console.error(d))},[d,a]),null},W=({contentRef:a,descriptionId:c})=>{let d=U("DialogDescriptionWarning"),e=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${d.contentName}}.`;return b.useEffect(()=>{let b=a.current?.getAttribute("aria-describedby");c&&b&&(document.getElementById(c)||console.warn(e))},[e,a,c]),null};a.s(["Close",()=>Q,"Content",()=>H,"Description",()=>O,"Overlay",()=>E,"Portal",()=>C,"Root",()=>w,"Title",()=>M,"Trigger",()=>y],25569);var X=a.i(31293);a.s(["XIcon",()=>X.default],33955)},11374,a=>{"use strict";let b=(0,a.i(61237).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],11374)},25520,a=>{"use strict";var b=a.i(64781),c=a.i(89982),d=a.i(8490),e=a.i(3130),f=a.i(40695),g=a.i(5522),h=a.i(17171),i=a.i(25715),j=a.i(40076),k=a.i(11374),l=a.i(70246);function m(){let a=(0,d.useRouter)(),{toast:m}=(0,l.useToast)(),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)([]),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)(""),[x,y]=(0,c.useState)(""),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useState)(""),[F,G]=(0,c.useState)(""),[H,I]=(0,c.useState)(""),[J,K]=(0,c.useState)(""),[L,M]=(0,c.useState)(""),[N,O]=(0,c.useState)(""),[P,Q]=(0,c.useState)(""),[R,S]=(0,c.useState)(""),[T,U]=(0,c.useState)(""),[V,W]=(0,c.useState)(""),[X,Y]=(0,c.useState)(""),[Z,$]=(0,c.useState)(""),[_,aa]=(0,c.useState)(""),[ab,ac]=(0,c.useState)("");(0,c.useEffect)(()=>{!async function(){try{let a=await fetch("/api/onboarding/meta",{credentials:"include"}),b=(await a.json()).data.countries.countries.map(a=>({value:a.name,label:a.name}));q(b)}catch(a){console.error("Failed to fetch countries:",a)}}()},[]);let ad=async b=>{b.preventDefault(),o(!0);let c={name:r,email:t,password:v,password_confirmation:x,phone:z,company_name:B,expiration_date:D,total_screenings:parseInt(F),trade_license_number:H,dob:J,passport_number:L,passport_country:N,nationality:P,contact_type:R,communication_type:T,phone_number:V,address:X,city:Z,state:_,country:ab};try{let b=await fetch("/api/companies",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),d=await b.json();if(b.ok)m({title:"Success",description:d.message||"Company created successfully"}),a.push("/dashboard/admin/companies");else{let a=(d?.errors?Object.values(d.errors).flat().join("; "):"")||d?.message||d?.error||"Unknown error";m({title:"Failed to create company",description:a})}}catch(a){m({title:"Failed to create company",description:a?.message||"Network error",variant:"destructive"})}finally{o(!1)}};return(0,b.jsxs)("div",{className:"space-y-6 max-w-5xl mx-auto",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(f.Button,{variant:"ghost",size:"sm",onClick:()=>a.back(),children:(0,b.jsx)(k.ArrowLeft,{className:"w-4 h-4"})}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(j.Building2,{className:"w-6 h-6 text-blue-600"}),(0,b.jsx)("h1",{className:"text-2xl font-semibold",children:"Add New Company"})]})]}),(0,b.jsxs)("form",{onSubmit:ad,className:"space-y-6",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{className:"bg-blue-50/50",children:(0,b.jsx)(e.CardTitle,{className:"text-base font-medium",children:"User Information"})}),(0,b.jsx)(e.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:"Name *"}),(0,b.jsx)(g.Input,{value:r,onChange:a=>s(a.target.value),placeholder:"Enter name",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:"Email *"}),(0,b.jsx)(g.Input,{type:"email",value:t,onChange:a=>u(a.target.value),placeholder:"Enter email",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:"Password *"}),(0,b.jsx)(g.Input,{type:"password",value:v,onChange:a=>w(a.target.value),placeholder:"Enter password (min 8 characters)",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:"Confirm Password *"}),(0,b.jsx)(g.Input,{type:"password",value:x,onChange:a=>y(a.target.value),placeholder:"Confirm password",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:"Phone"}),(0,b.jsx)(g.Input,{value:z,onChange:a=>A(a.target.value),placeholder:"Enter phone number"})]})]})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{className:"bg-blue-50/50",children:(0,b.jsx)(e.CardTitle,{className:"text-base font-medium",children:"Company Information"})}),(0,b.jsx)(e.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:"Company Name *"}),(0,b.jsx)(g.Input,{value:B,onChange:a=>C(a.target.value),placeholder:"Enter company name",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:"Trade License Number *"}),(0,b.jsx)(g.Input,{value:H,onChange:a=>I(a.target.value),placeholder:"Enter trade license number",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:"Expiration Date *"}),(0,b.jsx)(g.Input,{type:"date",value:D,onChange:a=>E(a.target.value),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:"Total Screenings *"}),(0,b.jsx)(g.Input,{type:"number",value:F,onChange:a=>G(a.target.value),placeholder:"Enter total screenings",required:!0})]})]})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{className:"bg-blue-50/50",children:(0,b.jsx)(e.CardTitle,{className:"text-base font-medium",children:"Personal Information"})}),(0,b.jsx)(e.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:"Date of Birth *"}),(0,b.jsx)(g.Input,{type:"date",value:J,onChange:a=>K(a.target.value),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:"Passport Number *"}),(0,b.jsx)(g.Input,{value:L,onChange:a=>M(a.target.value),placeholder:"Enter passport number",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:"Passport Country *"}),(0,b.jsx)(i.Combobox,{options:p,value:N,onValueChange:a=>"string"==typeof a&&O(a),placeholder:"Select passport country",searchPlaceholder:"Search country..."})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:"Nationality *"}),(0,b.jsx)(i.Combobox,{options:p,value:P,onValueChange:a=>"string"==typeof a&&Q(a),placeholder:"Select nationality",searchPlaceholder:"Search nationality..."})]})]})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{className:"bg-blue-50/50",children:(0,b.jsx)(e.CardTitle,{className:"text-base font-medium",children:"Contact Information"})}),(0,b.jsx)(e.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:"Phone Number *"}),(0,b.jsx)(g.Input,{value:V,onChange:a=>W(a.target.value),placeholder:"Enter phone number",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:"Contact Type *"}),(0,b.jsx)(i.Combobox,{options:[{value:"OFFIC",label:"Office"},{value:"HOME",label:"Home"},{value:"MOBIL",label:"Mobile"}],value:R,onValueChange:a=>"string"==typeof a&&S(a),placeholder:"Select contact type",searchPlaceholder:"Search contact type..."})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:"Communication Type *"}),(0,b.jsx)(i.Combobox,{options:[{value:"M",label:"Mail"},{value:"E",label:"Email"},{value:"P",label:"Phone"}],value:T,onValueChange:a=>"string"==typeof a&&U(a),placeholder:"Select communication type",searchPlaceholder:"Search communication type..."})]})]})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{className:"bg-blue-50/50",children:(0,b.jsx)(e.CardTitle,{className:"text-base font-medium",children:"Address Information"})}),(0,b.jsx)(e.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,b.jsx)(h.Label,{children:"Address *"}),(0,b.jsx)(g.Input,{value:X,onChange:a=>Y(a.target.value),placeholder:"Enter address",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:"City *"}),(0,b.jsx)(g.Input,{value:Z,onChange:a=>$(a.target.value),placeholder:"Enter city",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:"State *"}),(0,b.jsx)(g.Input,{value:_,onChange:a=>aa(a.target.value),placeholder:"Enter state",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:"Country *"}),(0,b.jsx)(i.Combobox,{options:p,value:ab,onValueChange:a=>"string"==typeof a&&ac(a),placeholder:"Select country",searchPlaceholder:"Search country..."})]})]})})]}),(0,b.jsxs)("div",{className:"flex gap-4 justify-end",children:[(0,b.jsx)(f.Button,{type:"button",variant:"outline",onClick:()=>a.back(),children:"Cancel"}),(0,b.jsx)(f.Button,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",disabled:n,children:n?"Creating...":"Create Company"})]})]})]})}a.s(["default",()=>m])}];

//# sourceMappingURL=_9bb066a5._.js.map
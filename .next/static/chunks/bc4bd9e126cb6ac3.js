(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";var s=e.i(29511),t=e.i(47163);function i({className:e,...i}){return(0,s.jsx)("div",{"data-slot":"card",className:(0,t.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...i})}function r({className:e,...i}){return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,t.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...i})}function a({className:e,...i}){return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,t.cn)("leading-none font-semibold",e),...i})}function l({className:e,...i}){return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,t.cn)("text-muted-foreground text-sm",e),...i})}function d({className:e,...i}){return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,t.cn)("px-6",e),...i})}e.s(["Card",()=>i,"CardContent",()=>d,"CardDescription",()=>l,"CardHeader",()=>r,"CardTitle",()=>a])},95449,e=>{"use strict";var s=e.i(29511),t=e.i(58138),i=e.i(70065),r=e.i(62412),a=e.i(10965);let l=(0,a.default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),d=(0,a.default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var n=e.i(2870),o=e.i(10552);let c=(0,a.default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),x=(0,a.default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var u=e.i(74117);function m(){let{toast:e}=(0,u.useToast)(),[a,m]=(0,t.useState)(null),[h,j]=(0,t.useState)(!0);(0,t.useEffect)(()=>{f()},[]);let f=async()=>{try{let s=await fetch("/api/users/account-stats",{credentials:"include"}),t=await s.json();s.ok&&t.status?m(t.data):e({title:"Error",description:t.message||"Failed to fetch account statistics"})}catch(s){e({title:"Error",description:s.message||"An error occurred"})}finally{j(!1)}};if(h)return(0,s.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,s.jsx)(x,{className:"w-8 h-8 animate-spin text-blue-600"})});if(!a)return(0,s.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,s.jsx)("p",{className:"text-muted-foreground",children:"No data available"})});let g=a.user_type_distribution.individual+a.user_type_distribution.corporate,b=a.onboarding_status.onboarded,v=a.risk_assessment.total_count>0?(a.risk_assessment.high_risk_count/a.risk_assessment.total_count*100).toFixed(0):0;return(0,s.jsxs)("div",{className:"space-y-6 max-w-7xl",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(r.FileText,{className:"w-6 h-6"}),(0,s.jsx)("h1",{className:"text-2xl font-semibold",children:"Account Statistics"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,s.jsx)(i.Card,{children:(0,s.jsxs)(i.CardContent,{className:"pt-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Onboarded Users"}),(0,s.jsx)(n.Users,{className:"w-5 h-5 text-muted-foreground"})]}),(0,s.jsx)("div",{className:"text-3xl font-bold mb-1",children:b}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:[a.user_type_distribution.individual," individual, ",a.user_type_distribution.corporate," corporate"]})]})}),(0,s.jsx)(i.Card,{children:(0,s.jsxs)(i.CardContent,{className:"pt-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Ongoing Monitoring"}),(0,s.jsx)(c,{className:"w-5 h-5 text-muted-foreground"})]}),(0,s.jsx)("div",{className:"text-3xl font-bold mb-1",children:a.ongoing_monitoring_count}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:[g>0?(a.ongoing_monitoring_count/g*100).toFixed(0):0,"% of total users"]})]})}),(0,s.jsx)(i.Card,{children:(0,s.jsxs)(i.CardContent,{className:"pt-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Onboarded Status"}),(0,s.jsx)(l,{className:"w-5 h-5 text-muted-foreground"})]}),(0,s.jsx)("div",{className:"text-3xl font-bold mb-1",children:b}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:[g>0?(b/g*100).toFixed(0):0,"% successful onboardings"]})]})}),(0,s.jsx)(i.Card,{children:(0,s.jsxs)(i.CardContent,{className:"pt-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"High Risk Users"}),(0,s.jsx)(d,{className:"w-5 h-5 text-red-500"})]}),(0,s.jsx)("div",{className:"text-3xl font-bold mb-1",children:a.risk_assessment.high_risk_count}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:[v,"% of total users"]})]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{children:[(0,s.jsx)(i.CardTitle,{className:"text-base",children:"User Type Distribution"}),(0,s.jsx)(i.CardDescription,{children:"Breakdown of individual vs corporate users"})]}),(0,s.jsx)(i.CardContent,{children:(0,s.jsx)("div",{className:"h-48 flex items-center justify-center",children:(0,s.jsx)("div",{className:"relative w-32 h-32",children:(0,s.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[(0,s.jsx)("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#e5e7eb",strokeWidth:"12"}),(0,s.jsx)("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#14b8a6",strokeWidth:"12",strokeDasharray:"251.2",strokeDashoffset:"62.8",transform:"rotate(-90 50 50)"})]})})})})]}),(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{children:[(0,s.jsx)(i.CardTitle,{className:"text-base",children:"Risk Level Distribution"}),(0,s.jsx)(i.CardDescription,{children:"Breakdown of users by risk assessment"})]}),(0,s.jsx)(i.CardContent,{children:(0,s.jsx)("div",{className:"h-48 flex items-center justify-center",children:(0,s.jsx)("div",{className:"relative w-32 h-32",children:(0,s.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[(0,s.jsx)("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#e5e7eb",strokeWidth:"12"}),(0,s.jsx)("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#fbbf24",strokeWidth:"12",strokeDasharray:"251.2",strokeDashoffset:"0",transform:"rotate(-90 50 50)"})]})})})})]}),(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{children:[(0,s.jsx)(i.CardTitle,{className:"text-base",children:"Onboarding Status"}),(0,s.jsx)(i.CardDescription,{children:"Current status of all users in the system"})]}),(0,s.jsx)(i.CardContent,{children:(0,s.jsx)("div",{className:"h-48 flex items-end justify-around gap-2 p-4",children:[{label:"Onboarded",count:a.onboarding_status.onboarded,color:"bg-teal-600"},{label:"In Review",count:a.onboarding_status.in_review,color:"bg-blue-500"},{label:"False Match",count:a.onboarding_status.false_match,color:"bg-yellow-500"},{label:"Rejected",count:a.onboarding_status.rejected,color:"bg-red-500"},{label:"Alerted",count:a.onboarding_status.alerted,color:"bg-orange-500"}].map(e=>{let t=Math.max(a.onboarding_status.onboarded,a.onboarding_status.in_review,a.onboarding_status.false_match,a.onboarding_status.rejected,a.onboarding_status.alerted),i=t>0?e.count/t*100:0;return(0,s.jsxs)("div",{className:"flex-1 flex flex-col items-center gap-2",children:[(0,s.jsx)("div",{className:`w-full ${e.color} rounded-t`,style:{height:`${Math.max(i,10)}%`}}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground text-center",children:e.label}),(0,s.jsx)("div",{className:"text-xs font-semibold",children:e.count})]},e.label)})})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)(i.Card,{className:"col-span-2",children:[(0,s.jsxs)(i.CardHeader,{children:[(0,s.jsx)(i.CardTitle,{className:"text-base",children:"Risk Assessment"}),(0,s.jsx)(i.CardDescription,{children:"Summary of risk levels across all users"})]}),(0,s.jsx)(i.CardContent,{children:(0,s.jsx)("div",{className:"space-y-4",children:[{level:"High Risk (≥ 4)",count:a.risk_level_distribution.high,color:"bg-red-500"},{level:"Medium High (≥ 3)",count:a.risk_level_distribution.medium_high,color:"bg-orange-500"},{level:"Medium Risk (≥ 2)",count:a.risk_level_distribution.medium,color:"bg-yellow-500"},{level:"Low Medium (≥ 1.5)",count:a.risk_level_distribution.low_medium,color:"bg-blue-500"},{level:"Low Risk (1 to < 1.5)",count:a.risk_level_distribution.low,color:"bg-green-500"}].map(e=>{let t=Math.max(a.risk_level_distribution.high,a.risk_level_distribution.medium_high,a.risk_level_distribution.medium,a.risk_level_distribution.low_medium,a.risk_level_distribution.low),i=t>0?e.count/t*100:0;return(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:`w-3 h-3 rounded-full ${e.color}`}),(0,s.jsx)("div",{className:"flex-1 text-sm",children:e.level}),(0,s.jsx)("div",{className:"w-1/2 bg-gray-100 rounded-full h-2 overflow-hidden",children:e.count>0&&(0,s.jsx)("div",{className:`h-full ${e.color}`,style:{width:`${i}%`}})}),(0,s.jsx)("div",{className:"w-12 text-right text-sm font-medium",children:e.count})]},e.level)})})})]}),(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{children:[(0,s.jsx)(i.CardTitle,{className:"text-base",children:"Ongoing Monitoring Requirements"}),(0,s.jsx)(i.CardDescription,{children:"Users requiring special ongoing monitoring"})]}),(0,s.jsx)(i.CardContent,{children:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[(0,s.jsx)(c,{className:"w-12 h-12 text-muted-foreground mb-4"}),(0,s.jsx)("div",{className:"text-sm font-medium mb-1",children:"Ongoing Monitoring"}),(0,s.jsx)("div",{className:"text-3xl font-bold mb-2",children:a.ongoing_monitoring_count}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:[a.user_type_distribution.individual," individual, ",a.user_type_distribution.corporate," corporate"]}),(0,s.jsxs)("div",{className:"mt-6 space-y-3 w-full",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n.Users,{className:"w-4 h-4 text-blue-600"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Individual Users"})]}),(0,s.jsx)("span",{className:"font-bold",children:a.user_type_distribution.individual})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(o.Building2,{className:"w-4 h-4 text-purple-600"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Corporate Users"})]}),(0,s.jsx)("span",{className:"font-bold",children:a.user_type_distribution.corporate})]})]})]})})]})]})]})}e.s(["default",()=>m],95449)}]);
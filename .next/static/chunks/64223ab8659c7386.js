(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,26738,e=>{"use strict";var a=e.i(29511),s=e.i(58138),l=e.i(16755),t=e.i(67881),r=e.i(23750),n=e.i(10708),i=e.i(36185),c=e.i(16540),o=e.i(84762),d=e.i(70065),u=e.i(84244),m=e.i(10552),h=e.i(49110),x=e.i(79971),p=e.i(7887),b=e.i(22427),v=e.i(60039),j=e.i(62412),g=e.i(83272),y=e.i(4664),N=e.i(29439),f=e.i(11741),C=e.i(74117),_=e.i(27341);let S=[{value:"Employed",label:"Employed"},{value:"Self-employed",label:"Self Employed"},{value:"Business",label:"Business"},{value:"Retired",label:"Retired"}],I=[{value:"Salary",label:"Salary"},{value:"Business",label:"Business"},{value:"Investment",label:"Investment"},{value:"Other",label:"Other"}],L=[{value:"Passport",label:"Passport"},{value:"EID",label:"EID"},{value:"GCC ID",label:"GCC ID"},{value:"Govt. Issued ID",label:"Govt. Issued ID"},{value:"Commercial License",label:"Commercial License"}],T=[{value:"Personal Use",label:"Personal Use"},{value:"Gift",label:"Gift"},{value:"Investment",label:"Investment"},{value:"Other",label:"Other"}],F=[{value:"Cash",label:"Cash"},{value:"Bank Transfer",label:"Bank Transfer"},{value:"Debit Card",label:"Debit Card"},{value:"Credit Card",label:"Credit Card"},{value:"Other",label:"Other"}],E=[{value:"Walk-In Customer",label:"Walk-In Customer"},{value:"Non Face to Face",label:"Non Face to Face"},{value:"Other",label:"Other"}],P=[{value:"OFF",label:"OFF"},{value:"Level 1",label:"Level 1"},{value:"Level 2",label:"Level 2"}];function w(){let e=(0,l.useParams)(),t=e?.id;(0,l.useRouter)();let{toast:r}=(0,C.useToast)(),[n,i]=(0,s.useState)("individual"),[c,o]=(0,s.useState)([]),[d,h]=(0,s.useState)([]),[x,p]=(0,s.useState)([]),[b,v]=(0,s.useState)(!0),[j,g]=(0,s.useState)(null);return((0,s.useEffect)(()=>{async function e(){try{let e=await fetch("/api/onboarding/meta",{credentials:"include"}),a=await e.json(),s=a.data.countries.countries.map(e=>({value:e.name,label:e.name,code:e.sortname,phoneCode:e.phoneCode}));o(s),h(s.filter(e=>e.phoneCode&&"+0"!==e.phoneCode).map(e=>({value:`${e.phoneCode}|${e.code}`,label:`${e.phoneCode} (${e.label})`}))),p((a.data.products||[]).map(e=>({value:e.id.toString(),label:e.name})));let l=await fetch(`/api/onboarding/customers/${t}`,{credentials:"include"}),n=await l.json();if(n.status){let e=n.data;g(e),i(e.customer_type)}else r({title:"Error",description:"Failed to load customer data"})}catch(e){console.error("Failed to fetch data:",e),r({title:"Error",description:"Failed to load customer data"})}finally{v(!1)}}t&&e()},[t]),b)?(0,a.jsx)("div",{className:"max-w-5xl mx-auto p-6",children:"Loading..."}):j?(0,a.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(y.UsersIcon,{className:"w-5 h-5"}),(0,a.jsx)("h1",{className:"text-2xl font-semibold",children:"Edit Customer"})]})}),(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Customer Type:"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:["individual"===n?(0,a.jsx)(u.User,{className:"w-5 h-5"}):(0,a.jsx)(m.Building2,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-semibold",children:"individual"===n?"Individual":"Corporate"})]})]})}),"individual"===n?(0,a.jsx)(R,{countries:c,countryCodes:d,occupations:S,idTypes:L,products:x,sourceOfIncome:I,customerData:j,customerId:t}):(0,a.jsx)(D,{countries:c,countryCodes:d,occupations:S,idTypes:L,products:x,customerData:j,customerId:t})]}):(0,a.jsx)("div",{className:"max-w-5xl mx-auto p-6",children:"Customer not found"})}function R({countries:e,countryCodes:m,products:y,occupations:N,sourceOfIncome:f,idTypes:S,customerData:I,customerId:L}){let w=(0,l.useRouter)(),{toast:R}=(0,C.useToast)(),D=I.individual_detail||{},[A,O]=(0,s.useState)(D.first_name||""),[B,G]=(0,s.useState)(D.last_name||""),[k,V]=(0,s.useState)(D.dob||""),[U,z]=(0,s.useState)(D.residential_status||"resident"),[M,H]=(0,s.useState)(D.address||""),[$,Y]=(0,s.useState)(D.city||""),[W,K]=(0,s.useState)(D.country||""),[Z,J]=(0,s.useState)(D.nationality||""),[q,Q]=(0,s.useState)(D.country_code||""),[X,ee]=(0,s.useState)(D.contact_no||""),[ea,es]=(0,s.useState)(D.email||""),[el,et]=(0,s.useState)(D.place_of_birth||""),[er,en]=(0,s.useState)(D.country_of_residence||""),[ei,ec]=(0,s.useState)(!!D.dual_nationality),[eo,ed]=(0,s.useState)(!!D.adverse_news),[eu,em]=(0,s.useState)(D.gender||""),[eh,ex]=(0,s.useState)(!!D.is_pep),[ep,eb]=(0,s.useState)(D.occupation||""),[ev,ej]=(0,s.useState)(D.source_of_income||""),[eg,ey]=(0,s.useState)(D.purpose_of_onboarding||""),[eN,ef]=(0,s.useState)(D.payment_mode||""),[eC,e_]=(0,s.useState)(D.id_type||""),[eS,eI]=(0,s.useState)(D.id_no||""),[eL,eT]=(0,s.useState)(D.issuing_authority||""),[eF,eE]=(0,s.useState)(D.issuing_country||""),[eP,ew]=(0,s.useState)(D.id_issue_date||""),[eR,eD]=(0,s.useState)(D.id_expiry_date||""),[eA,eO]=(0,s.useState)((I.products||[]).map(e=>e.id.toString())),[eB,eG]=(0,s.useState)((I.country_operations||[]).map(e=>e.country)),[ek,eV]=(0,s.useState)(D.mode_of_approach||""),[eU,ez]=(0,s.useState)(D.expected_no_of_transactions?.toString()||""),[eM,eH]=(0,s.useState)(D.expected_volume?.toString()||""),[e$,eY]=(0,s.useState)(I.screening_fuzziness||""),[eW,eK]=(0,s.useState)(I.remarks||""),[eZ,eJ]=(0,s.useState)([]),eq=(0,s.useRef)(null),[eQ,eX]=(0,s.useState)("personal"),e0=e=>a=>{"string"==typeof a&&e(a)},e2=e=>a=>{e("yes"===a)},e4=e0(eb),e1=e0(ej),e5=async e=>{e.preventDefault();let a={customer_type:"individual",onboarding_type:"full",screening_fuzziness:e$,remarks:eW,individual_details:{first_name:A,last_name:B,dob:k,residential_status:U,address:M,city:$,country:W,nationality:Z,country_code:q,contact_no:X,email:ea,place_of_birth:el,country_of_residence:er,dual_nationality:ei,adverse_news:eo,gender:eu,is_pep:eh,occupation:ep,source_of_income:ev,purpose_of_onboarding:eg,payment_mode:eN,mode_of_approach:ek,expected_no_of_transactions:eU?Number(eU):null,expected_volume:eM?Number(eM):null,id_type:eC,id_no:eS,issuing_authority:eL,issuing_country:eF,id_issue_date:eP,id_expiry_date:eR},products:eA,country_operations:eB};console.log("Individual Update Payload:",a);let s=new FormData;s.append("data",JSON.stringify(a)),eZ.forEach(e=>{s.append("documents[]",e)}),console.log("FormData entries:",Array.from(s.entries()).map(([e,a])=>[e,a instanceof File?`File: ${a.name}`:a]));try{let e=await fetch(`/api/onboarding/customers/${L}`,{method:"POST",credentials:"include",body:s}),a=await e.json().catch(async()=>({message:await e.text()}));if(e.ok){let e=a?.message||"Customer updated successfully";R({title:"Success",description:e}),w.push("/dashboard/customers")}else{let e=(a?.errors?Object.values(a.errors).flat().join("; "):"")||a?.message||a?.error||"Unknown error";R({title:"Update failed",description:e})}}catch(e){R({title:"Update failed",description:e?.message||"Network error"})}};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:"Individual"}),(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Edit Individual Customer"})]}),(0,a.jsxs)(_.Tabs,{value:eQ,onValueChange:eX,className:"w-full",children:[(0,a.jsx)("div",{className:"sticky top-0 z-20 bg-white/95 backdrop-blur py-3 border-b mb-4",children:(0,a.jsxs)(_.TabsList,{className:"w-full h-auto flex flex-wrap justify-start gap-2 bg-transparent p-0",children:[(0,a.jsx)(_.TabsTrigger,{value:"personal",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Personal Information"}),(0,a.jsx)(_.TabsTrigger,{value:"address",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Address Information"}),(0,a.jsx)(_.TabsTrigger,{value:"contact",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Contact Information"}),(0,a.jsx)(_.TabsTrigger,{value:"gender-pep",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Gender and PEP Status"}),(0,a.jsx)(_.TabsTrigger,{value:"occupation",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Occupation and Income"}),(0,a.jsx)(_.TabsTrigger,{value:"financial",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Financial Details"}),(0,a.jsx)(_.TabsTrigger,{value:"transactions",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Transactions and ID Details"}),(0,a.jsx)(_.TabsTrigger,{value:"identification",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Identification Details"}),(0,a.jsx)(_.TabsTrigger,{value:"additional-info",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Additional Information"}),(0,a.jsx)(_.TabsTrigger,{value:"documents",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Upload Documents"})]})}),(0,a.jsxs)("form",{className:"space-y-6 pb-0",onSubmit:e5,onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()},children:[(0,a.jsx)(_.TabsContent,{value:"personal",className:"mt-0",children:(0,a.jsxs)(d.Card,{className:"p-6 bg-blue-50/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(u.User,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h4",{className:"font-semibold",children:"Personal Information"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"First Name *"}),(0,a.jsx)(r.Input,{placeholder:"Enter first name",value:A,onChange:e=>O(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"Last Name *"}),(0,a.jsx)(r.Input,{placeholder:"Enter last name",value:B,onChange:e=>G(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"Date of Birth *"}),(0,a.jsx)(r.Input,{type:"date",placeholder:"mm/dd/yyyy",value:k,onChange:e=>V(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"Residential Status *"}),(0,a.jsxs)(c.RadioGroup,{value:U,onValueChange:z,className:"flex gap-6 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c.RadioGroupItem,{value:"resident",id:"resident"}),(0,a.jsx)(n.Label,{htmlFor:"resident",children:"Resident"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c.RadioGroupItem,{value:"non-resident",id:"non-resident"}),(0,a.jsx)(n.Label,{htmlFor:"non-resident",children:"Non-Resident"})]})]})]})]})]})}),(0,a.jsx)(_.TabsContent,{value:"address",className:"mt-0",children:(0,a.jsxs)(d.Card,{className:"p-6 bg-blue-50/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(h.MapPin,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h4",{className:"font-semibold",children:"Address Information"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,a.jsx)(n.Label,{children:"Address *"}),(0,a.jsx)(r.Input,{placeholder:"Enter address",value:M,onChange:e=>H(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"City *"}),(0,a.jsx)(r.Input,{placeholder:"Enter city",value:$,onChange:e=>Y(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"Country *"}),(0,a.jsx)(i.Combobox,{options:e,value:W,onValueChange:e0(K),placeholder:"Select a country",searchPlaceholder:"Search country..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"Nationality *"}),(0,a.jsx)(i.Combobox,{options:e,value:Z,onValueChange:e0(J),placeholder:"Select a nationality",searchPlaceholder:"Search nationality..."})]})]})]})}),(0,a.jsx)(_.TabsContent,{value:"contact",className:"mt-0",children:(0,a.jsxs)(d.Card,{className:"p-6 bg-blue-50/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(x.Phone,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h4",{className:"font-semibold",children:"Contact Information"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"Country Code *"}),(0,a.jsx)(i.Combobox,{options:m,value:q,onValueChange:e0(Q),placeholder:"Select",searchPlaceholder:"Search code..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"Contact No *"}),(0,a.jsx)(r.Input,{placeholder:"Enter contact number",value:X,onChange:e=>ee(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"Email *"}),(0,a.jsx)(r.Input,{type:"email",placeholder:"Enter your email",value:ea,onChange:e=>es(e.target.value)})]})]})]})}),(0,a.jsx)(_.TabsContent,{value:"gender-pep",className:"mt-0",children:(0,a.jsxs)(d.Card,{className:"p-6 bg-blue-50/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(u.User,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h4",{className:"font-semibold",children:"Gender and PEP Status"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"Gender *"}),(0,a.jsxs)(c.RadioGroup,{value:eu,onValueChange:e=>em(e),className:"flex flex-col gap-2 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c.RadioGroupItem,{value:"Male",id:"male"}),(0,a.jsx)(n.Label,{htmlFor:"male",children:"Male"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c.RadioGroupItem,{value:"Female",id:"female"}),(0,a.jsx)(n.Label,{htmlFor:"female",children:"Female"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c.RadioGroupItem,{value:"Other",id:"other"}),(0,a.jsx)(n.Label,{htmlFor:"other",children:"Other"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"Politically Exposed Person (PEP)? *"}),(0,a.jsxs)(c.RadioGroup,{value:eh?"yes":"no",onValueChange:e=>ex("yes"===e),className:"flex gap-6 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c.RadioGroupItem,{value:"yes",id:"pep-yes"}),(0,a.jsx)(n.Label,{htmlFor:"pep-yes",children:"Yes"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c.RadioGroupItem,{value:"no",id:"pep-no"}),(0,a.jsx)(n.Label,{htmlFor:"pep-no",children:"No"})]})]})]})]})]})}),(0,a.jsx)(_.TabsContent,{value:"occupation",className:"mt-0",children:(0,a.jsxs)(d.Card,{className:"p-6 bg-blue-50/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(b.Briefcase,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h4",{className:"font-semibold",children:"Occupation and Income"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"Occupation *"}),(0,a.jsx)(i.Combobox,{options:N,value:ep,onValueChange:e4,placeholder:"Select an occupation",searchPlaceholder:"Search occupation..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"Source of Income *"}),(0,a.jsx)(i.Combobox,{options:f,value:ev,onValueChange:e1,placeholder:"Select a source",searchPlaceholder:"Search source..."})]})]})]})}),(0,a.jsx)(_.TabsContent,{value:"financial",className:"mt-0",children:(0,a.jsxs)(d.Card,{className:"p-6 bg-blue-50/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(v.DollarSign,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h4",{className:"font-semibold",children:"Financial Details"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"Purpose *"}),(0,a.jsx)(i.Combobox,{options:T,value:eg,onValueChange:e0(ey),placeholder:"Select a purpose",searchPlaceholder:"Search purpose..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"Payment Mode *"}),(0,a.jsx)(i.Combobox,{options:F,value:eN,onValueChange:e0(ef),placeholder:"Select a payment mode",searchPlaceholder:"Search mode..."})]})]})]})}),(0,a.jsx)(_.TabsContent,{value:"transactions",className:"mt-0",children:(0,a.jsxs)(d.Card,{className:"p-6 bg-blue-50/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(j.FileText,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h4",{className:"font-semibold",children:"Transactions and ID Details"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"Product Type *"}),(0,a.jsx)(i.Combobox,{options:y,value:eA,onValueChange:e=>{Array.isArray(e)&&eO(e)},multiple:!0,placeholder:"Select product type",searchPlaceholder:"Search type..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"Mode of Approach *"}),(0,a.jsx)(i.Combobox,{options:E,value:ek,onValueChange:e0(eV),placeholder:"Select mode of approach",searchPlaceholder:"Search approach..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"Expected No of Transactions"}),(0,a.jsx)(r.Input,{type:"number",placeholder:"0",value:eU,onChange:e=>ez(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"Expected Volume"}),(0,a.jsx)(r.Input,{type:"number",placeholder:"0",value:eM,onChange:e=>eH(e.target.value)})]})]})]})}),(0,a.jsx)(_.TabsContent,{value:"identification",className:"mt-0",children:(0,a.jsxs)(d.Card,{className:"p-6 bg-blue-50/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(p.Award,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h4",{className:"font-semibold",children:"Identification Details"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"ID Type *"}),(0,a.jsx)(i.Combobox,{options:S,value:eC,onValueChange:e0(e_),placeholder:"Select an ID type",searchPlaceholder:"Search type..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"ID No*"}),(0,a.jsx)(r.Input,{placeholder:"Enter ID number",value:eS,onChange:e=>eI(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"ID Issued By *"}),(0,a.jsx)(r.Input,{placeholder:"Enter issuing authority",value:eL,onChange:e=>eT(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"ID Issued At *"}),(0,a.jsx)(i.Combobox,{options:e,value:eF,onValueChange:e0(eE),placeholder:"Select a country",searchPlaceholder:"Search country..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"ID Issued Date *"}),(0,a.jsx)(r.Input,{type:"date",placeholder:"mm/dd/yyyy",value:eP,onChange:e=>ew(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"ID Expiry Date *"}),(0,a.jsx)(r.Input,{type:"date",placeholder:"mm/dd/yyyy",value:eR,onChange:e=>eD(e.target.value)})]})]})]})}),(0,a.jsx)(_.TabsContent,{value:"additional-info",className:"mt-0",children:(0,a.jsxs)(d.Card,{className:"p-6 bg-blue-50/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(j.FileText,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h4",{className:"font-semibold",children:"Additional Information"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"Place of Birth *"}),(0,a.jsx)(i.Combobox,{options:e,value:el,onValueChange:e0(et),placeholder:"Select a country",searchPlaceholder:"Search country..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"Country of Residence *"}),(0,a.jsx)(i.Combobox,{options:e,value:er,onValueChange:e0(en),placeholder:"Select a country",searchPlaceholder:"Search country..."})]}),(0,a.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,a.jsx)(n.Label,{children:"Dual Nationality *"}),(0,a.jsxs)(c.RadioGroup,{value:ei?"yes":"no",onValueChange:e2(ec),className:"flex gap-6 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c.RadioGroupItem,{value:"yes",id:"dual-yes"}),(0,a.jsx)(n.Label,{htmlFor:"dual-yes",children:"Yes"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c.RadioGroupItem,{value:"no",id:"dual-no"}),(0,a.jsx)(n.Label,{htmlFor:"dual-no",children:"No"})]})]})]}),(0,a.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,a.jsx)(n.Label,{children:"Is Customer Facing any adverse event? *"}),(0,a.jsx)("p",{className:"text-xs text-blue-600 mb-2",children:"We don't Check adverse news feed"}),(0,a.jsxs)(c.RadioGroup,{value:eo?"yes":"no",onValueChange:e2(ed),className:"flex gap-6 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c.RadioGroupItem,{value:"yes",id:"adverse-yes"}),(0,a.jsx)(n.Label,{htmlFor:"adverse-yes",children:"Yes"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c.RadioGroupItem,{value:"no",id:"adverse-no"}),(0,a.jsx)(n.Label,{htmlFor:"adverse-no",children:"No"})]})]})]}),(0,a.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,a.jsx)(n.Label,{children:"Screening Fuzziness *"}),(0,a.jsx)(i.Combobox,{options:P,value:e$,onValueChange:e0(eY),placeholder:"Select fuzziness level",searchPlaceholder:"Search fuzziness..."})]}),(0,a.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,a.jsx)(n.Label,{children:"Remarks"}),(0,a.jsx)(o.Textarea,{placeholder:"Enter any remarks",rows:3,value:eW,onChange:e=>eK(e.target.value)})]})]})]})}),(0,a.jsx)(_.TabsContent,{value:"documents",className:"mt-0",children:(0,a.jsxs)(d.Card,{className:"p-6 bg-blue-50/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(g.Upload,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h4",{className:"font-semibold",children:"Upload Documents"})]}),(0,a.jsxs)("div",{className:"border-2 border-dashed border-blue-300 rounded-lg p-8 text-center cursor-pointer",onClick:()=>eq.current?.click(),children:[(0,a.jsx)(g.Upload,{className:"w-8 h-8 mx-auto mb-2 text-blue-600"}),(0,a.jsx)("p",{className:"text-sm text-blue-600 mb-1",children:"Add Documents"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Max 5 files, each up to 2MB (Images, PDFs, Docs)"}),(0,a.jsx)("input",{ref:eq,type:"file",multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx,.xls,.xlsx,.csv,.txt,.gif,.bmp,.tiff,.svg,.webp,.heic",onChange:e=>{e.target.files&&eJ(Array.from(e.target.files).filter(e=>e.size<=2097152).slice(0,5))},className:"mt-2 hidden"}),(0,a.jsx)("div",{className:"mt-2 flex flex-col items-center gap-1",children:eZ.map((e,s)=>(0,a.jsxs)("span",{className:"text-xs text-gray-700",children:[e.name," (",(e.size/1024).toFixed(1)," KB)"]},s))})]})]})}),(0,a.jsx)("div",{className:"sticky bottom-0 bg-white/95 backdrop-blur py-4 border-t mt-6",children:(0,a.jsx)(t.Button,{className:"w-full bg-blue-600 hover:bg-blue-700",type:"submit",children:"Update Customer"})})]})]})]})}function D({countries:e,countryCodes:m,products:h,occupations:x,idTypes:p,customerData:b,customerId:v}){let j=(0,l.useRouter)(),{toast:y}=(0,C.useToast)(),S=b.corporate_detail||{},[I,L]=(0,s.useState)(S.company_name||""),[T,F]=(0,s.useState)(S.company_address||""),[E,w]=(0,s.useState)(S.city||""),[R,D]=(0,s.useState)(S.country_incorporated||""),[A,O]=(0,s.useState)(S.po_box||""),[B,G]=(0,s.useState)(S.customer_type||""),[k,V]=(0,s.useState)(S.office_country_code||""),[U,z]=(0,s.useState)(S.office_no||""),[M,H]=(0,s.useState)(S.mobile_country_code||""),[$,Y]=(0,s.useState)(S.mobile_no||""),[W,K]=(0,s.useState)(S.email||""),[Z,J]=(0,s.useState)(S.trade_license_no||""),[q,Q]=(0,s.useState)(S.trade_license_issued_at||""),[X,ee]=(0,s.useState)(S.trade_license_issued_by||""),[ea,es]=(0,s.useState)(S.license_issue_date||""),[el,et]=(0,s.useState)(S.license_expiry_date||""),[er,en]=(0,s.useState)(S.vat_registration_no||""),[ei,ec]=(0,s.useState)(S.tenancy_contract_expiry_date||""),[eo,ed]=(0,s.useState)(S.entity_type||""),[eu,em]=(0,s.useState)((b.country_operations||[]).map(e=>e.country)),[eh,ex]=(0,s.useState)(S.business_activity||""),[ep,eb]=(0,s.useState)(!!S.is_entity_dealting_with_import_export),[ev,ej]=(0,s.useState)(!!S.has_sister_concern),[eg,ey]=(0,s.useState)(S.account_holding_bank_name||""),[eN,ef]=(0,s.useState)(S.product_source||""),[eC,e_]=(0,s.useState)(S.payment_mode||""),[eS,eI]=(0,s.useState)(S.delivery_channel||""),[eL,eT]=(0,s.useState)(S.expected_no_of_transactions?.toString()||""),[eF,eE]=(0,s.useState)(S.expected_volume?.toString()||""),[eP,ew]=(0,s.useState)(!!S.dual_use_goods),[eR,eD]=(0,s.useState)(!!S.kyc_documents_collected_with_form),[eA,eO]=(0,s.useState)(!!S.is_entity_registered_in_GOAML),[eB,eG]=(0,s.useState)(!!S.is_entity_having_adverse_news),ek=[{value:"UBO",label:"UBO"},{value:"SHARE HOLDER",label:"SHARE HOLDER"},{value:"PARTNER",label:"PARTNER"},{value:"DIRECTOR",label:"DIRECTOR"},{value:"MANAGER",label:"MANAGER"},{value:"REPRESENTATIVE",label:"REPRESENTATIVE"}],[eV,eU]=(0,s.useState)((b.products||[]).map(e=>e.id.toString())),[ez,eM]=(0,s.useState)((b.country_operations||[]).map(e=>e.country)),[eH,e$]=(0,s.useState)(b.screening_fuzziness||""),[eY,eW]=(0,s.useState)(b.remarks||""),[eK,eZ]=(0,s.useState)([]),eJ=(0,s.useRef)(null),[eq,eQ]=(0,s.useState)((S.related_persons||[]).map(e=>({type:e.type||"individual",name:e.name||"",is_pep:!!e.is_pep,nationality:e.nationality||"",id_type:e.id_type||"",id_no:e.id_no||"",id_issue_date:e.id_issue_date||"",id_expiry_date:e.id_expiry_date||"",dob:e.dob||"",role:e.role||"",ownership_percentage:e.ownership_percentage||""}))),[eX,e0]=(0,s.useState)("company"),e2=e=>a=>{"string"==typeof a&&e(a)},e4=e=>a=>{Array.isArray(a)&&e(a)},e1=e=>a=>{e("yes"===a)},e5=(e,a,s)=>{let l=[...eq];l[e]={...l[e],[a]:s},eQ(l)},e6=async e=>{e.preventDefault();let a={customer_type:"corporate",onboarding_type:"full",screening_fuzziness:eH,remarks:eY,corporate_details:{company_name:I,company_address:T,city:E,country_incorporated:R,po_box:A,customer_type:B,office_country_code:k,office_no:U,mobile_country_code:M,mobile_no:$,email:W,trade_license_no:Z,trade_license_issued_at:q,trade_license_issued_by:X,license_issue_date:ea,license_expiry_date:el,vat_registration_no:er,tenancy_contract_expiry_date:ei,entity_type:eo,business_activity:eh,is_entity_dealting_with_import_export:ep,has_sister_concern:ev,account_holding_bank_name:eg,product_source:eN,payment_mode:eC,delivery_channel:eS,expected_no_of_transactions:eL?Number(eL):null,expected_volume:eF?Number(eF):null,dual_use_goods:eP,kyc_documents_collected_with_form:eR,is_entity_registered_in_GOAML:eA,is_entity_having_adverse_news:eB},corporate_related_persons:eq,products:eV,country_operations:ez};console.log("Corporate Update Payload:",a);let s=new FormData;s.append("data",JSON.stringify(a)),eK.forEach(e=>{s.append("documents[]",e)}),console.log("FormData entries:",Array.from(s.entries()).map(([e,a])=>[e,a instanceof File?`File: ${a.name}`:a]));try{let e=await fetch(`/api/onboarding/customers/${v}`,{method:"POST",credentials:"include",body:s}),a=await e.json().catch(async()=>({message:await e.text()}));if(e.ok){let e=a?.message||"Customer updated successfully";y({title:"Success",description:e}),j.push("/dashboard/customers")}else{let e=(a?.errors?Object.values(a.errors).flat().join("; "):"")||a?.message||a?.error||"Unknown error";y({title:"Update failed",description:e})}}catch(e){y({title:"Update failed",description:e?.message||"Network error"})}};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:"Corporate"}),(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Edit Corporate Customer"})]}),(0,a.jsxs)(_.Tabs,{value:eX,onValueChange:e0,className:"w-full",children:[(0,a.jsx)("div",{className:"sticky top-0 z-20 bg-white/95 backdrop-blur py-3 border-b mb-4",children:(0,a.jsxs)(_.TabsList,{className:"w-full h-auto flex flex-wrap justify-start gap-2 bg-transparent p-0",children:[(0,a.jsx)(_.TabsTrigger,{value:"company",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Company Information"}),(0,a.jsx)(_.TabsTrigger,{value:"contact",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Contact Information"}),(0,a.jsx)(_.TabsTrigger,{value:"identity",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Identity Information"}),(0,a.jsx)(_.TabsTrigger,{value:"operations",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Operations Information"}),(0,a.jsx)(_.TabsTrigger,{value:"product",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Product Details"}),(0,a.jsx)(_.TabsTrigger,{value:"aml",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"AML Compliance"}),(0,a.jsx)(_.TabsTrigger,{value:"related",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Partner/Representative"}),(0,a.jsx)(_.TabsTrigger,{value:"documents",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Upload Documents"}),(0,a.jsx)(_.TabsTrigger,{value:"additional",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Additional Information"})]})}),(0,a.jsxs)("form",{className:"space-y-6 pb-0",onSubmit:e6,onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()},children:[(0,a.jsx)(_.TabsContent,{value:"company",className:"space-y-4",children:(0,a.jsx)(d.Card,{className:"p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)(n.Label,{htmlFor:"companyName",children:"Company Name *"}),(0,a.jsx)(r.Input,{id:"companyName",value:I,onChange:e=>L(e.target.value),placeholder:"Enter company name",className:"mt-1.5"})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)(n.Label,{htmlFor:"companyAddress",children:"Company Address *"}),(0,a.jsx)(r.Input,{id:"companyAddress",value:T,onChange:e=>F(e.target.value),placeholder:"Enter company address",className:"mt-1.5"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"city",children:"City"}),(0,a.jsx)(r.Input,{id:"city",value:E,onChange:e=>w(e.target.value),placeholder:"Enter city",className:"mt-1.5"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"countryIncorporated",children:"Country Incorporated *"}),(0,a.jsx)(i.Combobox,{options:e,value:R,onValueChange:e2(D),placeholder:"Select country",searchPlaceholder:"Search country..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"poBox",children:"P.O. Box"}),(0,a.jsx)(r.Input,{id:"poBox",value:A,onChange:e=>O(e.target.value),placeholder:"Enter P.O. Box",className:"mt-1.5"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"customerType",children:"Customer Type"}),(0,a.jsx)(r.Input,{id:"customerType",value:B,onChange:e=>G(e.target.value),placeholder:"Enter customer type",className:"mt-1.5"})]})]})})}),(0,a.jsx)(_.TabsContent,{value:"contact",className:"space-y-4",children:(0,a.jsx)(d.Card,{className:"p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"officeCountryCode",children:"Office Country Code"}),(0,a.jsx)(i.Combobox,{options:m,value:k,onValueChange:e2(V),placeholder:"Select code",searchPlaceholder:"Search code..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"officeNo",children:"Office Number"}),(0,a.jsx)(r.Input,{id:"officeNo",value:U,onChange:e=>z(e.target.value),placeholder:"Enter office number",className:"mt-1.5"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"mobileCountryCode",children:"Mobile Country Code"}),(0,a.jsx)(i.Combobox,{options:m,value:M,onValueChange:e2(H),placeholder:"Select code",searchPlaceholder:"Search code..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"mobileNo",children:"Mobile Number"}),(0,a.jsx)(r.Input,{id:"mobileNo",value:$,onChange:e=>Y(e.target.value),placeholder:"Enter mobile number",className:"mt-1.5"})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)(n.Label,{htmlFor:"email",children:"Email *"}),(0,a.jsx)(r.Input,{id:"email",type:"email",value:W,onChange:e=>K(e.target.value),placeholder:"Enter email address",className:"mt-1.5"})]})]})})}),(0,a.jsx)(_.TabsContent,{value:"identity",className:"space-y-4",children:(0,a.jsx)(d.Card,{className:"p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"tradeLicenseNo",children:"Trade License Number"}),(0,a.jsx)(r.Input,{id:"tradeLicenseNo",value:Z,onChange:e=>J(e.target.value),placeholder:"Enter trade license number",className:"mt-1.5"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"tradeLicenseIssuedAt",children:"Trade License Issued At"}),(0,a.jsx)(r.Input,{id:"tradeLicenseIssuedAt",value:q,onChange:e=>Q(e.target.value),placeholder:"Enter issuing location",className:"mt-1.5"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"tradeLicenseIssuedBy",children:"Trade License Issued By"}),(0,a.jsx)(r.Input,{id:"tradeLicenseIssuedBy",value:X,onChange:e=>ee(e.target.value),placeholder:"Enter issuing authority",className:"mt-1.5"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"licenseIssueDate",children:"License Issue Date"}),(0,a.jsx)(r.Input,{id:"licenseIssueDate",type:"date",value:ea,onChange:e=>es(e.target.value),className:"mt-1.5"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"licenseExpiryDate",children:"License Expiry Date"}),(0,a.jsx)(r.Input,{id:"licenseExpiryDate",type:"date",value:el,onChange:e=>et(e.target.value),className:"mt-1.5"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"vatRegistrationNo",children:"VAT Registration Number"}),(0,a.jsx)(r.Input,{id:"vatRegistrationNo",value:er,onChange:e=>en(e.target.value),placeholder:"Enter VAT registration number",className:"mt-1.5"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"tenancyContractExpiryDate",children:"Tenancy Contract Expiry Date"}),(0,a.jsx)(r.Input,{id:"tenancyContractExpiryDate",type:"date",value:ei,onChange:e=>ec(e.target.value),className:"mt-1.5"})]})]})})}),(0,a.jsx)(_.TabsContent,{value:"operations",className:"space-y-4",children:(0,a.jsx)(d.Card,{className:"p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"entityType",children:"Entity Type *"}),(0,a.jsx)(i.Combobox,{options:[{value:"LLC",label:"LLC"},{value:"Sole Proprietorship",label:"Sole Proprietorship"},{value:"Partnership",label:"Partnership"},{value:"Govt. Entity",label:"Govt. Entity"},{value:"FZE",label:"FZE"},{value:"FZCO",label:"FZCO"},{value:"Private Limited",label:"Private Limited"},{value:"Public Limited",label:"Public Limited"}],value:eo,onValueChange:e2(ed),placeholder:"Select entity type",searchPlaceholder:"Search type..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"countriesOfOperation",children:"Countries of Operation *"}),(0,a.jsx)(i.Combobox,{options:e,value:ez,onValueChange:e4(eM),multiple:!0,placeholder:"Select a country",searchPlaceholder:"Search country..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"businessActivity",children:"Business Activity *"}),(0,a.jsx)(i.Combobox,{options:[{value:"Accounting/Auditing Firm",label:"Accounting/Auditing Firm"},{value:"Bank/Financial Institute",label:"Bank/Financial Institute"},{value:"DPMS - Retail Store",label:"DPMS - Retail Store"},{value:"DPMS - Bullion Wholesale",label:"DPMS - Bullion Wholesale"},{value:"DPMS - Mining, Refining",label:"DPMS - Mining, Refining"},{value:"DPMS- Factory, Workshop, Goldsmith",label:"DPMS- Factory, Workshop, Goldsmith"},{value:"Real Estate",label:"Real Estate"},{value:"General Trading",label:"General Trading"},{value:"Education",label:"Education"},{value:"Other",label:"Other"}],value:eh,onValueChange:e2(ex),placeholder:"Select business activity",searchPlaceholder:"Search business activity..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Is entity dealing with Import/Export? *"}),(0,a.jsxs)(c.RadioGroup,{value:ep?"yes":"no",onValueChange:e1(eb),className:"flex gap-6 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c.RadioGroupItem,{value:"yes",id:"import-yes"}),(0,a.jsx)(n.Label,{htmlFor:"import-yes",className:"font-normal cursor-pointer",children:"Yes"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c.RadioGroupItem,{value:"no",id:"import-no"}),(0,a.jsx)(n.Label,{htmlFor:"import-no",className:"font-normal cursor-pointer",children:"No"})]})]})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)(n.Label,{children:"Any other sister concern/branch? *"}),(0,a.jsxs)(c.RadioGroup,{value:ev?"yes":"no",onValueChange:e1(ej),className:"flex gap-6 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c.RadioGroupItem,{value:"yes",id:"sister-yes"}),(0,a.jsx)(n.Label,{htmlFor:"sister-yes",className:"font-normal cursor-pointer",children:"Yes"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c.RadioGroupItem,{value:"no",id:"sister-no"}),(0,a.jsx)(n.Label,{htmlFor:"sister-no",className:"font-normal cursor-pointer",children:"No"})]})]})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)(n.Label,{htmlFor:"accountHoldingBankName",children:"Account Holding Bank Name *"}),(0,a.jsx)(r.Input,{id:"accountHoldingBankName",value:eg,onChange:e=>ey(e.target.value),placeholder:"Enter bank name (max 50 characters)",className:"mt-1.5"})]})]})})}),(0,a.jsx)(_.TabsContent,{value:"product",className:"space-y-4",children:(0,a.jsx)(d.Card,{className:"p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"productTypes",children:"Product Type *"}),(0,a.jsx)(i.Combobox,{options:h,value:eV,onValueChange:e4(eU),multiple:!0,placeholder:"Select Product Type",searchPlaceholder:"Search type..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"productSource",children:"Product Source *"}),(0,a.jsx)(i.Combobox,{options:[{value:"B2B - Inside UAE",label:"B2B - Inside UAE"},{value:"B2C - Inside UAE",label:"B2C - Inside UAE"},{value:"B2B - Outside UAE",label:"B2B - Outside UAE"},{value:"Individual HRC",label:"Individual HRC"},{value:"Individual Non-HRC",label:"Individual Non-HRC"},{value:"B2B - Outside & Outside UAE",label:"B2B - Outside & Outside UAE"}],value:eN,onValueChange:e2(ef),placeholder:"Select product source",searchPlaceholder:"Search source..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"paymentMode",children:"Payment Mode *"}),(0,a.jsx)(i.Combobox,{options:[{value:"Cash",label:"Cash"},{value:"Debit/Credit Card-Cardholder name verified",label:"Debit/Credit Card-Cardholder name verified"},{value:"Bank Transfer-Inside UAE",label:"Bank Transfer-Inside UAE"},{value:"Bank Transfer-Outisde UAE",label:"Bank Transfer-Outisde UAE"},{value:"Parial Cash/Card/Online trs",label:"Parial Cash/Card/Online trs"},{value:"Old Gold Exchange",label:"Old Gold Exchange"},{value:"Cross Border Payment From HRC",label:"Cross Border Payment From HRC"},{value:"Others",label:"Others"}],value:eC,onValueChange:e2(e_),placeholder:"Select payment mode",searchPlaceholder:"Search mode..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"deliveryChannel",children:"Delivery Channel *"}),(0,a.jsx)(i.Combobox,{options:[{value:"Face to Face",label:"Face to Face"},{value:"Non Face to Face",label:"Non Face to Face"}],value:eS,onValueChange:e2(eI),placeholder:"Select delivery channel",searchPlaceholder:"Search channel..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"expectedNoOfTransactions",children:"Expected No of Transactions"}),(0,a.jsx)(r.Input,{id:"expectedNoOfTransactions",type:"number",placeholder:"0",value:eL,onChange:e=>eT(e.target.value),className:"mt-1.5"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"expectedVolume",children:"Expected Volume"}),(0,a.jsx)(r.Input,{id:"expectedVolume",type:"number",placeholder:"0",value:eF,onChange:e=>eE(e.target.value),className:"mt-1.5"})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)(n.Label,{children:"Deal with Goods? *"}),(0,a.jsxs)(c.RadioGroup,{value:eP?"yes":"no",onValueChange:e1(ew),className:"flex gap-6 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c.RadioGroupItem,{value:"yes",id:"goods-yes"}),(0,a.jsx)(n.Label,{htmlFor:"goods-yes",className:"font-normal cursor-pointer",children:"Yes"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c.RadioGroupItem,{value:"no",id:"goods-no"}),(0,a.jsx)(n.Label,{htmlFor:"goods-no",className:"font-normal cursor-pointer",children:"No"})]})]})]})]})})}),(0,a.jsx)(_.TabsContent,{value:"aml",className:"space-y-4",children:(0,a.jsx)(d.Card,{className:"p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"KYC Documents Collected"}),(0,a.jsxs)(c.RadioGroup,{value:eR?"yes":"no",onValueChange:e1(eD),className:"flex gap-4 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c.RadioGroupItem,{value:"yes",id:"kyc-yes"}),(0,a.jsx)(n.Label,{htmlFor:"kyc-yes",className:"font-normal cursor-pointer",children:"Yes"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c.RadioGroupItem,{value:"no",id:"kyc-no"}),(0,a.jsx)(n.Label,{htmlFor:"kyc-no",className:"font-normal cursor-pointer",children:"No"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Registered in GOAML"}),(0,a.jsxs)(c.RadioGroup,{value:eA?"yes":"no",onValueChange:e1(eO),className:"flex gap-4 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c.RadioGroupItem,{value:"yes",id:"goaml-yes"}),(0,a.jsx)(n.Label,{htmlFor:"goaml-yes",className:"font-normal cursor-pointer",children:"Yes"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c.RadioGroupItem,{value:"no",id:"goaml-no"}),(0,a.jsx)(n.Label,{htmlFor:"goaml-no",className:"font-normal cursor-pointer",children:"No"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Adverse News"}),(0,a.jsxs)(c.RadioGroup,{value:eB?"yes":"no",onValueChange:e1(eG),className:"flex gap-4 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c.RadioGroupItem,{value:"yes",id:"adverse-yes"}),(0,a.jsx)(n.Label,{htmlFor:"adverse-yes",className:"font-normal cursor-pointer",children:"Yes"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c.RadioGroupItem,{value:"no",id:"adverse-no"}),(0,a.jsx)(n.Label,{htmlFor:"adverse-no",className:"font-normal cursor-pointer",children:"No"})]})]})]})]})})}),(0,a.jsx)(_.TabsContent,{value:"related",className:"space-y-4",children:(0,a.jsxs)(d.Card,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)(n.Label,{children:"Partner/Representative/Authorized Person Details"}),(0,a.jsxs)(t.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>{eQ([...eq,{type:"individual",name:"",is_pep:!1,nationality:"",id_type:"",id_no:"",id_issue_date:"",id_expiry_date:"",dob:"",role:"",ownership_percentage:""}])},children:[(0,a.jsx)(N.Plus,{className:"w-4 h-4 mr-2"}),"Add Another Representative"]})]}),eq.map((s,l)=>(0,a.jsxs)(d.Card,{className:"p-4 mb-4 bg-slate-50",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,a.jsxs)("h4",{className:"font-semibold text-sm flex items-center gap-2",children:[(0,a.jsx)(u.User,{className:"w-4 h-4"}),"UBO ",l+1]}),eq.length>1&&(0,a.jsx)(t.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>{eQ(eq.filter((e,a)=>a!==l))},children:(0,a.jsx)(f.Trash2,{className:"w-4 h-4 text-red-600"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"Type *"}),(0,a.jsx)(i.Combobox,{options:[{value:"Individual",label:"Individual"},{value:"Entity",label:"Entity"}],value:s.type,onValueChange:e=>"string"==typeof e&&e5(l,"type",e),placeholder:"Select type",searchPlaceholder:"Search type..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"Name *"}),(0,a.jsx)(r.Input,{value:s.name,onChange:e=>e5(l,"name",e.target.value),placeholder:"Enter Name",className:"mt-1"})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"Previously Exposed Person (PEP)? *"}),(0,a.jsxs)(c.RadioGroup,{value:s.is_pep?"yes":"no",onValueChange:e=>e5(l,"is_pep","yes"===e),className:"flex gap-6 mt-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c.RadioGroupItem,{value:"yes",id:`pep-yes-${l}`}),(0,a.jsx)(n.Label,{htmlFor:`pep-yes-${l}`,className:"font-normal cursor-pointer text-xs",children:"Yes"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c.RadioGroupItem,{value:"no",id:`pep-no-${l}`}),(0,a.jsx)(n.Label,{htmlFor:`pep-no-${l}`,className:"font-normal cursor-pointer text-xs",children:"No"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"Nationality"}),(0,a.jsx)(i.Combobox,{options:e,value:s.nationality,onValueChange:e=>"string"==typeof e&&e5(l,"nationality",e),placeholder:"Select nationality",searchPlaceholder:"Search nationality..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"ID Type *"}),(0,a.jsx)(i.Combobox,{options:p,value:s.id_type,onValueChange:e=>"string"==typeof e&&e5(l,"id_type",e),placeholder:"Passport",searchPlaceholder:"Search type..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"ID No/License No *"}),(0,a.jsx)(r.Input,{value:s.id_no,onChange:e=>e5(l,"id_no",e.target.value),placeholder:"Enter ID License No",className:"mt-1"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"ID Issue Date *"}),(0,a.jsx)(r.Input,{type:"date",placeholder:"mm/dd/yyyy",value:s.id_issue_date,onChange:e=>e5(l,"id_issue_date",e.target.value),className:"mt-1"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"ID Expiry Date *"}),(0,a.jsx)(r.Input,{type:"date",placeholder:"mm/dd/yyyy",value:s.id_expiry_date,onChange:e=>e5(l,"id_expiry_date",e.target.value),className:"mt-1"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"Date of Birth *"}),(0,a.jsx)(r.Input,{type:"date",placeholder:"mm/dd/yyyy",value:s.dob,onChange:e=>e5(l,"dob",e.target.value),className:"mt-1"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"Role *"}),(0,a.jsx)(i.Combobox,{options:ek,value:s.role,onValueChange:e=>"string"==typeof e&&e5(l,"role",e),placeholder:"UBO",searchPlaceholder:"Search role..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{className:"text-xs",children:"Percentage of Share *"}),(0,a.jsx)(r.Input,{value:s.ownership_percentage,onChange:e=>e5(l,"ownership_percentage",e.target.value),placeholder:"Enter Percentage (0-100)",className:"mt-1"})]})]})]},l))]})}),(0,a.jsx)(_.TabsContent,{value:"additional",className:"space-y-4",children:(0,a.jsx)(d.Card,{className:"p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"fuzziness",children:"Screening Fuzziness"}),(0,a.jsx)(i.Combobox,{options:P,value:eH,onValueChange:e2(e$),placeholder:"Select fuzziness",searchPlaceholder:"Search fuzziness..."})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)(n.Label,{htmlFor:"remarks",children:"Remarks"}),(0,a.jsx)(o.Textarea,{id:"remarks",value:eY,onChange:e=>eW(e.target.value),placeholder:"Enter any additional remarks",className:"mt-1.5",rows:3})]})]})})}),(0,a.jsx)(_.TabsContent,{value:"documents",className:"space-y-4",children:(0,a.jsx)(d.Card,{className:"p-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(n.Label,{children:"Upload Documents"}),(0,a.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-4",children:[(0,a.jsx)("input",{type:"file",ref:eJ,onChange:e=>{e.target.files&&eZ(Array.from(e.target.files).filter(e=>e.size<=2097152).slice(0,5))},className:"hidden",multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx"}),(0,a.jsxs)(t.Button,{type:"button",variant:"outline",onClick:()=>eJ.current?.click(),className:"w-full",children:[(0,a.jsx)(g.Upload,{className:"w-4 h-4 mr-2"}),"Choose Files"]}),eK.length>0&&(0,a.jsx)("div",{className:"mt-2 space-y-1",children:eK.map((e,s)=>(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e.name},s))})]})]})})}),(0,a.jsx)("div",{className:"sticky bottom-0 bg-white/95 backdrop-blur py-4 border-t mt-6",children:(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)(t.Button,{type:"button",variant:"outline",className:"flex-1",onClick:()=>j.push("/dashboard/customers"),children:"Cancel"}),(0,a.jsx)(t.Button,{className:"flex-1 bg-blue-600 hover:bg-blue-700",type:"submit",children:"Update Customer"})]})})]})]})]})}e.s(["default",()=>w])}]);
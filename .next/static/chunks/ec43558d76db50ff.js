(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";var a=e.i(29511),t=e.i(47163);function r({className:e,...r}){return(0,a.jsx)("div",{"data-slot":"card",className:(0,t.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...r})}function s({className:e,...r}){return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,t.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...r})}function n({className:e,...r}){return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,t.cn)("leading-none font-semibold",e),...r})}function l({className:e,...r}){return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,t.cn)("text-muted-foreground text-sm",e),...r})}function i({className:e,...r}){return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,t.cn)("px-6",e),...r})}e.s(["Card",()=>r,"CardContent",()=>i,"CardDescription",()=>l,"CardHeader",()=>s,"CardTitle",()=>n])},23750,e=>{"use strict";var a=e.i(29511),t=e.i(47163);function r({className:e,type:r,...s}){return(0,a.jsx)("input",{type:r,"data-slot":"input",className:(0,t.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}e.s(["Input",()=>r])},10708,e=>{"use strict";var a=e.i(29511),t=e.i(58138),r=e.i(20673),s=t.forwardRef((e,t)=>(0,a.jsx)(r.Primitive.label,{...e,ref:t,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));s.displayName="Label";var n=e.i(47163);function l({className:e,...t}){return(0,a.jsx)(s,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}e.s(["Label",()=>l],10708)},91101,32646,e=>{"use strict";var a=e.i(58138),t=e.i(78896),r=e.i(866),s=e.i(29517),n=e.i(19960),l=e.i(88552),i=e.i(8803),o=e.i(83182),d=e.i(51545),c=e.i(60737),u=e.i(20673),p=e.i(56278),m=e.i(14329),h=e.i(73772),x=e.i(64701),g=e.i(29511),f="Dialog",[v,b]=(0,s.createContextScope)(f),[j,y]=v(f),C=e=>{let{__scopeDialog:t,children:r,open:s,defaultOpen:i,onOpenChange:o,modal:d=!0}=e,c=a.useRef(null),u=a.useRef(null),[p=!1,m]=(0,l.useControllableState)({prop:s,defaultProp:i,onChange:o});return(0,g.jsx)(j,{scope:t,triggerRef:c,contentRef:u,contentId:(0,n.useId)(),titleId:(0,n.useId)(),descriptionId:(0,n.useId)(),open:p,onOpenChange:m,onOpenToggle:a.useCallback(()=>m(e=>!e),[m]),modal:d,children:r})};C.displayName=f;var N="DialogTrigger",w=a.forwardRef((e,a)=>{let{__scopeDialog:s,...n}=e,l=y(N,s),i=(0,r.useComposedRefs)(a,l.triggerRef);return(0,g.jsx)(u.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":U(l.open),...n,ref:i,onClick:(0,t.composeEventHandlers)(e.onClick,l.onOpenToggle)})});w.displayName=N;var I="DialogPortal",[S,P]=v(I,{forceMount:void 0}),D=e=>{let{__scopeDialog:t,forceMount:r,children:s,container:n}=e,l=y(I,t);return(0,g.jsx)(S,{scope:t,forceMount:r,children:a.Children.map(s,e=>(0,g.jsx)(c.Presence,{present:r||l.open,children:(0,g.jsx)(d.Portal,{asChild:!0,container:n,children:e})}))})};D.displayName=I;var E="DialogOverlay",R=a.forwardRef((e,a)=>{let t=P(E,e.__scopeDialog),{forceMount:r=t.forceMount,...s}=e,n=y(E,e.__scopeDialog);return n.modal?(0,g.jsx)(c.Presence,{present:r||n.open,children:(0,g.jsx)(L,{...s,ref:a})}):null});R.displayName=E;var L=a.forwardRef((e,a)=>{let{__scopeDialog:t,...r}=e,s=y(E,t);return(0,g.jsx)(m.RemoveScroll,{as:x.Slot,allowPinchZoom:!0,shards:[s.contentRef],children:(0,g.jsx)(u.Primitive.div,{"data-state":U(s.open),...r,ref:a,style:{pointerEvents:"auto",...r.style}})})}),O="DialogContent",_=a.forwardRef((e,a)=>{let t=P(O,e.__scopeDialog),{forceMount:r=t.forceMount,...s}=e,n=y(O,e.__scopeDialog);return(0,g.jsx)(c.Presence,{present:r||n.open,children:n.modal?(0,g.jsx)(T,{...s,ref:a}):(0,g.jsx)(F,{...s,ref:a})})});_.displayName=O;var T=a.forwardRef((e,s)=>{let n=y(O,e.__scopeDialog),l=a.useRef(null),i=(0,r.useComposedRefs)(s,n.contentRef,l);return a.useEffect(()=>{let e=l.current;if(e)return(0,h.hideOthers)(e)},[]),(0,g.jsx)(k,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,t.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:(0,t.composeEventHandlers)(e.onPointerDownOutside,e=>{let a=e.detail.originalEvent,t=0===a.button&&!0===a.ctrlKey;(2===a.button||t)&&e.preventDefault()}),onFocusOutside:(0,t.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),F=a.forwardRef((e,t)=>{let r=y(O,e.__scopeDialog),s=a.useRef(!1),n=a.useRef(!1);return(0,g.jsx)(k,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(s.current||r.triggerRef.current?.focus(),a.preventDefault()),s.current=!1,n.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(s.current=!0,"pointerdown"===a.detail.originalEvent.type&&(n.current=!0));let t=a.target;r.triggerRef.current?.contains(t)&&a.preventDefault(),"focusin"===a.detail.originalEvent.type&&n.current&&a.preventDefault()}})}),k=a.forwardRef((e,t)=>{let{__scopeDialog:s,trapFocus:n,onOpenAutoFocus:l,onCloseAutoFocus:d,...c}=e,u=y(O,s),m=a.useRef(null),h=(0,r.useComposedRefs)(t,m);return(0,p.useFocusGuards)(),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(o.FocusScope,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:l,onUnmountAutoFocus:d,children:(0,g.jsx)(i.DismissableLayer,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":U(u.open),...c,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(z,{titleId:u.titleId}),(0,g.jsx)(G,{contentRef:m,descriptionId:u.descriptionId})]})]})}),q="DialogTitle",A=a.forwardRef((e,a)=>{let{__scopeDialog:t,...r}=e,s=y(q,t);return(0,g.jsx)(u.Primitive.h2,{id:s.titleId,...r,ref:a})});A.displayName=q;var H="DialogDescription",M=a.forwardRef((e,a)=>{let{__scopeDialog:t,...r}=e,s=y(H,t);return(0,g.jsx)(u.Primitive.p,{id:s.descriptionId,...r,ref:a})});M.displayName=H;var B="DialogClose",V=a.forwardRef((e,a)=>{let{__scopeDialog:r,...s}=e,n=y(B,r);return(0,g.jsx)(u.Primitive.button,{type:"button",...s,ref:a,onClick:(0,t.composeEventHandlers)(e.onClick,()=>n.onOpenChange(!1))})});function U(e){return e?"open":"closed"}V.displayName=B;var $="DialogTitleWarning",[K,W]=(0,s.createContext)($,{contentName:O,titleName:q,docsSlug:"dialog"}),z=({titleId:e})=>{let t=W($),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return a.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},G=({contentRef:e,descriptionId:t})=>{let r=W("DialogDescriptionWarning"),s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${r.contentName}}.`;return a.useEffect(()=>{let a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null};e.s(["Close",()=>V,"Content",()=>_,"Description",()=>M,"Overlay",()=>R,"Portal",()=>D,"Root",()=>C,"Title",()=>A,"Trigger",()=>w],91101);var J=e.i(34853);e.s(["XIcon",()=>J.default],32646)},84675,e=>{"use strict";let a=(0,e.i(10965).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>a],84675)},43251,e=>{"use strict";var a=e.i(29511),t=e.i(58138),r=e.i(16755),s=e.i(70065),n=e.i(67881),l=e.i(23750),i=e.i(10708),o=e.i(36185),d=e.i(10552),c=e.i(84675),u=e.i(74117);function p(){let e=(0,r.useRouter)(),{toast:p}=(0,u.useToast)(),[m,h]=(0,t.useState)(!1),[x,g]=(0,t.useState)([]),[f,v]=(0,t.useState)(""),[b,j]=(0,t.useState)(""),[y,C]=(0,t.useState)(""),[N,w]=(0,t.useState)(""),[I,S]=(0,t.useState)(""),[P,D]=(0,t.useState)(""),[E,R]=(0,t.useState)(""),[L,O]=(0,t.useState)(""),[_,T]=(0,t.useState)(""),[F,k]=(0,t.useState)(""),[q,A]=(0,t.useState)(""),[H,M]=(0,t.useState)(""),[B,V]=(0,t.useState)(""),[U,$]=(0,t.useState)(""),[K,W]=(0,t.useState)(""),[z,G]=(0,t.useState)(""),[J,X]=(0,t.useState)(""),[Z,Q]=(0,t.useState)(""),[Y,ee]=(0,t.useState)(""),[ea,et]=(0,t.useState)("");(0,t.useEffect)(()=>{!async function(){try{let e=await fetch("/api/onboarding/meta",{credentials:"include"}),a=(await e.json()).data.countries.countries.map(e=>({value:e.name,label:e.name}));g(a)}catch(e){console.error("Failed to fetch countries:",e)}}()},[]);let er=async a=>{a.preventDefault(),h(!0);let t={name:f,email:b,password:y,password_confirmation:N,phone:I,company_name:P,expiration_date:E,total_screenings:parseInt(L),trade_license_number:_,dob:F,passport_number:q,passport_country:H,nationality:B,contact_type:U,communication_type:K,phone_number:z,address:J,city:Z,state:Y,country:ea};try{let a=await fetch("/api/companies",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=await a.json();if(a.ok)p({title:"Success",description:r.message||"Company created successfully"}),e.push("/dashboard/admin/companies");else{let e=(r?.errors?Object.values(r.errors).flat().join("; "):"")||r?.message||r?.error||"Unknown error";p({title:"Failed to create company",description:e})}}catch(e){p({title:"Failed to create company",description:e?.message||"Network error",variant:"destructive"})}finally{h(!1)}};return(0,a.jsxs)("div",{className:"space-y-6 max-w-5xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>e.back(),children:(0,a.jsx)(c.ArrowLeft,{className:"w-4 h-4"})}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(d.Building2,{className:"w-6 h-6 text-blue-600"}),(0,a.jsx)("h1",{className:"text-2xl font-semibold",children:"Add New Company"})]})]}),(0,a.jsxs)("form",{onSubmit:er,className:"space-y-6",children:[(0,a.jsxs)(s.Card,{children:[(0,a.jsx)(s.CardHeader,{className:"bg-blue-50/50",children:(0,a.jsx)(s.CardTitle,{className:"text-base font-medium",children:"User Information"})}),(0,a.jsx)(s.CardContent,{className:"pt-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Name *"}),(0,a.jsx)(l.Input,{value:f,onChange:e=>v(e.target.value),placeholder:"Enter name",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Email *"}),(0,a.jsx)(l.Input,{type:"email",value:b,onChange:e=>j(e.target.value),placeholder:"Enter email",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Password *"}),(0,a.jsx)(l.Input,{type:"password",value:y,onChange:e=>C(e.target.value),placeholder:"Enter password (min 8 characters)",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Confirm Password *"}),(0,a.jsx)(l.Input,{type:"password",value:N,onChange:e=>w(e.target.value),placeholder:"Confirm password",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Phone"}),(0,a.jsx)(l.Input,{value:I,onChange:e=>S(e.target.value),placeholder:"Enter phone number"})]})]})})]}),(0,a.jsxs)(s.Card,{children:[(0,a.jsx)(s.CardHeader,{className:"bg-blue-50/50",children:(0,a.jsx)(s.CardTitle,{className:"text-base font-medium",children:"Company Information"})}),(0,a.jsx)(s.CardContent,{className:"pt-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Company Name *"}),(0,a.jsx)(l.Input,{value:P,onChange:e=>D(e.target.value),placeholder:"Enter company name",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Trade License Number *"}),(0,a.jsx)(l.Input,{value:_,onChange:e=>T(e.target.value),placeholder:"Enter trade license number",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Expiration Date *"}),(0,a.jsx)(l.Input,{type:"date",value:E,onChange:e=>R(e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Total Screenings *"}),(0,a.jsx)(l.Input,{type:"number",value:L,onChange:e=>O(e.target.value),placeholder:"Enter total screenings",required:!0})]})]})})]}),(0,a.jsxs)(s.Card,{children:[(0,a.jsx)(s.CardHeader,{className:"bg-blue-50/50",children:(0,a.jsx)(s.CardTitle,{className:"text-base font-medium",children:"Personal Information"})}),(0,a.jsx)(s.CardContent,{className:"pt-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Date of Birth *"}),(0,a.jsx)(l.Input,{type:"date",value:F,onChange:e=>k(e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Passport Number *"}),(0,a.jsx)(l.Input,{value:q,onChange:e=>A(e.target.value),placeholder:"Enter passport number",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Passport Country *"}),(0,a.jsx)(o.Combobox,{options:x,value:H,onValueChange:e=>"string"==typeof e&&M(e),placeholder:"Select passport country",searchPlaceholder:"Search country..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Nationality *"}),(0,a.jsx)(o.Combobox,{options:x,value:B,onValueChange:e=>"string"==typeof e&&V(e),placeholder:"Select nationality",searchPlaceholder:"Search nationality..."})]})]})})]}),(0,a.jsxs)(s.Card,{children:[(0,a.jsx)(s.CardHeader,{className:"bg-blue-50/50",children:(0,a.jsx)(s.CardTitle,{className:"text-base font-medium",children:"Contact Information"})}),(0,a.jsx)(s.CardContent,{className:"pt-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Phone Number *"}),(0,a.jsx)(l.Input,{value:z,onChange:e=>G(e.target.value),placeholder:"Enter phone number",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Contact Type *"}),(0,a.jsx)(o.Combobox,{options:[{value:"OFFIC",label:"Office"},{value:"HOME",label:"Home"},{value:"MOBIL",label:"Mobile"}],value:U,onValueChange:e=>"string"==typeof e&&$(e),placeholder:"Select contact type",searchPlaceholder:"Search contact type..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Communication Type *"}),(0,a.jsx)(o.Combobox,{options:[{value:"M",label:"Mail"},{value:"E",label:"Email"},{value:"P",label:"Phone"}],value:K,onValueChange:e=>"string"==typeof e&&W(e),placeholder:"Select communication type",searchPlaceholder:"Search communication type..."})]})]})})]}),(0,a.jsxs)(s.Card,{children:[(0,a.jsx)(s.CardHeader,{className:"bg-blue-50/50",children:(0,a.jsx)(s.CardTitle,{className:"text-base font-medium",children:"Address Information"})}),(0,a.jsx)(s.CardContent,{className:"pt-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,a.jsx)(i.Label,{children:"Address *"}),(0,a.jsx)(l.Input,{value:J,onChange:e=>X(e.target.value),placeholder:"Enter address",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"City *"}),(0,a.jsx)(l.Input,{value:Z,onChange:e=>Q(e.target.value),placeholder:"Enter city",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"State *"}),(0,a.jsx)(l.Input,{value:Y,onChange:e=>ee(e.target.value),placeholder:"Enter state",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Country *"}),(0,a.jsx)(o.Combobox,{options:x,value:ea,onValueChange:e=>"string"==typeof e&&et(e),placeholder:"Select country",searchPlaceholder:"Search country..."})]})]})})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-end",children:[(0,a.jsx)(n.Button,{type:"button",variant:"outline",onClick:()=>e.back(),children:"Cancel"}),(0,a.jsx)(n.Button,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",disabled:m,children:m?"Creating...":"Create Company"})]})]})]})}e.s(["default",()=>p])}]);
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,62544,e=>{"use strict";var a=e.i(29511),s=e.i(58138),l=e.i(67881),t=e.i(23750),i=e.i(10708),n=e.i(36185),r=e.i(16540),c=e.i(84762),d=e.i(70065),o=e.i(84244),u=e.i(10552),h=e.i(49110),m=e.i(79971),x=e.i(28152),p=e.i(7887),b=e.i(22427),v=e.i(60039),j=e.i(62412),g=e.i(83272),y=e.i(4664),N=e.i(29439),f=e.i(11741),C=e.i(49978),S=e.i(16755),I=e.i(74117),L=e.i(27341);let D=[{value:"Employed",label:"Employed"},{value:"Self-employed",label:"Self Employed"},{value:"Business",label:"Business"},{value:"Retired",label:"Retired"}],T=[{value:"Salary",label:"Salary"},{value:"Business",label:"Business"},{value:"Investment",label:"Investment"},{value:"Other",label:"Other"}],P=[{value:"Passport",label:"Passport"},{value:"EID",label:"EID"},{value:"GCC ID",label:"GCC ID"},{value:"Govt. Issued ID",label:"Govt. Issued ID"},{value:"Commercial License",label:"Commercial License"}],E=[{value:"Personal Use",label:"Personal Use"},{value:"Gift",label:"Gift"},{value:"Investment",label:"Investment"},{value:"Other",label:"Other"}],_=[{value:"Cash",label:"Cash"},{value:"Bank Transfer",label:"Bank Transfer"},{value:"Debit Card",label:"Debit Card"},{value:"Credit Card",label:"Credit Card"},{value:"Other",label:"Other"}],R=[{value:"Walk-In Customer",label:"Walk-In Customer"},{value:"Non Face to Face",label:"Non Face to Face"},{value:"Other",label:"Other"}],w=[{value:"OFF",label:"OFF"},{value:"Level 1",label:"Level 1"},{value:"Level 2",label:"Level 2"}];function F(){let[e,l]=(0,s.useState)("individual"),[t,i]=(0,s.useState)([]),[n,r]=(0,s.useState)([]),[c,d]=(0,s.useState)([]),[h,m]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{!async function(){try{let e=await fetch("/api/onboarding/meta",{credentials:"include"}),a=await e.json();console.log("Onboarding meta data:",a);let s=a.data.countries.countries.map(e=>({value:e.name,label:e.name,code:e.sortname,phoneCode:e.phoneCode}));i(s),r(s.filter(e=>e.phoneCode&&"+0"!==e.phoneCode).map(e=>({value:`${e.phoneCode}|${e.code}`,label:`${e.phoneCode} (${e.label})`}))),d((a.data.products||[]).map(e=>({value:e.id.toString(),label:e.name})))}catch(e){}finally{m(!1)}}()},[]),h)?(0,a.jsx)("div",{children:"Loading..."}):(0,a.jsxs)("div",{className:"max-w-8xl mx-auto",children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(y.UsersIcon,{className:"w-5 h-5"}),(0,a.jsx)("h1",{className:"text-2xl font-semibold",children:"Customer Onboarding"})]})}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-center mb-2",children:"Choose Customer Type"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground text-center mb-6",children:["Selected: ","individual"===e?"Individual":"Corporate"]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 max-w-3xl mx-auto",children:[(0,a.jsxs)("button",{onClick:()=>l("individual"),className:`p-6 rounded-lg border-2 transition-all ${"individual"===e?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[(0,a.jsx)(o.User,{className:"w-6 h-6 mb-2"}),(0,a.jsx)("div",{className:"font-semibold",children:"Individual"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"For personal customers or sole proprietors."})]}),(0,a.jsxs)("button",{onClick:()=>l("corporate"),className:`p-6 rounded-lg border-2 transition-all ${"corporate"===e?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[(0,a.jsx)(u.Building2,{className:"w-6 h-6 mb-2"}),(0,a.jsx)("div",{className:"font-semibold",children:"Corporate"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"For businesses, organizations, or entities."})]})]})]}),"individual"===e?(0,a.jsx)(A,{countries:t,countryCodes:n,occupations:D,idTypes:P,products:c,sourceOfIncome:T}):(0,a.jsx)(O,{countries:t,countryCodes:n,occupations:D,idTypes:P,products:c})]})}function A({countries:e,countryCodes:u,products:x,occupations:y,sourceOfIncome:N,idTypes:f}){let[C,D]=(0,s.useState)(""),[T,P]=(0,s.useState)(""),[F,A]=(0,s.useState)(""),[O,B]=(0,s.useState)("resident"),[G,k]=(0,s.useState)(""),[V,U]=(0,s.useState)(""),[M,z]=(0,s.useState)(""),[$,H]=(0,s.useState)(""),[Z,Y]=(0,s.useState)(""),[K,W]=(0,s.useState)(""),[J,q]=(0,s.useState)(""),[Q,X]=(0,s.useState)(""),[ee,ea]=(0,s.useState)(""),[es,el]=(0,s.useState)(!1),[et,ei]=(0,s.useState)(!1),[en,er]=(0,s.useState)(""),[ec,ed]=(0,s.useState)(!1),[eo,eu]=(0,s.useState)(""),[eh,em]=(0,s.useState)(""),[ex,ep]=(0,s.useState)(""),[eb,ev]=(0,s.useState)(""),[ej,eg]=(0,s.useState)(""),[ey,eN]=(0,s.useState)(""),[ef,eC]=(0,s.useState)(""),[eS,eI]=(0,s.useState)(""),[eL,eD]=(0,s.useState)(""),[eT,eP]=(0,s.useState)(""),[eE,e_]=(0,s.useState)([]),[eR,ew]=(0,s.useState)([]),[eF,eA]=(0,s.useState)(""),[eO,eB]=(0,s.useState)(""),[eG,ek]=(0,s.useState)(""),[eV,eU]=(0,s.useState)(""),[eM,ez]=(0,s.useState)(""),[e$,eH]=(0,s.useState)([]),eZ=(0,s.useRef)(null),[eY,eK]=(0,s.useState)("personal"),eW=(0,S.useRouter)(),{toast:eJ}=(0,I.useToast)(),eq=e=>a=>{"string"==typeof a&&e(a)},eQ=e=>a=>{e("yes"===a)},eX=eq(eu),e0=eq(em),e2=async e=>{e.preventDefault();let a=Object.entries({"First Name":C,"Last Name":T,"Date of Birth":F,Address:G,City:V,Country:M,Nationality:$,"Country Code":Z,"Contact No":K,Email:J,Gender:en,Occupation:eo,"Source of Income":eh,Purpose:ex,"Payment Mode":eb,"Product Type":eE.length>0?"filled":"","Mode of Approach":eF,"ID Type":ej,"ID No":ey,"ID Issued By":ef,"ID Issued At":eS,"ID Issued Date":eL,"ID Expiry Date":eT,"Place of Birth":Q,"Country of Residence":ee,"Screening Fuzziness":eV}).filter(([e,a])=>!a).map(([e,a])=>e);if(a.length>0)return void eJ({title:"Required fields missing",description:`Please fill in: ${a.join(", ")}`});let s={customer_type:"individual",onboarding_type:"full",screening_fuzziness:eV,remarks:eM,individual_details:{first_name:C,last_name:T,dob:F,residential_status:O,address:G,city:V,country:M,nationality:$,country_code:Z,contact_no:K,email:J,place_of_birth:Q,country_of_residence:ee,dual_nationality:es,adverse_news:et,gender:en,is_pep:ec,occupation:eo,source_of_income:eh,purpose_of_onboarding:ex,payment_mode:eb,mode_of_approach:eF,expected_no_of_transactions:eO?Number(eO):null,expected_volume:eG?Number(eG):null,id_type:ej,id_no:ey,issuing_authority:ef,issuing_country:eS,id_issue_date:eL,id_expiry_date:eT},products:eE,country_operations:eR},l=new FormData;l.append("data",JSON.stringify(s)),e$.forEach((e,a)=>{l.append("documents[]",e)});try{let e=await fetch("/api/onboarding",{method:"POST",credentials:"include",body:l}),a=await e.json().catch(async()=>({message:await e.text()}));if(console.log("[Frontend] Onboarding API response:",{status:e.status,data:a}),e.ok){let e=a?.message||"Onboarding submitted successfully";eJ({title:"Success",description:e}),eW.push("/dashboard/customers")}else{console.log("[Frontend] Error response data:",a);let e=(a?.errors?Object.values(a.errors).flat().join("; "):"")||a?.message||a?.error||"Unknown error";console.log("[Frontend] Final error text for toast:",e),eJ({title:"Onboarding failed",description:e})}}catch(e){console.error("[Frontend] Caught error:",e),eJ({title:"Onboarding failed",description:e?.message||"Network error"})}};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:"Individual"}),(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"New Individual Registration"})]}),(0,a.jsxs)(L.Tabs,{value:eY,onValueChange:eK,className:"w-full",children:[(0,a.jsx)("div",{className:"sticky top-0 z-20 bg-white/95 backdrop-blur py-3 border-b mb-4",children:(0,a.jsxs)(L.TabsList,{className:"w-full h-auto flex flex-wrap justify-start gap-2 bg-transparent p-0",children:[(0,a.jsx)(L.TabsTrigger,{value:"personal",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Personal Information"}),(0,a.jsx)(L.TabsTrigger,{value:"address",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Address Information"}),(0,a.jsx)(L.TabsTrigger,{value:"contact",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Contact Information"}),(0,a.jsx)(L.TabsTrigger,{value:"gender-pep",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Gender and PEP Status"}),(0,a.jsx)(L.TabsTrigger,{value:"occupation",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Occupation and Income"}),(0,a.jsx)(L.TabsTrigger,{value:"financial",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Financial Details"}),(0,a.jsx)(L.TabsTrigger,{value:"transactions",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Transactions and ID Details"}),(0,a.jsx)(L.TabsTrigger,{value:"identification",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Identification Details"}),(0,a.jsx)(L.TabsTrigger,{value:"additional-info",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Additional Information"}),(0,a.jsx)(L.TabsTrigger,{value:"documents",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Upload Documents"})]})}),(0,a.jsxs)("form",{className:"space-y-6 pb-0",onSubmit:e2,onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()},children:[(0,a.jsx)(L.TabsContent,{value:"personal",className:"mt-0",children:(0,a.jsxs)(d.Card,{className:"p-6 bg-blue-50/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(o.User,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h4",{className:"font-semibold",children:"Personal Information"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"First Name *"}),(0,a.jsx)(t.Input,{placeholder:"Enter first name",value:C,onChange:e=>D(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Last Name *"}),(0,a.jsx)(t.Input,{placeholder:"Enter last name",value:T,onChange:e=>P(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Date of Birth *"}),(0,a.jsx)(t.Input,{type:"date",placeholder:"mm/dd/yyyy",value:F,onChange:e=>A(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Residential Status *"}),(0,a.jsxs)(r.RadioGroup,{value:O,onValueChange:B,className:"flex gap-6 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.RadioGroupItem,{value:"resident",id:"resident"}),(0,a.jsx)(i.Label,{htmlFor:"resident",children:"Resident"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.RadioGroupItem,{value:"non-resident",id:"non-resident"}),(0,a.jsx)(i.Label,{htmlFor:"non-resident",children:"Non-Resident"})]})]})]})]})]})}),(0,a.jsx)(L.TabsContent,{value:"address",className:"mt-0",children:(0,a.jsxs)(d.Card,{className:"p-6 bg-blue-50/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(h.MapPin,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h4",{className:"font-semibold",children:"Address Information"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,a.jsx)(i.Label,{children:"Address *"}),(0,a.jsx)(t.Input,{placeholder:"Enter address",value:G,onChange:e=>k(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"City *"}),(0,a.jsx)(t.Input,{placeholder:"Enter city",value:V,onChange:e=>U(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Country *"}),(0,a.jsx)(n.Combobox,{options:e,value:M,onValueChange:eq(z),placeholder:"Select a country",searchPlaceholder:"Search country..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Nationality *"}),(0,a.jsx)(n.Combobox,{options:e,value:$,onValueChange:eq(H),placeholder:"Select a nationality",searchPlaceholder:"Search nationality..."})]})]})]})}),(0,a.jsx)(L.TabsContent,{value:"contact",className:"mt-0",children:(0,a.jsxs)(d.Card,{className:"p-6 bg-blue-50/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(m.Phone,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h4",{className:"font-semibold",children:"Contact Information"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Country Code *"}),(0,a.jsx)(n.Combobox,{options:u,value:Z,onValueChange:eq(Y),placeholder:"Select",searchPlaceholder:"Search code..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Contact No *"}),(0,a.jsx)(t.Input,{placeholder:"Enter contact number",value:K,onChange:e=>W(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Email *"}),(0,a.jsx)(t.Input,{type:"email",placeholder:"Enter your email",value:J,onChange:e=>q(e.target.value)})]})]})]})}),(0,a.jsx)(L.TabsContent,{value:"gender-pep",className:"mt-0",children:(0,a.jsxs)(d.Card,{className:"p-6 bg-blue-50/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(o.User,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h4",{className:"font-semibold",children:"Gender and PEP Status"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Gender *"}),(0,a.jsxs)(r.RadioGroup,{value:en,onValueChange:e=>er(e),className:"flex flex-col gap-2 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.RadioGroupItem,{value:"Male",id:"male"}),(0,a.jsx)(i.Label,{htmlFor:"male",children:"Male"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.RadioGroupItem,{value:"Female",id:"female"}),(0,a.jsx)(i.Label,{htmlFor:"female",children:"Female"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.RadioGroupItem,{value:"Other",id:"other"}),(0,a.jsx)(i.Label,{htmlFor:"other",children:"Other"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Politically Exposed Person (PEP)? *"}),(0,a.jsxs)(r.RadioGroup,{value:ec?"yes":"no",onValueChange:e=>ed("yes"===e),className:"flex gap-6 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.RadioGroupItem,{value:"yes",id:"pep-yes"}),(0,a.jsx)(i.Label,{htmlFor:"pep-yes",children:"Yes"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.RadioGroupItem,{value:"no",id:"pep-no"}),(0,a.jsx)(i.Label,{htmlFor:"pep-no",children:"No"})]})]})]})]})]})}),(0,a.jsx)(L.TabsContent,{value:"occupation",className:"mt-0",children:(0,a.jsxs)(d.Card,{className:"p-6 bg-blue-50/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(b.Briefcase,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h4",{className:"font-semibold",children:"Occupation and Income"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Occupation *"}),(0,a.jsx)(n.Combobox,{options:y,value:eo,onValueChange:eX,placeholder:"Select an occupation",searchPlaceholder:"Search occupation..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Source of Income *"}),(0,a.jsx)(n.Combobox,{options:N,value:eh,onValueChange:e0,placeholder:"Select a source",searchPlaceholder:"Search source..."})]})]})]})}),(0,a.jsx)(L.TabsContent,{value:"financial",className:"mt-0",children:(0,a.jsxs)(d.Card,{className:"p-6 bg-blue-50/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(v.DollarSign,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h4",{className:"font-semibold",children:"Financial Details"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Purpose *"}),(0,a.jsx)(n.Combobox,{options:E,value:ex,onValueChange:eq(ep),placeholder:"Select a purpose",searchPlaceholder:"Search purpose..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Payment Mode *"}),(0,a.jsx)(n.Combobox,{options:_,value:eb,onValueChange:eq(ev),placeholder:"Select a payment mode",searchPlaceholder:"Search mode..."})]})]})]})}),(0,a.jsx)(L.TabsContent,{value:"transactions",className:"mt-0",children:(0,a.jsxs)(d.Card,{className:"p-6 bg-blue-50/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(j.FileText,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h4",{className:"font-semibold",children:"Transactions and ID Details"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Product Type *"}),(0,a.jsx)(n.Combobox,{options:x,value:eE,onValueChange:e=>{Array.isArray(e)&&e_(e)},multiple:!0,placeholder:"Select product type",searchPlaceholder:"Search type..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Mode of Approach *"}),(0,a.jsx)(n.Combobox,{options:R,value:eF,onValueChange:eq(eA),placeholder:"Select mode of approach",searchPlaceholder:"Search approach..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Expected No of Transactions"}),(0,a.jsx)(t.Input,{type:"number",placeholder:"0",value:eO,onChange:e=>eB(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Expected Volume"}),(0,a.jsx)(t.Input,{type:"number",placeholder:"0",value:eG,onChange:e=>ek(e.target.value)})]})]})]})}),(0,a.jsx)(L.TabsContent,{value:"identification",className:"mt-0",children:(0,a.jsxs)(d.Card,{className:"p-6 bg-blue-50/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(p.Award,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h4",{className:"font-semibold",children:"Identification Details"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"ID Type *"}),(0,a.jsx)(n.Combobox,{options:f,value:ej,onValueChange:eq(eg),placeholder:"Select an ID type",searchPlaceholder:"Search type..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"ID No*"}),(0,a.jsx)(t.Input,{placeholder:"Enter ID number",value:ey,onChange:e=>eN(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"ID Issued By *"}),(0,a.jsx)(t.Input,{placeholder:"Enter issuing authority",value:ef,onChange:e=>eC(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"ID Issued At *"}),(0,a.jsx)(n.Combobox,{options:e,value:eS,onValueChange:eq(eI),placeholder:"Select a country",searchPlaceholder:"Search country..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"ID Issued Date *"}),(0,a.jsx)(t.Input,{type:"date",placeholder:"mm/dd/yyyy",value:eL,onChange:e=>eD(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"ID Expiry Date *"}),(0,a.jsx)(t.Input,{type:"date",placeholder:"mm/dd/yyyy",value:eT,onChange:e=>eP(e.target.value)})]})]})]})}),(0,a.jsx)(L.TabsContent,{value:"additional-info",className:"mt-0",children:(0,a.jsxs)(d.Card,{className:"p-6 bg-blue-50/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(j.FileText,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h4",{className:"font-semibold",children:"Additional Information"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Place of Birth *"}),(0,a.jsx)(n.Combobox,{options:e,value:Q,onValueChange:eq(X),placeholder:"Select a country",searchPlaceholder:"Search country..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Country of Residence *"}),(0,a.jsx)(n.Combobox,{options:e,value:ee,onValueChange:eq(ea),placeholder:"Select a country",searchPlaceholder:"Search country..."})]}),(0,a.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,a.jsx)(i.Label,{children:"Dual Nationality *"}),(0,a.jsxs)(r.RadioGroup,{value:es?"yes":"no",onValueChange:eQ(el),className:"flex gap-6 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.RadioGroupItem,{value:"yes",id:"dual-yes"}),(0,a.jsx)(i.Label,{htmlFor:"dual-yes",children:"Yes"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.RadioGroupItem,{value:"no",id:"dual-no"}),(0,a.jsx)(i.Label,{htmlFor:"dual-no",children:"No"})]})]})]}),(0,a.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,a.jsx)(i.Label,{children:"Is Customer Facing any adverse event? *"}),(0,a.jsx)("p",{className:"text-xs text-blue-600 mb-2",children:"We don't Check adverse news feed"}),(0,a.jsxs)(r.RadioGroup,{value:et?"yes":"no",onValueChange:eQ(ei),className:"flex gap-6 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.RadioGroupItem,{value:"yes",id:"adverse-yes"}),(0,a.jsx)(i.Label,{htmlFor:"adverse-yes",children:"Yes"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.RadioGroupItem,{value:"no",id:"adverse-no"}),(0,a.jsx)(i.Label,{htmlFor:"adverse-no",children:"No"})]})]})]}),(0,a.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,a.jsx)(i.Label,{children:"Screening Fuzziness *"}),(0,a.jsx)(n.Combobox,{options:w,value:eV,onValueChange:eq(eU),placeholder:"Select fuzziness level",searchPlaceholder:"Search fuzziness..."})]}),(0,a.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,a.jsx)(i.Label,{children:"Remarks"}),(0,a.jsx)(c.Textarea,{placeholder:"Enter any remarks",rows:3,value:eM,onChange:e=>ez(e.target.value)})]})]})]})}),(0,a.jsx)(L.TabsContent,{value:"documents",className:"mt-0",children:(0,a.jsxs)(d.Card,{className:"p-6 bg-blue-50/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(g.Upload,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h4",{className:"font-semibold",children:"Upload Documents"})]}),(0,a.jsxs)("div",{className:"border-2 border-dashed border-blue-300 rounded-lg p-8 text-center cursor-pointer",onClick:()=>eZ.current?.click(),children:[(0,a.jsx)(g.Upload,{className:"w-8 h-8 mx-auto mb-2 text-blue-600"}),(0,a.jsx)("p",{className:"text-sm text-blue-600 mb-1",children:"Add Documents"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Max 5 files, each up to 2MB (Images, PDFs, Docs)"}),(0,a.jsx)("input",{ref:eZ,type:"file",multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx,.xls,.xlsx,.csv,.txt,.gif,.bmp,.tiff,.svg,.webp,.heic",onChange:e=>{e.target.files&&eH(Array.from(e.target.files).filter(e=>e.size<=2097152).slice(0,5))},className:"mt-2 hidden","data-testid":"file-input"}),(0,a.jsx)("div",{className:"mt-2 flex flex-col items-center gap-1",children:e$.map((e,s)=>(0,a.jsxs)("span",{className:"text-xs text-gray-700",children:[e.name," (",(e.size/1024).toFixed(1)," KB)"]},s))}),"        "]})]})}),(0,a.jsx)("div",{className:"sticky bottom-0 bg-white/95 backdrop-blur py-4 border-t mt-6",children:(0,a.jsx)(l.Button,{className:"w-full bg-blue-600 hover:bg-blue-700",type:"submit",children:"Submit Registration"})})]})]})]})}function O({countries:e,countryCodes:h,products:b,occupations:v,idTypes:D}){let[T,P]=(0,s.useState)([{id:1,idType:"",role:"",type:"",name:"",isPep:!1,nationality:"",idNo:"",idIssue:"",idExpiry:"",dob:"",ownershipPercentage:""}]),[E,_]=(0,s.useState)([]),R=(0,s.useRef)(null),w=(e,a,s)=>{P(l=>l.map(l=>l.id===e?{...l,[a]:s}:l))},F=[{value:"UBO",label:"UBO"},{value:"SHARE HOLDER",label:"SHARE HOLDER"},{value:"PARTNER",label:"PARTNER"},{value:"DIRECTOR",label:"DIRECTOR"},{value:"MANAGER",label:"MANAGER"},{value:"REPRESENTATIVE",label:"REPRESENTATIVE"}],[A,O]=(0,s.useState)(""),[B,G]=(0,s.useState)(""),[k,V]=(0,s.useState)(""),[U,M]=(0,s.useState)(""),[z,$]=(0,s.useState)(""),[H,Z]=(0,s.useState)(""),[Y,K]=(0,s.useState)(""),[W,J]=(0,s.useState)(""),[q,Q]=(0,s.useState)(""),[X,ee]=(0,s.useState)(""),[ea,es]=(0,s.useState)(""),[el,et]=(0,s.useState)(""),[ei,en]=(0,s.useState)(""),[er,ec]=(0,s.useState)(""),[ed,eo]=(0,s.useState)(!1),[eu,eh]=(0,s.useState)(!1),[em,ex]=(0,s.useState)(!1),[ep,eb]=(0,s.useState)(!1),[ev,ej]=(0,s.useState)(!1),[eg,ey]=(0,s.useState)(""),[eN,ef]=(0,s.useState)(""),[eC,eS]=(0,s.useState)(""),[eI,eL]=(0,s.useState)(""),[eD,eT]=(0,s.useState)(""),[eP,eE]=(0,s.useState)(""),[e_,eR]=(0,s.useState)(""),[ew,eF]=(0,s.useState)([]),[eA,eO]=(0,s.useState)(""),[eB,eG]=(0,s.useState)(""),[ek,eV]=(0,s.useState)(""),[eU,eM]=(0,s.useState)(""),[ez,e$]=(0,s.useState)(""),[eH,eZ]=(0,s.useState)(""),[eY,eK]=(0,s.useState)(!1),[eW,eJ]=(0,s.useState)([]),[eq,eQ]=(0,s.useState)(""),[eX,e0]=(0,s.useState)("company"),e2=e=>a=>{"string"==typeof a&&e(a)},e4=e=>a=>{Array.isArray(a)&&e(a)},e6=(0,S.useRouter)(),{toast:e5}=(0,I.useToast)(),e1=async e=>{e.preventDefault();let a=Object.entries({"Company Name":A,"Company Address":B,City:k,"Country of Incorporation":eg,"PO Box No":U,"Customer Type":eN,"Country Code (Mobile)":eI,"Contact Mobile No":H,Email:Y,"Trade License/CR No":W,"Trade License/CR Issued At":eD,"Trade License/COI Issued By":eP,"Trade License/CR Issued Date":q,"Entity Type":e_,"Countries of Operation":ew.length>0?"filled":"","Business Activity":eA,"Account Holding Bank Name":eq,"Product Type":eW.length>0?"filled":"","Product Source":eB,"Payment Mode":ek,"Delivery Channel":eU}).filter(([e,a])=>!a).map(([e,a])=>e);if(a.length>0)return void e5({title:"Required fields missing",description:`Please fill in: ${a.join(", ")}`});for(let e=0;e<T.length;e++){let a=T[e],s=Object.entries({[`UBO ${e+1} - Type`]:a.type,[`UBO ${e+1} - Name`]:a.name,[`UBO ${e+1} - ID Type`]:a.idType,[`UBO ${e+1} - ID No`]:a.idNo,[`UBO ${e+1} - ID Issue Date`]:a.idIssue,[`UBO ${e+1} - ID Expiry Date`]:a.idExpiry,[`UBO ${e+1} - Date of Birth`]:a.dob,[`UBO ${e+1} - Role`]:a.role,[`UBO ${e+1} - Percentage of Share`]:a.ownershipPercentage}).filter(([e,a])=>!a).map(([e,a])=>e);if(s.length>0)return void e5({title:"Required fields missing",description:`Please fill in: ${s.join(", ")}`})}let s={customer_type:"corporate",onboarding_type:"full",screening_fuzziness:ez,remarks:eH,corporate_details:{company_name:A,company_address:B,city:k,country_incorporated:eg,po_box:U,customer_type:eN,office_country_code:eC,office_no:z,mobile_country_code:eI,mobile_no:H,email:Y,trade_license_no:W,trade_license_issued_at:eD,trade_license_issued_by:eP,license_issue_date:q,license_expiry_date:X,vat_registration_no:ea,tenancy_contract_expiry_date:el,entity_type:e_,business_activity:eA,is_entity_dealting_with_import_export:ed,has_sister_concern:eY,account_holding_bank_name:eq,product_source:eB,payment_mode:ek,delivery_channel:eU,expected_no_of_transactions:ei?Number(ei):null,expected_volume:er?Number(er):null,dual_use_goods:eu,kyc_documents_collected_with_form:em,is_entity_registered_in_GOAML:ep,is_entity_having_adverse_news:ev},products:eW.map(e=>Number(e)),country_operations:ew,corporate_related_persons:T.map(e=>({type:e.type,name:e.name,is_pep:!!e.isPep,nationality:e.nationality,id_type:e.idType,id_no:e.idNo,id_issue:e.idIssue||null,id_expiry:e.idExpiry||null,dob:e.dob||null,role:e.role,ownership_percentage:e.ownershipPercentage?Number(e.ownershipPercentage):null}))};try{let e=new FormData;e.append("data",JSON.stringify(s)),E.forEach(a=>e.append("documents[]",a));let a=await fetch("/api/onboarding",{method:"POST",credentials:"include",body:e}),l=await a.json().catch(async()=>({message:await a.text()}));if(console.log("After calling onboarding api response",a.status,l),a.ok){let e=l?.message||"Onboarding submitted successfully";e5({title:"Success",description:e}),e6.push("/dashboard/customers")}else{console.log("After calling onboarding api response else");let e=(l?.errors?Object.values(l.errors).flat().join("; "):"")||l?.message||l?.error||"Unknown error";e5({title:"Onboarding failed",description:e})}}catch(e){console.log("After calling onboarding api response catch"),e5({title:"Onboarding failed",description:e?.message||"Network error"})}};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:"Corporate"}),(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"New Corporate Registration"})]}),(0,a.jsxs)(L.Tabs,{value:eX,onValueChange:e0,className:"w-full",children:[(0,a.jsx)("div",{className:"sticky top-0 z-20 bg-white/95 backdrop-blur py-3 border-b mb-4",children:(0,a.jsxs)(L.TabsList,{className:"w-full h-auto flex flex-wrap justify-start gap-2 bg-transparent p-0",children:[(0,a.jsx)(L.TabsTrigger,{value:"company",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Company Information"}),(0,a.jsx)(L.TabsTrigger,{value:"contact",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Contact Information"}),(0,a.jsx)(L.TabsTrigger,{value:"identity",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Identity Information"}),(0,a.jsx)(L.TabsTrigger,{value:"operations",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Operations Information"}),(0,a.jsx)(L.TabsTrigger,{value:"product",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Product Details"}),(0,a.jsx)(L.TabsTrigger,{value:"aml",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"AML Compliance"}),(0,a.jsx)(L.TabsTrigger,{value:"related",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Partner/Representative"}),(0,a.jsx)(L.TabsTrigger,{value:"documents",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Upload Documents"}),(0,a.jsx)(L.TabsTrigger,{value:"additional",className:"px-4 py-2 rounded-md border-2xl bg-blue-100 data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:"Additional Information"})]})}),(0,a.jsxs)("form",{className:"space-y-6 pb-0",onSubmit:e1,onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()},children:[(0,a.jsx)(L.TabsContent,{value:"company",className:"mt-0",children:(0,a.jsxs)(d.Card,{className:"p-6 bg-blue-50/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(u.Building2,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h4",{className:"font-semibold",children:"Company Information"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Company Name *"}),(0,a.jsx)(t.Input,{placeholder:"Enter the Company Name",value:A,onChange:e=>O(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Company Address *"}),(0,a.jsx)(t.Input,{placeholder:"Enter the Company address",value:B,onChange:e=>G(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"City *"}),(0,a.jsx)(t.Input,{placeholder:"Enter the city",value:k,onChange:e=>V(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Country of Incorporation *"}),(0,a.jsx)(n.Combobox,{options:e,value:eg,onValueChange:e2(ey),placeholder:"Select a country",searchPlaceholder:"Search country..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"PO Box No *"}),(0,a.jsx)(t.Input,{placeholder:"Enter the PO Box No",value:U,onChange:e=>M(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Customer Type *"}),(0,a.jsx)(n.Combobox,{options:[{value:"Supplier",label:"Supplier"},{value:"Buyer",label:"Buyer"},{value:"Buyer and Supplier",label:"Buyer and Supplier"},{value:"Other",label:"Other"}],value:eN,onValueChange:e2(ef),placeholder:"Select Customer Type",searchPlaceholder:"Search type..."})]})]})]})}),(0,a.jsx)(L.TabsContent,{value:"contact",className:"mt-0",children:(0,a.jsxs)(d.Card,{className:"p-6 bg-blue-50/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(m.Phone,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h4",{className:"font-semibold",children:"Contact Information"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Country Code"}),(0,a.jsx)(n.Combobox,{options:h,value:eC,onValueChange:e2(eS),placeholder:"Select",searchPlaceholder:"Search code..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Contact Office No"}),(0,a.jsx)(t.Input,{placeholder:"Enter the Contact Office No",value:z,onChange:e=>$(e.target.value)})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Country Code *"}),(0,a.jsx)(n.Combobox,{options:h,value:eI,onValueChange:e2(eL),placeholder:"Select",searchPlaceholder:"Search code..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Contact Mobile No *"}),(0,a.jsx)(t.Input,{placeholder:"Enter the Contact Mobile No",value:H,onChange:e=>Z(e.target.value)})]})]}),(0,a.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,a.jsx)(i.Label,{children:"Email *"}),(0,a.jsx)(t.Input,{type:"email",placeholder:"Enter your email (abc@dom.com)",value:Y,onChange:e=>K(e.target.value)})]})]})]})}),(0,a.jsx)(L.TabsContent,{value:"identity",className:"mt-0",children:(0,a.jsxs)(d.Card,{className:"p-6 bg-blue-50/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(p.Award,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h4",{className:"font-semibold",children:"Identity Information"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Trade License/CR No *"}),(0,a.jsx)(t.Input,{placeholder:"Enter Trade License/CR No",value:W,onChange:e=>J(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Trade License/CR Issued At *"}),(0,a.jsx)(n.Combobox,{options:e,value:eD,onValueChange:e2(eT),placeholder:"Select a country",searchPlaceholder:"Search country..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Trade License/COI Issued By *"}),(0,a.jsx)(n.Combobox,{options:[{value:"Government of UAE",label:"Government of UAE"},{value:"Government Authority",label:"Government Authority"},{value:"DED Dubai",label:"DED Dubai"},{value:"DED Abu Dhabi",label:"DED Abu Dhabi"},{value:"DED Ajman",label:"DED Ajman"},{value:"DED Ras Al Khaimah",label:"DED Ras Al Khaimah"},{value:"DED Sharjah",label:"DED Sharjah"},{value:"DED Umm Al Quwain",label:"DED Umm Al Quwain"},{value:"DED Fujairah",label:"DED Fujairah"},{value:"DED Al Ain",label:"DED Al Ain"},{value:"DMCC",label:"DMCC"},{value:"DIFC",label:"DIFC"},{value:"JAFZA",label:"JAFZA"},{value:"IFZA",label:"IFZA"},{value:"Saif Zone",label:"Saif Zone"},{value:"Ajman Free Zone",label:"Ajman Free Zone"}],value:eP,onValueChange:e2(eE),placeholder:"Select a issuing authority",searchPlaceholder:"Search issuing authority..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Trade License/CR Issued Date *"}),(0,a.jsx)(t.Input,{type:"date",placeholder:"mm/dd/yyyy",value:q,onChange:e=>Q(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Trade License/CR Expiry Date"}),(0,a.jsx)(t.Input,{type:"date",placeholder:"mm/dd/yyyy",value:X,onChange:e=>ee(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"VAT Registration Number"}),(0,a.jsx)(t.Input,{placeholder:"Enter VAT Registration Number",value:ea,onChange:e=>es(e.target.value)})]}),(0,a.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,a.jsx)(i.Label,{children:"Tenancy Contract Expiry Date"}),(0,a.jsx)(t.Input,{type:"date",placeholder:"mm/dd/yyyy",value:el,onChange:e=>et(e.target.value)})]})]})]})}),(0,a.jsx)(L.TabsContent,{value:"operations",className:"mt-0",children:(0,a.jsxs)(d.Card,{className:"p-6 bg-blue-50/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(x.Globe,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h4",{className:"font-semibold",children:"Operations Information"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Entity Type *"}),(0,a.jsx)(n.Combobox,{options:[{value:"LLC",label:"LLC"},{value:"Sole Proprietorship",label:"Sole Proprietorship"},{value:"Partnership",label:"Partnership"},{value:"Govt. Entity",label:"Govt. Entity"},{value:"FZE",label:"FZE"},{value:"FZCO",label:"FZCO"},{value:"Private Limited",label:"Private Limited"},{value:"Public Limited",label:"Public Limited"}],value:e_,onValueChange:e2(eR),placeholder:"Select entity type",searchPlaceholder:"Search type..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Countries of Operation *"}),(0,a.jsx)(n.Combobox,{options:e,value:ew,onValueChange:e4(eF),multiple:!0,placeholder:"Select a country",searchPlaceholder:"Search country..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Business Activity *"}),(0,a.jsx)(n.Combobox,{options:[{value:"Accounting/Auditing Firm",label:"Accounting/Auditing Firm"},{value:"Bank/Financial Institute",label:"Bank/Financial Institute"},{value:"DPMS - Retail Store",label:"DPMS - Retail Store"},{value:"DPMS - Bullion Wholesale",label:"DPMS - Bullion Wholesale"},{value:"DPMS - Mining, Refining",label:"DPMS - Mining, Refining"},{value:"DPMS- Factory, Workshop, Goldsmith",label:"DPMS- Factory, Workshop, Goldsmith"},{value:"Real Estate",label:"Real Estate"},{value:"General Trading",label:"General Trading"},{value:"Education",label:"Education"},{value:"Other",label:"Other"}],value:eA,onValueChange:e2(eO),placeholder:"Select business activity",searchPlaceholder:"Search business activity..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Is entity dealing with Import/Export? *"}),(0,a.jsxs)(r.RadioGroup,{value:ed?"yes":"no",onValueChange:e=>eo("yes"===e),className:"flex gap-6 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.RadioGroupItem,{value:"yes",id:"import-yes"}),(0,a.jsx)(i.Label,{htmlFor:"import-yes",children:"Yes"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.RadioGroupItem,{value:"no",id:"import-no"}),(0,a.jsx)(i.Label,{htmlFor:"import-no",children:"No"})]})]})]}),(0,a.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,a.jsx)(i.Label,{children:"Any other sister concern/branch? *"}),(0,a.jsxs)(r.RadioGroup,{value:eY?"yes":"no",onValueChange:e=>eK("yes"===e),className:"flex gap-6 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.RadioGroupItem,{value:"yes",id:"sister-yes"}),(0,a.jsx)(i.Label,{htmlFor:"sister-yes",children:"Yes"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.RadioGroupItem,{value:"no",id:"sister-no"}),(0,a.jsx)(i.Label,{htmlFor:"sister-no",children:"No"})]})]})]}),(0,a.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,a.jsx)(i.Label,{children:"Account Holding Bank Name *"}),(0,a.jsx)(t.Input,{placeholder:"Enter bank name (max 50 characters)",value:eq,onChange:e=>eQ(e.target.value)})]})]})]})}),(0,a.jsx)(L.TabsContent,{value:"product",className:"mt-0",children:(0,a.jsxs)(d.Card,{className:"p-6 bg-blue-50/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(j.FileText,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h4",{className:"font-semibold",children:"Product Details"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Product Type *"}),(0,a.jsx)(n.Combobox,{options:b,value:eW,onValueChange:e4(eJ),multiple:!0,placeholder:"Select Product Type",searchPlaceholder:"Search type..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Product Source *"}),(0,a.jsx)(n.Combobox,{options:[{value:"B2B - Inside UAE",label:"B2B - Inside UAE"},{value:"B2C - Inside UAE",label:"B2C - Inside UAE"},{value:"B2B - Outside UAE",label:"B2B - Outside UAE"},{value:"Individual HRC",label:"Individual HRC"},{value:"Individual Non-HRC",label:"Individual Non-HRC"},{value:"B2B - Outside & Outside UAE",label:"B2B - Outside & Outside UAE"}],value:eB,onValueChange:e2(eG),placeholder:"Select product source",searchPlaceholder:"Search source..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Payment Mode *"}),(0,a.jsx)(n.Combobox,{options:[{value:"Cash",label:"Cash"},{value:"Debit/Credit Card-Cardholder name verified",label:"Debit/Credit Card-Cardholder name verified"},{value:"Bank Transfer-Inside UAE",label:"Bank Transfer-Inside UAE"},{value:"Bank Transfer-Outisde UAE",label:"Bank Transfer-Outisde UAE"},{value:"Parial Cash/Card/Online trs",label:"Parial Cash/Card/Online trs"},{value:"Old Gold Exchange",label:"Old Gold Exchange"},{value:"Cross Border Payment From HRC",label:"Cross Border Payment From HRC"},{value:"Others",label:"Others"}],value:ek,onValueChange:e2(eV),placeholder:"Select payment mode",searchPlaceholder:"Search mode..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Delivery Channel *"}),(0,a.jsx)(n.Combobox,{options:[{value:"Face to Face",label:"Face to Face"},{value:"Non Face to Face",label:"Non Face to Face"}],value:eU,onValueChange:e2(eM),placeholder:"Select delivery channel",searchPlaceholder:"Search channel..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Expected No of Transactions"}),(0,a.jsx)(t.Input,{type:"number",placeholder:"0",value:ei,onChange:e=>en(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Expected Volume"}),(0,a.jsx)(t.Input,{type:"number",placeholder:"0",value:er,onChange:e=>ec(e.target.value)})]}),(0,a.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,a.jsx)(i.Label,{children:"Deal with Goods? *"}),(0,a.jsxs)(r.RadioGroup,{value:eu?"yes":"no",onValueChange:e=>eh("yes"===e),className:"flex gap-6 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.RadioGroupItem,{value:"yes",id:"goods-yes"}),(0,a.jsx)(i.Label,{htmlFor:"goods-yes",children:"Yes"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.RadioGroupItem,{value:"no",id:"goods-no"}),(0,a.jsx)(i.Label,{htmlFor:"goods-no",children:"No"})]})]})]})]})]})}),(0,a.jsx)(L.TabsContent,{value:"aml",className:"mt-0",children:(0,a.jsxs)(d.Card,{className:"p-6 bg-blue-50/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(C.FileCheck,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h4",{className:"font-semibold",children:"AML Compliance Questionnaire"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"KYC documents collected with form *"}),(0,a.jsxs)(r.RadioGroup,{value:em?"yes":"no",onValueChange:e=>ex("yes"===e),className:"flex gap-6 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.RadioGroupItem,{value:"yes",id:"kyc-yes"}),(0,a.jsx)(i.Label,{htmlFor:"kyc-yes",children:"Yes"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.RadioGroupItem,{value:"no",id:"kyc-no"}),(0,a.jsx)(i.Label,{htmlFor:"kyc-no",children:"No"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Is entity registered in GOAML *"}),(0,a.jsxs)(r.RadioGroup,{value:ep?"yes":"no",onValueChange:e=>eb("yes"===e),className:"flex gap-6 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.RadioGroupItem,{value:"yes",id:"goaml-yes"}),(0,a.jsx)(i.Label,{htmlFor:"goaml-yes",children:"Yes"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.RadioGroupItem,{value:"no",id:"goaml-no"}),(0,a.jsx)(i.Label,{htmlFor:"goaml-no",children:"No"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Is Entity Having Material Match *"}),(0,a.jsx)("p",{className:"text-xs text-blue-600 mb-2",children:"We don't Check adverse news feed"}),(0,a.jsxs)(r.RadioGroup,{value:ev?"yes":"no",onValueChange:e=>ej("yes"===e),className:"flex gap-6 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.RadioGroupItem,{value:"yes",id:"material-yes"}),(0,a.jsx)(i.Label,{htmlFor:"material-yes",children:"Yes"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.RadioGroupItem,{value:"no",id:"material-no"}),(0,a.jsx)(i.Label,{htmlFor:"material-no",children:"No"})]})]})]})]})]})}),(0,a.jsx)(L.TabsContent,{value:"related",className:"mt-0",children:(0,a.jsxs)(d.Card,{className:"p-6 bg-blue-50/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(y.UsersIcon,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h4",{className:"font-semibold",children:"Partner/Representative/Authorized Person Details"})]}),T.map((s,c)=>(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h5",{className:"font-medium flex items-center gap-2",children:[(0,a.jsx)(o.User,{className:"w-4 h-4"}),"UBO ",c+1]}),T.length>1&&(0,a.jsx)(l.Button,{variant:"ghost",size:"sm",type:"button",onClick:()=>{var e;return e=s.id,void P(T.filter(a=>a.id!==e))},children:(0,a.jsx)(f.Trash2,{className:"w-4 h-4 text-red-500"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Type *"}),(0,a.jsx)(n.Combobox,{options:[{value:"Individual",label:"Individual"},{value:"Entity",label:"Entity"}],value:s.type,onValueChange:e=>"string"==typeof e&&w(s.id,"type",e),placeholder:"Select type",searchPlaceholder:"Search type..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Name *"}),(0,a.jsx)(t.Input,{placeholder:"Enter Name",value:s.name,onChange:e=>w(s.id,"name",e.target.value)})]}),(0,a.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,a.jsx)(i.Label,{children:"Previously Exposed Person (PEP)? *"}),(0,a.jsxs)(r.RadioGroup,{value:s.isPep?"yes":"no",onValueChange:e=>w(s.id,"isPep","yes"===e),className:"flex gap-6 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.RadioGroupItem,{value:"yes",id:`pep-yes-${s.id}`}),(0,a.jsx)(i.Label,{htmlFor:`pep-yes-${s.id}`,children:"Yes"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.RadioGroupItem,{value:"no",id:`pep-no-${s.id}`}),(0,a.jsx)(i.Label,{htmlFor:`pep-no-${s.id}`,children:"No"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Nationality"}),(0,a.jsx)(n.Combobox,{options:e,value:s.nationality,onValueChange:e=>"string"==typeof e&&w(s.id,"nationality",e),placeholder:"Select nationality",searchPlaceholder:"Search nationality..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"ID Type *"}),(0,a.jsx)(n.Combobox,{options:D,value:s.idType,onValueChange:e=>"string"==typeof e&&w(s.id,"idType",e),placeholder:"Passport",searchPlaceholder:"Search type..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"ID No/License No  *"}),(0,a.jsx)(t.Input,{placeholder:"Enter ID License No",value:s.idNo,onChange:e=>w(s.id,"idNo",e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"ID Issue Date *"}),(0,a.jsx)(t.Input,{type:"date",placeholder:"mm/dd/yyyy",value:s.idIssue,onChange:e=>w(s.id,"idIssue",e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"ID Expiry Date *"}),(0,a.jsx)(t.Input,{type:"date",placeholder:"mm/dd/yyyy",value:s.idExpiry,onChange:e=>w(s.id,"idExpiry",e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Date of Birth *"}),(0,a.jsx)(t.Input,{type:"date",placeholder:"mm/dd/yyyy",value:s.dob,onChange:e=>w(s.id,"dob",e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Role *"}),(0,a.jsx)(n.Combobox,{options:F,value:s.role,onValueChange:e=>"string"==typeof e&&w(s.id,"role",e),placeholder:"UBO",searchPlaceholder:"Search role..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Percentage of Share *"}),(0,a.jsx)(t.Input,{placeholder:"Enter Percentage (0-100)",value:s.ownershipPercentage,onChange:e=>w(s.id,"ownershipPercentage",e.target.value)})]})]})]},s.id)),(0,a.jsxs)(l.Button,{variant:"outline",type:"button",onClick:()=>{P([...T,{id:T.length+1,idType:"",role:"",type:"",name:"",isPep:!1,nationality:"",idNo:"",idIssue:"",idExpiry:"",dob:"",ownershipPercentage:""}])},className:"w-full bg-transparent",children:[(0,a.jsx)(N.Plus,{className:"w-4 h-4 mr-2"}),"Add Another Representative"]})]})}),(0,a.jsx)(L.TabsContent,{value:"documents",className:"mt-0",children:(0,a.jsxs)(d.Card,{className:"p-6 bg-blue-50/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(g.Upload,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h4",{className:"font-semibold",children:"Upload Documents"})]}),(0,a.jsxs)("div",{className:"border-2 border-dashed border-blue-300 rounded-lg p-8 text-center cursor-pointer",onClick:()=>R.current?.click(),children:[(0,a.jsx)(g.Upload,{className:"w-8 h-8 mx-auto mb-2 text-blue-600"}),(0,a.jsx)("p",{className:"text-sm text-blue-600 mb-1",children:"Add Documents"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Max 5 files, each up to 5MB (Images, PDFs, Docs)"}),(0,a.jsx)("input",{ref:R,type:"file",multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx,.xls,.xlsx,.csv,.txt,.gif,.bmp,.tiff,.svg,.webp,.heic",onChange:e=>{e.target.files&&_(Array.from(e.target.files).filter(e=>e.size<=5242880).slice(0,5))},className:"mt-2 hidden"}),(0,a.jsx)("div",{className:"mt-2 flex flex-col items-center gap-1",children:E.map((e,s)=>(0,a.jsxs)("span",{className:"text-xs text-gray-700",children:[e.name," (",(e.size/1024).toFixed(1)," KB)"]},s))})]})]})}),(0,a.jsx)(L.TabsContent,{value:"additional",className:"mt-0",children:(0,a.jsxs)(d.Card,{className:"p-6 bg-blue-50/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(j.FileText,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h4",{className:"font-semibold",children:"Additional Information"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Screening Fuzziness *"}),(0,a.jsx)(n.Combobox,{options:[{value:"OFF",label:"OFF"},{value:"Level 1",label:"Level 1"},{value:"Level 2",label:"Level 2"}],value:ez,onValueChange:e2(e$),placeholder:"OFF",searchPlaceholder:"Search fuzziness..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Remarks"}),(0,a.jsx)(c.Textarea,{placeholder:"Enter any remarks",rows:3,value:eH,onChange:e=>eZ(e.target.value)})]})]})]})}),(0,a.jsx)("div",{className:"sticky bottom-0 bg-white/95 backdrop-blur py-4 border-t mt-6",children:(0,a.jsx)(l.Button,{className:"w-full bg-blue-600 hover:bg-blue-700",type:"submit",children:"Submit Registration"})})]})]})]})}e.s(["default",()=>F])}]);